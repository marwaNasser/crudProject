"use strict";(self.webpackChunkcrud_task=self.webpackChunkcrud_task||[]).push([[179],{2011:(wt,Re,F)=>{F.d(Re,{Dh:()=>Ie,GT:()=>me,cc:()=>Oe,hO:()=>Ge,on:()=>G,pX:()=>ce,xv:()=>_e});var u=F(4650),te=F(1274),O=F(2088);wt=F.hmd(wt);const ue=["ngOnDestroy"],ce=(Ee,Et,Tt,Le={})=>new Proxy(Ee,{get:(be,ve)=>Tt.runOutsideAngular(()=>{var We;if(Ee[ve])return!(null===(We=Le?.spy)||void 0===We)&&We.get&&Le.spy.get(ve,Ee[ve]),Ee[ve];if(ue.indexOf(ve)>-1)return()=>{};const $e=Et.toPromise().then(it=>{const ie=it&&it[ve];return"function"==typeof ie?ie.bind(it):ie&&ie.then?ie.then(Ot=>Tt.run(()=>Ot)):Tt.run(()=>ie)});return new Proxy(()=>{},{get:(it,ie)=>$e[ie],apply:(it,ie,Ot)=>$e.then(ht=>{var Zt;const dt=ht&&ht(...Ot);return!(null===(Zt=Le?.spy)||void 0===Zt)&&Zt.apply&&Le.spy.apply(ve,Ot,dt),dt})})})}),me=(Ee,Et)=>{Et.forEach(Tt=>{Object.getOwnPropertyNames(Tt.prototype||Tt).forEach(Le=>{Object.defineProperty(Ee.prototype,Le,Object.getOwnPropertyDescriptor(Tt.prototype||Tt,Le))})})};class fe{constructor(Et){return Et}}const Ie=new u.OlP("angularfire2.app.options"),_e=new u.OlP("angularfire2.app.name");function G(Ee,Et,Tt){const be="object"==typeof Tt&&Tt||{};be.name=be.name||"string"==typeof Tt&&Tt||"[DEFAULT]";const We=te.Z.apps.filter($e=>$e&&$e.name===be.name)[0]||Et.runOutsideAngular(()=>te.Z.initializeApp(Ee,be));try{JSON.stringify(Ee)!==JSON.stringify(We.options)&&z("error",`${We.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(We)}const z=(Ee,...Et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ee](...Et)},K={provide:fe,useFactory:G,deps:[Ie,u.R0b,[new u.FiY,_e]]};let Ge=(()=>{class Ee{constructor(Tt){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",u.q4F.full,Tt.toString())}static initializeApp(Tt,Le){return{ngModule:Ee,providers:[{provide:Ie,useValue:Tt},{provide:_e,useValue:Le}]}}}return Ee.\u0275fac=function(Tt){return new(Tt||Ee)(u.LFG(u.Lbi))},Ee.\u0275mod=u.oAB({type:Ee}),Ee.\u0275inj=u.cJS({providers:[K]}),Ee})();function Oe(Ee,Et,Tt,Le,be){const[,ve,We]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===Ee)||[];if(ve)return function Te(Ee,Et){try{return Ee.toString()===Et.toString()}catch{return Ee===Et}}(be,We)||(Ce("error",`${Et} was already initialized on the ${Tt} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:be,was:We})),ve;{const $e=Le();return globalThis.\u0275AngularfireInstanceCache.push([Ee,$e,be]),$e}}const rt=!!wt.hot,Ce=(Ee,...Et)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ee](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(wt,Re,F)=>{F.d(Re,{q4:()=>tr,iC:()=>eu,HU:()=>Wa,vb:()=>lc,JM:()=>zf});var u=F(4650),te=F(8140),O=F(5861),ce=(F(7212),F(5578));function Jr(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}function Xo(){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(){try{yield(0,ce.eu)()}catch{return!1}return typeof window<"u"&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Yl(){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,O.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch{return!1}})).apply(this,arguments)}F(1617),F(1877);var Si=F(4408),ac=F(7565);const Jl=new class pr extends ac.v{}(class Yi extends Si.o{constructor(b,R){super(b,R),this.scheduler=b,this.work=R}schedule(b,R=0){return R>0?super.schedule(b,R):(this.delay=R,this.state=b,this.scheduler.flush(this),this)}execute(b,R){return R>0||this.closed?super.execute(b,R):this._execute(b,R)}requestAsyncId(b,R,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(b,R,P):(b.flush(this),0)}});var sr=F(4986),So=F(8505),sa=F(9468),Hr=F(5363);const tr=new u.GfV("7.4.0"),Ws="__angularfire_symbol__analyticsIsSupportedValue",oa="__angularfire_symbol__analyticsIsSupported",Xl="__angularfire_symbol__remoteConfigIsSupportedValue",Qi="__angularfire_symbol__remoteConfigIsSupported",Ji="__angularfire_symbol__messagingIsSupportedValue",gr="__angularfire_symbol__messagingIsSupported";function zf(E,b,R){if(b){if(1===b.length)return b[0];const Q=b.filter(ge=>ge.app===R);if(1===Q.length)return Q[0]}return R.container.getProvider(E).getImmediate({optional:!0})}globalThis[oa]||(globalThis[oa]=Yl().then(E=>globalThis[Ws]=E).catch(()=>globalThis[Ws]=!1)),globalThis[gr]||(globalThis[gr]=Xo().then(E=>globalThis[Ji]=E).catch(()=>globalThis[Ji]=!1)),globalThis[Qi]||(globalThis[Qi]=Jr().then(E=>globalThis[Xl]=E).catch(()=>globalThis[Xl]=!1));const lc=(E,b)=>{const R=b?[b]:(0,te.C6)(),P=[];return R.forEach(q=>{q.container.getProvider(E).instances.forEach(ge=>{P.includes(ge)||P.push(ge)})}),P};function To(){}class uc{constructor(b,R=Jl){this.zone=b,this.delegate=R}now(){return this.delegate.now()}schedule(b,R,P){const q=this.zone;return this.delegate.schedule(function(ge){q.runGuarded(()=>{b.apply(this,[ge])})},R,P)}}class Yt{constructor(b){this.zone=b,this.task=null}call(b,R){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),R.pipe((0,So.b)({next:P,complete:P,error:P})).subscribe(b).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wa=(()=>{class E{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new uc(Zone.current)),this.insideAngular=R.run(()=>new uc(Zone.current,sr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(R){return new(R||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function aa(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function eu(E){return aa(),function cc(E){return function(R){return(R=R.lift(new Yt(E.ngZone))).pipe((0,sa.R)(E.outsideAngular),(0,Hr.Q)(E.insideAngular))}}(aa())(E)}},5578:(wt,Re,F)=>{F.d(Re,{$s:()=>as,BH:()=>ve,G6:()=>ss,L:()=>_e,LL:()=>ye,Pz:()=>be,Sg:()=>We,UG:()=>ie,US:()=>me,ZB:()=>K,ZR:()=>ke,aH:()=>Le,b$:()=>Zt,eu:()=>ne,hl:()=>se,jU:()=>Ot,m9:()=>Yr,ne:()=>en,pd:()=>dr,r3:()=>Xn,ru:()=>ht,tV:()=>G,uI:()=>it,vZ:()=>Zr,w1:()=>Es,xO:()=>jo,xb:()=>vi,z$:()=>$e,zI:()=>Ae,zd:()=>wi});const ue=function(B){const U=[];let W=0;for(let de=0;de<B.length;de++){let ee=B.charCodeAt(de);ee<128?U[W++]=ee:ee<2048?(U[W++]=ee>>6|192,U[W++]=63&ee|128):55296==(64512&ee)&&de+1<B.length&&56320==(64512&B.charCodeAt(de+1))?(ee=65536+((1023&ee)<<10)+(1023&B.charCodeAt(++de)),U[W++]=ee>>18|240,U[W++]=ee>>12&63|128,U[W++]=ee>>6&63|128,U[W++]=63&ee|128):(U[W++]=ee>>12|224,U[W++]=ee>>6&63|128,U[W++]=63&ee|128)}return U},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,U){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let ee=0;ee<B.length;ee+=3){const Ze=B[ee],kt=ee+1<B.length,Bt=kt?B[ee+1]:0,dn=ee+2<B.length,Be=dn?B[ee+2]:0;let _n=(15&Bt)<<2|Be>>6,Ar=63&Be;dn||(Ar=64,kt||(_n=64)),de.push(W[Ze>>2],W[(3&Ze)<<4|Bt>>4],W[_n],W[Ar])}return de.join("")},encodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(B):this.encodeByteArray(ue(B),U)},decodeString(B,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(B):function(B){const U=[];let W=0,de=0;for(;W<B.length;){const ee=B[W++];if(ee<128)U[de++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Ze=B[W++];U[de++]=String.fromCharCode((31&ee)<<6|63&Ze)}else if(ee>239&&ee<365){const dn=((7&ee)<<18|(63&B[W++])<<12|(63&B[W++])<<6|63&B[W++])-65536;U[de++]=String.fromCharCode(55296+(dn>>10)),U[de++]=String.fromCharCode(56320+(1023&dn))}else{const Ze=B[W++],kt=B[W++];U[de++]=String.fromCharCode((15&ee)<<12|(63&Ze)<<6|63&kt)}}return U.join("")}(this.decodeStringToByteArray(B,U))},decodeStringToByteArray(B,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let ee=0;ee<B.length;){const Ze=W[B.charAt(ee++)],Bt=ee<B.length?W[B.charAt(ee)]:0;++ee;const Be=ee<B.length?W[B.charAt(ee)]:64;++ee;const Ct=ee<B.length?W[B.charAt(ee)]:64;if(++ee,null==Ze||null==Bt||null==Be||null==Ct)throw new fe;de.push(Ze<<2|Bt>>4),64!==Be&&(de.push(Bt<<4&240|Be>>2),64!==Ct&&de.push(Be<<6&192|Ct))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _e=function(B){return function(B){const U=ue(B);return me.encodeByteArray(U,!0)}(B).replace(/\./g,"")},G=function(B){try{return me.decodeString(B,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function K(B,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!Ge(W)||(B[W]=K(B[W],U[W]));return B}function Ge(B){return"__proto__"!==B}const Ee=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=B&&G(B[1]);return U&&JSON.parse(U)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Le=()=>{var B;return null===(B=Ee())||void 0===B?void 0:B.config},be=B=>{var U;return null===(U=Ee())||void 0===U?void 0:U[`_${B}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,de)=>{W?this.reject(W):this.resolve(de),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,de))}}}function We(B,U){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=U||"demo-project",ee=B.iat||0,Ze=B.sub||B.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:ee,exp:ee+3600,auth_time:ee,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},B);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(kt)),""].join(".")}function $e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function ie(){var B;const U=null===(B=Ee())||void 0===B?void 0:B.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ot(){return"object"==typeof self&&self.self===self}function ht(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Es(){const B=$e();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function ss(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((B,U)=>{try{let W=!0;const de="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(de);ee.onsuccess=()=>{ee.result.close(),W||self.indexedDB.deleteDatabase(de),B(!0)},ee.onupgradeneeded=()=>{W=!1},ee.onerror=()=>{var Ze;U((null===(Ze=ee.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(W){U(W)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ke extends Error{constructor(U,W,de){super(W),this.code=U,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(U,W,de){this.service=U,this.serviceName=W,this.errors=de}create(U,...W){const de=W[0]||{},ee=`${this.service}/${U}`,Ze=this.errors[U],kt=Ze?function ft(B,U){return B.replace(Pt,(W,de)=>{const ee=U[de];return null!=ee?String(ee):`<${de}?>`})}(Ze,de):"Error";return new ke(ee,`${this.serviceName}: ${kt} (${ee}).`,de)}}const Pt=/\{\$([^}]+)}/g;function Xn(B,U){return Object.prototype.hasOwnProperty.call(B,U)}function vi(B){for(const U in B)if(Object.prototype.hasOwnProperty.call(B,U))return!1;return!0}function Zr(B,U){if(B===U)return!0;const W=Object.keys(B),de=Object.keys(U);for(const ee of W){if(!de.includes(ee))return!1;const Ze=B[ee],kt=U[ee];if(Ui(Ze)&&Ui(kt)){if(!Zr(Ze,kt))return!1}else if(Ze!==kt)return!1}for(const ee of de)if(!W.includes(ee))return!1;return!0}function Ui(B){return null!==B&&"object"==typeof B}function jo(B){const U=[];for(const[W,de]of Object.entries(B))Array.isArray(de)?de.forEach(ee=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(ee))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(de));return U.length?"&"+U.join("&"):""}function wi(B){const U={};return B.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[ee,Ze]=de.split("=");U[decodeURIComponent(ee)]=decodeURIComponent(Ze)}}),U}function dr(B){const U=B.indexOf("?");if(!U)return"";const W=B.indexOf("#",U);return B.substring(U,W>0?W:void 0)}function en(B,U){const W=new st(B,U);return W.subscribe.bind(W)}class st{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(de=>{this.error(de)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,de){let ee;if(void 0===U&&void 0===W&&void 0===de)throw new Error("Missing Observer.");ee=function mn(B,U){if("object"!=typeof B||null===B)return!1;for(const W of U)if(W in B&&"function"==typeof B[W])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:de},void 0===ee.next&&(ee.next=os),void 0===ee.error&&(ee.error=os),void 0===ee.complete&&(ee.complete=os);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Ze}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function os(){}function as(B,U=1e3,W=2){const de=U*Math.pow(W,B),ee=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+ee)}function Yr(B){return B&&B._delegate?B._delegate:B}},6029:(wt,Re,F)=>{var u=F(4650);let te=null;function O(){return te}const fe=new u.OlP("DocumentToken");let Ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _e(){return(0,u.LFG)(z)}()},providedIn:"platform"}),n})();const G=new u.OlP("Location Initialized");let z=(()=>{class n extends Ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ge(){return new z((0,u.LFG)(fe))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rt(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Et)},providedIn:"root"}),n})();const Ee=new u.OlP("appBaseHref");let Et=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+rt(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+rt(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie),u.LFG(Ee,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tt=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+rt(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ie),u.LFG(Ee,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(We(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rt(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=rt,n.joinWithSlash=Oe,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(u.LFG(Ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return new Le((0,u.LFG)(Ce))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}let Zn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Ed,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ed{constructor(){this.$implicit=null,this.ngIf=null}}function fr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let yl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const vl="browser";function wl(n){return"server"===n}let bs=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Cl((0,u.LFG)(fe),window)}),n})();class Cl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Jr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Di(this.window.history)||Di(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Di(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qu extends class Tf extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){te||(te=n)}(new Qu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kl(){return Rl=Rl||document.querySelector("base"),Rl?Rl.getAttribute("href"):null}();return null==t?null:function Af(n){Nl=Nl||document.createElement("a"),Nl.setAttribute("href",n);const e=Nl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Nl,Rl=null;const Qo=new u.OlP("TRANSITION_ID"),Ju=[{provide:u.ip1,useFactory:function zd(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Qo,fe,u.zs3],multi:!0}];let Mf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const us=new u.OlP("EventManagerPlugins");let Pa=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(us),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class As{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let _o=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),cs=(()=>{class n extends _o{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ol),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ol))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Ol(n){O().remove(n)}const Fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bi=/%COMP%/g;function wo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?wo(n,i,t):(i=i.replace(bi,n),t.push(i))}return t}function Pl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ea(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Eo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new Rf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=wo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Pa),u.LFG(cs),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Va(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Va(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Fa[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Fa[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pl(r)):this.eventManager.addEventListener(e,t,Pl(r))}}function Va(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Eo extends ea{constructor(e,t,r,i){super(e),this.component=r;const a=wo(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function vo(n){return"_ngcontent-%COMP%".replace(bi,n)}(i+"-"+r.id),this.hostAttr=function La(n){return"_nghost-%COMP%".replace(bi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Rf extends ea{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=wo(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const p=document.createElement("style");p.textContent=a[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fl=(()=>{class n extends As{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const hs=["alt","control","meta","shift"],vm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tc=(()=>{class n extends As{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),hs.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),c+=C+".")}),c+=a,0!=r.length||0===a.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=vm[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hs.forEach(c=>{c!==i&&(0,Nn[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:vl},{provide:u.g9A,useValue:function Co(){Qu.makeCurrent()},multi:!0},{provide:fe,useFactory:function ta(){return(0,u.RDi)(document),document},deps:[]}]),Ba=new u.OlP(""),pn=[{provide:u.rWj,useClass:class Oa{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const p=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],nc=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Rr(){return new u.qLn},deps:[]},{provide:us,useClass:Fl,multi:!0,deps:[fe,u.R0b,u.Lbi]},{provide:us,useClass:tc,multi:!0,deps:[fe]},{provide:Xo,useClass:Xo,deps:[Pa,cs,u.AFp]},{provide:u.FYo,useExisting:Xo},{provide:_o,useExisting:cs},{provide:cs,useClass:cs,deps:[fe]},{provide:Pa,useClass:Pa,deps:[us,u.R0b]},{provide:class Dl{},useClass:Mf,deps:[]},[]];let Ul=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Qo,useExisting:u.AFp},Ju]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ba,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...nc,...pn],imports:[yl,u.hGG]}),n})(),Ff=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Pf(){return new Ff((0,u.LFG)(fe))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var on=F(8996),Zi=F(3269);function lt(...n){const e=(0,Zi.yG)(n);return(0,on.D)(n,e)}var wn=F(7579);class On extends wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const $a=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xr=F(9751);const{isArray:Zl}=Array,{getPrototypeOf:za,prototype:Do,keys:jr}=Object;function Kl(n){if(1===n.length){const e=n[0];if(Zl(e))return{args:e,keys:null};if(function Qn(n){return n&&"object"==typeof n&&za(n)===Do}(e)){const t=jr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ra=F(4671),Mt=F(4004);const{isArray:Yd}=Array;function Yl(n){return(0,Mt.U)(e=>function bo(n,e){return Yd(e)?n(...e):n(e)}(n,e))}function Ql(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Gn=F(5403),Qd=F(9672);function Ki(...n){const e=(0,Zi.yG)(n),t=(0,Zi.jO)(n),{args:r,keys:i}=Kl(n);if(0===r.length)return(0,on.D)([],e);const a=new Xr.y(function oc(n,e,t=ra.y){return r=>{Io(e,()=>{const{length:i}=n,a=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)Io(e,()=>{const C=(0,on.D)(n[_],e);let S=!1;C.subscribe((0,Gn.x)(r,x=>{a[_]=x,S||(S=!0,p--),p||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ql(i,c):ra.y));return t?a.pipe(Yl(t)):a}function Io(n,e,t){n?(0,Qd.f)(t,n,e):e()}var ia=F(8189);function Rs(...n){return function Bf(){return(0,ia.J)(1)}()((0,on.D)(n,(0,Zi.yG)(n)))}var ks=F(8421);function Ga(n){return new Xr.y(e=>{(0,ks.Xf)(n()).subscribe(e)})}var Jd=F(9635),qa=F(576);function Si(n,e){const t=(0,qa.m)(n)?n:()=>n,r=i=>i.error(t());return new Xr.y(e?i=>e.schedule(r,0,i):r)}var Yi=F(515),ac=F(727),pr=F(4482);function Jl(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jf extends Xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ac.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ac.w0.EMPTY)}return e}refCount(){return Jl()(this)}}function sr(n,e){return(0,pr.e)((t,r)=>{let i=null,a=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Gn.x)(r,_=>{i?.unsubscribe();let C=0;const S=a++;(0,ks.Xf)(n(_,S)).subscribe(i=(0,Gn.x)(r,x=>r.next(e?e(_,x,S,C++):x),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function So(n){return n<=0?()=>Yi.E:(0,pr.e)((e,t)=>{let r=0;e.subscribe((0,Gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sa(...n){const e=(0,Zi.yG)(n);return(0,pr.e)((t,r)=>{(e?Rs(n,t,e):Rs(n,t)).subscribe(r)})}function Hr(n,e){return(0,pr.e)((t,r)=>{let i=0;t.subscribe((0,Gn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var tr=F(5577);function Ws(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function oa(n=Xl){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Xl(){return new $a}function Qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,a)=>n(i,a,r)):ra.y,So(1),t?Ws(e):oa(()=>new $a))}function Ji(n,e){return(0,qa.m)(e)?(0,tr.z)(n,e,1):(0,tr.z)(n,1)}var gr=F(8505);function fs(n){return(0,pr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,c=>{a=(0,ks.Xf)(n(c,fs(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Hf(n,e,t,r,i){return(a,c)=>{let p=t,_=e,C=0;a.subscribe((0,Gn.x)(c,S=>{const x=C++;_=p?n(_,S,x):(p=!0,S),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}function Zs(n,e){return(0,pr.e)(Hf(n,e,arguments.length>=2,!0))}function $f(n){return n<=0?()=>Yi.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hr((i,a)=>n(i,a,r)):ra.y,$f(1),t?Ws(e):oa(()=>new $a))}function uc(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Yt="primary",Wa=Symbol("RouteTitle");class aa{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new aa(n)}function Ks(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],p=n[a];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ps(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!eu(n[i],e[i]))return!1;return!0}function eu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function cc(n){return Array.prototype.concat.apply([],n)}function Xi(n){return n.length>0?n[n.length-1]:null}function E(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function b(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,on.D)(Promise.resolve(n)):lt(n)}const R=!1,q={exact:function ze(n,e,t){if(!Er(n.segments,e.segments)||!kr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ze(n.children[r],e.children[r],t))return!1;return!0},subset:_t},Q={exact:function Ke(n,e){return ps(n,e)},subset:function gt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eu(n[t],e[t]))},ignored:()=>!0};function ge(n,e,t){return q[t.paths](n.root,e.root,t.matrixParams)&&Q[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _t(n,e,t){return Lt(n,e,e.segments,t)}function Lt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Er(i,t)||e.hasChildren()||!kr(i,t,r))}if(n.segments.length===t.length){if(!Er(n.segments,t)||!kr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!_t(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Er(n.segments,i)&&kr(n.segments,i,r)&&n.children[Yt])&&Lt(n.children[Yt],e,a,r)}}function kr(n,e,t){return e.every((r,i)=>Q[t](n[i].parameters,r.parameters))}class En{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return Cm.serialize(this)}}class yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,E(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gf(this)}}class es{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return Dm(this)}}function Er(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new dc},providedIn:"root"}),n})();class dc{parse(e){const t=new fc(e);return new En(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${la(e.root,!0)}`,r=function jy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Za(t)}=${Za(i)}`).join("&"):`${Za(t)}=${Za(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function eh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cm=new dc;function Gf(n){return n.segments.map(e=>Dm(e)).join("/")}function la(n,e){if(!n.hasChildren())return Gf(n);if(e){const t=n.children[Yt]?la(n.children[Yt],!1):"",r=[];return E(n.children,(i,a)=>{a!==Yt&&r.push(`${a}:${la(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Os(n,e){let t=[];return E(n.children,(r,i)=>{i===Yt&&(t=t.concat(e(r,i)))}),E(n.children,(r,i)=>{i!==Yt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Yt?[la(n.children[Yt],!1)]:[`${i}:${la(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yt]?`${Gf(n)}/${t[0]}`:`${Gf(n)}/(${t.join("//")})`}}function qf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Za(n){return qf(n).replace(/%3B/gi,";")}function nu(n){return qf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function th(n){return decodeURIComponent(n)}function Wf(n){return th(n.replace(/\+/g,"%20"))}function Dm(n){return`${nu(n.path)}${function hc(n){return Object.keys(n).map(e=>`;${nu(e)}=${nu(n[e])}`).join("")}(n.parameters)}`}const bm=/^[^\/()?;=#]+/;function ru(n){const e=n.match(bm);return e?e[0]:""}const Im=/^[^=?&#]+/,hE=/^[^&#]+/;class fc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Yt]=new yt(e,t)),r}parseSegment(){const e=ru(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,R);return this.capture(e),new es(th(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ru(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ru(this.remaining);i&&(r=i,this.capture(r))}e[th(t)]=th(r)}parseQueryParam(e){const t=function ua(n){const e=n.match(Im);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function iu(n){const e=n.match(hE);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Wf(t),a=Wf(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ru(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,R);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Yt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Yt]:new yt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,R)}}function nh(n){return n.segments.length>0?new yt([],{[Yt]:n}):n}function su(n){const e={};for(const r of Object.keys(n.children)){const a=su(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Zf(n){if(1===n.numberOfChildren&&n.children[Yt]){const e=n.children[Yt];return new yt(n.segments.concat(e.segments),e.children)}return n}(new yt(n.segments,e))}function Ka(n){return n instanceof En}function $y(n,e,t,r,i){if(0===t.length)return Qa(e.root,e.root,e.root,r,i);const a=function ih(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const p={};return E(a.outlets,(_,C)=>{p[C]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,a]},[]);return new Yf(t,e,r)}(t);return a.toRoot()?Qa(e.root,e.root,new yt([],{}),r,i):function c(_){const C=function Ao(n,e,t,r){if(n.isAbsolute)return new Ja(e.root,!0,0);if(-1===r)return new Ja(t,t===e.root,0);return function gc(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,!1);i=r.segments.length}return new Ja(r,!1,i-a)}(t,r+(ou(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),S=C.processChildren?Xa(C.segmentGroup,C.index,a.commands):Qf(C.segmentGroup,C.index,a.commands);return Qa(e.root,C.segmentGroup,S,r,i)}(n.snapshot?._lastPathIndex)}function ou(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ya(n){return"object"==typeof n&&null!=n&&n.outlets}function Qa(n,e,t,r,i){let c,a={};r&&E(r,(_,C)=>{a[C]=Array.isArray(_)?_.map(S=>`${S}`):`${_}`}),c=n===e?t:rh(n,e,t);const p=nh(su(c));return new En(p,a,i)}function rh(n,e,t){const r={};return E(n.children,(i,a)=>{r[a]=i===e?t:rh(i,e,t)}),new yt(n.segments,r)}class Yf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ou(r[0]))throw new u.vHH(4003,!1);const i=r.find(Ya);if(i&&i!==Xi(r))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ja{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qf(n,e,t){if(n||(n=new yt([],{})),0===n.segments.length&&n.hasChildren())return Xa(n,e,t);const r=function sh(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],p=t[r];if(Ya(p))break;const _=`${p}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!Xf(_,C,c))return a;r+=2}else{if(!Xf(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new yt(n.segments.slice(0,r.pathIndex),{});return a.children[Yt]=new yt(n.segments.slice(r.pathIndex),n.children),Xa(a,0,i)}return r.match&&0===i.length?new yt(n.segments,{}):r.match&&!n.hasChildren()?Jf(n,e,t):r.match?Xa(n,0,i):Jf(n,e,t)}function Xa(n,e,t){if(0===t.length)return new yt(n.segments,{});{const r=function Tm(n){return Ya(n[0])?n[0].outlets:{[Yt]:n}}(t),i={};return E(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=Qf(n.children[c],e,a))}),E(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new yt(n.segments,i)}}function Jf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Ya(a)){const _=Am(a.outlets);return new yt(r,_)}if(0===i&&ou(t[0])){r.push(new es(n.segments[e].path,oh(t[0]))),i++;continue}const c=Ya(a)?a.outlets[Yt]:`${a}`,p=i<t.length-1?t[i+1]:null;c&&p&&ou(p)?(r.push(new es(c,oh(p))),i+=2):(r.push(new es(c,{})),i++)}return new yt(r,{})}function Am(n){const e={};return E(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Jf(new yt([],{}),0,t))}),e}function oh(n){const e={};return E(n,(t,r)=>e[r]=`${t}`),e}function Xf(n,e,t){return n==t.path&&ps(e,t.parameters)}class Ps{constructor(e,t){this.id=e,this.url=t}}class ah extends Ps{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qs extends Ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fs extends Ps{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ep extends Ps{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lh extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tp extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class np extends Ps{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mc extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zy extends Ps{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rp{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ip{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sp{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class op{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ap{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class au{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ch(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ch(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mm(e,this._root).map(t=>t.value)}}function ch(n,e){if(n===e.value)return e;for(const t of e.children){const r=ch(n,t);if(r)return r}return null}function Mm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mm(n,t);if(r.length)return r.unshift(e),r}return[]}class Ls{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Js(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xm extends lu{constructor(e,t){super(e),this.snapshot=t,ph(this,e)}toString(){return this.snapshot.toString()}}function dh(n,e){const t=function hh(n,e){const c=new _c([],{},{},"",{},Yt,e,null,n.root,-1,{});return new lp("",new Ls(c,[]))}(n,e),r=new On([new es("",{})]),i=new On({}),a=new On({}),c=new On({}),p=new On(""),_=new ei(r,i,c,p,a,Yt,e,t.root);return _.snapshot=t.root,new xm(new Ls(_,[]),t)}class ei{constructor(e,t,r,i,a,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,Mt.U)(C=>C[Wa]))??lt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>Ns(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>Ns(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function Rm(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _c{constructor(e,t,r,i,a,c,p,_,C,S,x,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=p,this.title=this.data?.[Wa],this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=S,this._correctedLastPathIndex=V??S,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lp extends lu{constructor(e,t){super(t),this.url=e,ph(this,t)}toString(){return fi(this._root)}}function ph(n,e){e.value._routerState=n,e.children.forEach(t=>ph(n,t))}function fi(n){const e=n.children.length>0?` { ${n.children.map(fi).join(", ")} } `:"";return`${n.value}${e}`}function yc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ps(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ps(e.params,t.params)||n.params.next(t.params),function Xd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ps(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vc(n,e){const t=ps(n.params,e.params)&&function Ys(n,e){return Er(n,e)&&n.every((t,r)=>ps(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vc(n.parent,e.parent))}function mr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Mo(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return mr(n,r,i);return mr(n,r)})}(n,e,t);return new Ls(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>mr(n,p)),c}}const r=function km(n){return new ei(new On(n.url),new On(n.params),new On(n.queryParams),new On(n.fragment),new On(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>mr(n,a));return new Ls(r,i)}}const up="ngNavigationCancelingError";function qy(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cp(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function cp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[up]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Wy(n){return Zy(n)&&Ka(n.url)}function Zy(n){return n&&n[up]}class Nm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wc,this.attachRef=null}}let wc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y=!1;let f=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=i||Yt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,y);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,y);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,y);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,y);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new g(t,p,i.injector);if(r&&function w(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(c);this.activated=i.createComponent(C,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class g{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ei?this.route:e===wc?this.childContexts:this.parent.get(e,t)}}let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[f],encapsulation:2}),n})();function k(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ec(n){const e=n.children&&n.children.map(Ec),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yt&&(t.component=T),t}function gs(n){return n.outlet||Yt}function Cc(n,e){const t=n.filter(r=>gs(r)===e);return t.push(...n.filter(r=>gs(r)!==e)),t}function uu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class dp{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Js(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),E(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Js(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Js(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Js(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new au(a.value.snapshot))}),e.children.length&&this.forwardEvent(new op(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(yc(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),yc(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=uu(i.snapshot),_=p?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class hp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cu{constructor(e,t){this.component=e,this.route=t}}function du(n,e,t){const r=n._root;return el(r,e?e._root:null,t,[r.value])}function ca(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function el(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Js(e);return n.children.forEach(c=>{(function _r(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function eS(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Er(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Er(n.url,e.url)||!ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vc(n,e)||!ps(n.queryParams,e.queryParams);default:return!vc(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new hp(r)):(a.data=c.data,a._resolvedData=c._resolvedData),el(n,e,a.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new cu(p.outlet.component,c))}else c&&fp(e,p,i),i.canActivateChecks.push(new hp(r)),el(n,null,a.component?p?p.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),E(a,(c,p)=>fp(c,t.getContext(p),i)),i}function fp(n,e,t){const r=Js(n),i=n.value;E(r,(a,c)=>{fp(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new cu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Dc(n){return"function"==typeof n}function bc(n){return n instanceof $a||"EmptyError"===n?.name}const gh=Symbol("INITIAL_VALUE");function Ic(){return sr(n=>Ki(n.map(e=>e.pipe(So(1),sa(gh)))).pipe((0,Mt.U)(e=>{for(const t of e)if(!0!==t){if(t===gh)return gh;if(!1===t||t instanceof En)return t}return!0}),Hr(e=>e!==gh),So(1)))}function Qy(n){return(0,Jd.z)((0,gr.b)(e=>{if(Ka(e))throw qy(0,e)}),(0,Mt.U)(e=>!0===e))}const tl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wE(n,e,t,r,i){const a=pp(n,e,t);return a.matched?function vE(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(c=>{const p=ca(c,n);return b(function sS(n){return n&&Dc(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Ic(),Qy()):lt(!0)}(r=k(e,r),e,t).pipe((0,Mt.U)(c=>!0===c?a:{...tl})):lt(a)}function pp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...tl}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ks)(t,n,e);if(!i)return{...tl};const a={};E(i.posParams,(p,_)=>{a[_]=p.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Sc(n,e,t,r,i="corrected"){if(t.length>0&&function Fm(n,e,t){return t.some(r=>gp(n,e,r)&&gs(r)!==Yt)}(n,t,r)){const c=new yt(e,function Jy(n,e,t,r){const i={};i[Yt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&gs(a)!==Yt){const c=new yt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[gs(a)]=c}return i}(n,e,r,new yt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Tc(n,e,t){return t.some(r=>gp(n,e,r))}(n,t,r)){const c=new yt(n.segments,function lS(n,e,t,r,i,a){const c={};for(const p of r)if(gp(n,t,p)&&!i[gs(p)]){const _=new yt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[gs(p)]=_}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new yt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function gp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Lm(n,e,t,r){return!!(gs(n)===r||r!==Yt&&gp(e,t,n))&&("**"===n.path||pp(e,n,t).matched)}function EE(n,e,t){return 0===e.length&&!n.children[t]}const Vm=!1;class mp{constructor(e){this.segmentGroup=e||null}}class Ac{constructor(e){this.urlTree=e}}function _p(n){return Si(new mp(n))}function CE(n){return Si(new Ac(n))}class dS{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Sc(this.urlTree.root,[],[],this.config).segmentGroup,t=new yt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Yt).pipe((0,Mt.U)(a=>this.createUrlTree(su(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fs(a=>{if(a instanceof Ac)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof mp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Yt).pipe((0,Mt.U)(i=>this.createUrlTree(su(i),e.queryParams,e.fragment))).pipe(fs(i=>{throw i instanceof mp?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,Vm)}createUrlTree(e,t,r){const i=nh(e);return new En(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Mt.U)(a=>new yt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,on.D)(i).pipe(Ji(a=>{const c=r.children[a],p=Cc(t,a);return this.expandSegmentGroup(e,p,c,a).pipe((0,Mt.U)(_=>({segment:_,outlet:a})))}),Zs((a,c)=>(a[c.outlet]=c.segment,a),{}),zf())}expandSegment(e,t,r,i,a,c){return(0,on.D)(r).pipe(Ji(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,a,c).pipe(fs(C=>{if(C instanceof mp)return lt(null);throw C}))),Qi(p=>!!p),fs((p,_)=>{if(bc(p))return EE(t,i,a)?lt(new yt([],{})):_p(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,a,c,p){return Lm(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):_p(t):_p(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?CE(a):this.lineralizeSegments(r,a).pipe((0,tr.z)(c=>{const p=new yt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:p,consumedSegments:_,remainingSegments:C,positionalParamSegments:S}=pp(t,i,a);if(!p)return _p(t);const x=this.applyRedirectCommands(_,i.redirectTo,S);return i.redirectTo.startsWith("/")?CE(x):this.lineralizeSegments(i,x).pipe((0,tr.z)(V=>this.expandSegment(e,t,r,V.concat(C),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=k(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Mt.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new yt(i,{})))):lt(new yt(i,{}))):wE(t,r,i,e).pipe(sr(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,tr.z)(S=>{const x=S.injector??e,V=S.routes,{segmentGroup:j,slicedSegments:J}=Sc(t,p,_,V),le=new yt(j.segments,j.children);if(0===J.length&&le.hasChildren())return this.expandChildren(x,V,le).pipe((0,Mt.U)(at=>new yt(p,at)));if(0===V.length&&0===J.length)return lt(new yt(p,{}));const he=gs(r)===a;return this.expandSegment(x,le,V,J,he?Yt:a,!0).pipe((0,Mt.U)(et=>new yt(p.concat(et.segments),et.children)))})):_p(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Yy(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(c=>{const p=ca(c,n);return b(function tS(n){return n&&Dc(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Ic(),Qy())}(e,t,r).pipe((0,tr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,gr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function cS(n){return Si(cp(Vm,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Yt])return Si(new u.vHH(4e3,Vm));i=i.children[Yt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new En(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return E(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[a]=t[p]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return E(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new yt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,Vm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class bE{}class yp{constructor(e,t,r,i,a,c,p,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=_}recognize(){const e=Sc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Yt).pipe((0,Mt.U)(t=>{if(null===t)return null;const r=new _c([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ls(r,t),a=new lp(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=fh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(Ji(i=>{const a=r.children[i],c=Cc(t,i);return this.processSegmentGroup(e,c,a,i)}),Zs((i,a)=>i&&a?(i.push(...a),i):null),function lc(n,e=!1){return(0,pr.e)((t,r)=>{let i=0;t.subscribe((0,Gn.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),Ws(null),zf(),(0,Mt.U)(i=>{if(null===i)return null;const a=IE(i);return function fS(n){n.sort((e,t)=>e.value.outlet===Yt?-1:t.value.outlet===Yt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,on.D)(t).pipe(Ji(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),Qi(c=>!!c),fs(c=>{if(bc(c))return EE(r,i,a)?lt([]):lt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Lm(t,r,i,a))return lt(null);let c;if("**"===t.path){const p=i.length>0?Xi(i).parameters:{},_=SE(r)+i.length;c=lt({snapshot:new _c(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AE(t),gs(t),t.component??t._loadedComponent??null,t,ev(r),_,tv(t),_),consumedSegments:[],remainingSegments:[]})}else c=wE(r,t,i,e).pipe((0,Mt.U)(({matched:p,consumedSegments:_,remainingSegments:C,parameters:S})=>{if(!p)return null;const x=SE(r)+_.length;return{snapshot:new _c(_,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,AE(t),gs(t),t.component??t._loadedComponent??null,t,ev(r),x,tv(t),x),consumedSegments:_,remainingSegments:C}}));return c.pipe(sr(p=>{if(null===p)return lt(null);const{snapshot:_,consumedSegments:C,remainingSegments:S}=p;e=t._injector??e;const x=t._loadedInjector??e,V=function mh(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:j,slicedSegments:J}=Sc(r,C,S,V.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution);if(0===J.length&&j.hasChildren())return this.processChildren(x,V,j).pipe((0,Mt.U)(he=>null===he?null:[new Ls(_,he)]));if(0===V.length&&0===J.length)return lt([new Ls(_,[])]);const le=gs(t)===a;return this.processSegment(x,V,j,J,le?Yt:a).pipe((0,Mt.U)(he=>null===he?null:[new Ls(_,he)]))}))}}function vp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function IE(n){const e=[],t=new Set;for(const r of n){if(!vp(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=IE(r.children);e.push(new Ls(r.value,i))}return e.filter(r=>!t.has(r))}function ev(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function SE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function AE(n){return n.data||{}}function tv(n){return n.resolve||{}}function xE(n){return"string"==typeof n.title||null===n.title}function sv(n){return sr(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,Mt.U)(()=>e)):lt(e)})}let RE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Yt);return r}getResolvedTitleForRoute(t){return t.data[Wa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(kE)},providedIn:"root"}),n})(),kE=(()=>{class n extends RE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ff))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gS{}class _h extends class mS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Bm=new u.OlP("",{providedIn:"root",factory:()=>({})}),OE=new u.OlP("ROUTES");let PE=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=b(t.loadComponent()).pipe((0,gr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),uc(()=>{this.componentLoaders.delete(t)})),i=new jf(r,()=>new wn.x).pipe(Jl());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Mt.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C,S=!1;Array.isArray(p)?C=p:(_=p.create(t).injector,C=cc(_.get(OE,[],u.XFs.Self|u.XFs.Optional)));return{routes:C.map(Ec),injector:_}}),uc(()=>{this.childrenLoaders.delete(r)})),c=new jf(a,()=>new wn.x).pipe(Jl());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return b(t()).pipe((0,tr.z)(r=>r instanceof u.YKP||Array.isArray(r)?lt(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FE{}class _k{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yk(n){throw n}function LE(n,e,t){return e.parse("/")}const _S={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function UE(){const n=(0,u.f3M)(tu),e=(0,u.f3M)(wc),t=(0,u.f3M)(Le),r=(0,u.f3M)(u.zs3),i=(0,u.f3M)(u.Sil),a=(0,u.f3M)(OE,{optional:!0})??[],c=(0,u.f3M)(Bm,{optional:!0})??{},p=(0,u.f3M)(kE),_=(0,u.f3M)(RE,{optional:!0}),C=(0,u.f3M)(FE,{optional:!0}),S=(0,u.f3M)(gS,{optional:!0}),x=new xn(null,n,e,t,r,i,cc(a));return C&&(x.urlHandlingStrategy=C),S&&(x.routeReuseStrategy=S),x.titleStrategy=_??p,function yS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,x),x}let xn=(()=>{class n{constructor(t,r,i,a,c,p,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wn.x,this.errorHandler=yk,this.malformedUriErrorHandler=LE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new _k,this.routeReuseStrategy=new _h,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(PE),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new ip(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new rp(V)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const x=c.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function P(){return new En(new yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dh(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Hr(i=>0!==i.id),(0,Mt.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),sr(i=>{let a=!1,c=!1;return lt(i).pipe((0,gr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),sr(p=>{const _=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ov(p.source)&&(this.browserUrlTree=p.extractedUrl),lt(p).pipe(sr(x=>{const V=this.transitions.getValue();return r.next(new ah(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),V!==this.transitions.getValue()?Yi.E:Promise.resolve(x)}),function DE(n,e,t,r){return sr(i=>function Xy(n,e,t,r,i){return new dS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Mt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gr.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function ME(n,e,t,r,i,a){return(0,tr.z)(c=>function hS(n,e,t,r,i,a,c="emptyOnly",p="legacy"){return new yp(n,e,t,r,i,c,p,a).recognize().pipe(sr(_=>null===_?function pk(n){return new Xr.y(e=>e.error(n))}(new bE):lt(_)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,a).pipe((0,Mt.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gr.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(j,x)}this.browserUrlTree=x.urlAfterRedirects}const V=new lh(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(V)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:j,source:J,restoredState:le,extras:he}=p,He=new ah(V,this.serializeUrl(j),J,le);r.next(He);const et=dh(j,this.rootComponentType).snapshot;return lt(i={...p,targetSnapshot:et,urlAfterRedirects:j,extras:{...he,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),Yi.E}),(0,gr.b)(p=>{const _=new tp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),(0,Mt.U)(p=>i={...p,guards:du(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function gE(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?lt({...t,guardsResult:!0}):function mE(n,e,t,r){return(0,on.D)(n).pipe((0,tr.z)(i=>function aS(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?lt(a.map(p=>{const _=uu(e)??i,C=ca(p,_);return b(function iS(n){return n&&Dc(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(Qi())})).pipe(Ic()):lt(!0)}(i.component,i.route,t,e,r)),Qi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,tr.z)(p=>p&&function pE(n){return"boolean"==typeof n}(p)?function oS(n,e,t,r){return(0,on.D)(e).pipe(Ji(i=>Rs(function yE(n,e){return null!==n&&e&&e(new sp(n)),lt(!0)}(i.route.parent,r),function _E(n,e){return null!==n&&e&&e(new ap(n)),lt(!0)}(i.route,r),function fk(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Pm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ga(()=>lt(c.guards.map(_=>{const C=uu(c.node)??t,S=ca(_,C);return b(function rS(n){return n&&Dc(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe(Qi())})).pipe(Ic())));return lt(a).pipe(Ic())}(n,i.path,t),function Ky(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(a=>Ga(()=>{const c=uu(e)??t,p=ca(a,c);return b(function nS(n){return n&&Dc(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(Qi())}));return lt(i).pipe(Ic())}(n,i.route,t))),Qi(i=>!0!==i,!0))}(r,a,n,e):lt(p)),(0,Mt.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,gr.b)(p=>{if(i.guardsResult=p.guardsResult,Ka(p.guardsResult))throw qy(0,p.guardsResult);const _=new np(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(_)}),Hr(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),sv(p=>{if(p.guards.canActivateChecks.length)return lt(p).pipe((0,gr.b)(_=>{const C=new mc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),sr(_=>{let C=!1;return lt(_).pipe(function nv(n,e){return(0,tr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);let a=0;return(0,on.D)(i).pipe(Ji(c=>function rv(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!xE(i)&&(a[Wa]=i.title),function pS(n,e,t,r){const i=function iv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return lt({});const a={};return(0,on.D)(i).pipe((0,tr.z)(c=>function wp(n,e,t,r){const i=uu(e)??r,a=ca(n,i);return b(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(Qi(),(0,gr.b)(p=>{a[c]=p}))),$f(1),function To(n){return(0,Mt.U)(()=>n)}(a),fs(c=>bc(c)?Yi.E:Si(c)))}(a,n,e,r).pipe((0,Mt.U)(c=>(n._resolvedData=c,n.data=fh(n,t).resolve,i&&xE(i)&&(n.data[Wa]=i.title),null)))}(c.route,r,n,e)),(0,gr.b)(()=>a++),$f(1),(0,tr.z)(c=>a===i.length?lt(t):Yi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gr.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,gr.b)(_=>{const C=new zy(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),sv(p=>{const _=C=>{const S=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,gr.b)(x=>{C.component=x}),(0,Mt.U)(()=>{})));for(const x of C.children)S.push(..._(x));return S};return Ki(_(p.targetSnapshot.root)).pipe(Ws(),So(1))}),sv(()=>this.afterPreactivation()),(0,Mt.U)(p=>{const _=function Gy(n,e,t){const r=mr(n,e._root,t?t._root:void 0);return new xm(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:_}}),(0,gr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Mt.U)(r=>(new dp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,gr.b)({next(){a=!0},complete(){a=!0}}),uc(()=>{a||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),fs(p=>{if(c=!0,Zy(p)){Wy(p)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new Fs(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(_),Wy(p)){const C=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),S={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ov(i.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new ep(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(p))}catch(C){i.reject(C)}}return Yi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const p={...a};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ec),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,C=i||this.routerState.root,S=_?this.currentUrlTree.fragment:c;let x=null;switch(p){case"merge":x={...this.currentUrlTree.queryParams,...a};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),$y(C,this.currentUrlTree,t,x,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ka(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vS(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{..._S}:!1===r?{...VE}:r,Ka(t))return ge(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ge(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Qs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let p,_,C;c?(p=c.resolve,_=c.reject,C=c.promise):C=new Promise((V,j)=>{p=V,_=j});const S=++this.navigationId;let x;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),x=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):x=0,this.setTransition({id:S,targetPageId:x,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:p,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Fs(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return UE()},providedIn:"root"}),n})();function ov(n){return"imperative"!==n}let av=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new wn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xn),u.Y36(ei),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),yh=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new wn.x,this.subscription=t.events.subscribe(a=>{a instanceof Qs&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){return!!(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xn),u.Y36(ei),u.Y36(Ce))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})(),BE=(()=>{class n{constructor(t,r,i,a,c,p){this.router=t,this.element=r,this.renderer=i,this.cdr=a,this.link=c,this.linkWithHref=p,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof Qs&&this.update()})}ngAfterContentInit(){lt(this.links.changes,this.linksWithHrefs.changes,lt(null)).pipe((0,ia.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,on.D)(t).pipe((0,ia.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function wS(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xn),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(av,8),u.Y36(yh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,av,5),u.Suo(i,yh,5)),2&t){let a;u.iGM(a=u.CRH())&&(r.links=a),u.iGM(a=u.CRH())&&(r.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),n})();class lv{}let ES=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Hr(t=>t instanceof Qs),Ji(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,p=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(p,a.children??a._loadedRoutes))}return(0,on.D)(i).pipe((0,ia.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const a=i.pipe((0,tr.z)(c=>null===c?lt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,on.D)([a,c]).pipe((0,ia.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(lv),u.LFG(PE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zt=new u.OlP("");let uv=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ah?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof uh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new uh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function vh(n,e){return{\u0275kind:n,\u0275providers:e}}function jm(n){return[{provide:OE,multi:!0,useValue:n}]}function cv(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(xn),i=n.get(HE);1===n.get(dv)&&r.initialNavigation(),n.get(hu,null,u.XFs.Optional)?.setUpPreloading(),n.get(zt,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const HE=new u.OlP("",{factory:()=>new wn.x}),dv=new u.OlP("",{providedIn:"root",factory:()=>1});const hu=new u.OlP("");function DS(n){return vh(0,[{provide:hu,useExisting:ES},{provide:lv,useExisting:n}])}const bS=new u.OlP("ROUTER_FORROOT_GUARD"),bk=[Le,{provide:tu,useClass:dc},{provide:xn,useFactory:UE},wc,{provide:ei,useFactory:function jE(n){return n.routerState.root},deps:[xn]},PE];function Ik(){return new u.PXZ("Router",xn)}let qE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[bk,[],jm(t),{provide:bS,useFactory:Eh,deps:[[xn,new u.FiY,new u.tp0]]},{provide:Bm,useValue:r||{}},r?.useHash?{provide:Ce,useClass:Tt}:{provide:Ce,useClass:Et},{provide:zt,useFactory:()=>{const n=(0,u.f3M)(xn),e=(0,u.f3M)(bs),t=(0,u.f3M)(Bm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new uv(n,e,t)}},r?.preloadingStrategy?DS(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Ik},r?.initialNavigation?SS(r):[],[{provide:hv,useFactory:cv},{provide:u.tb,multi:!0,useExisting:hv}]]}}static forChild(t){return{ngModule:n,providers:[jm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bS,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[T]}),n})();function Eh(n){return"guarded"}function SS(n){return["disabled"===n.initialNavigation?vh(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(xn);return()=>{e.setUpLocationChangeListener()}}},{provide:dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vh(2,[{provide:dv,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(xn),p=e.get(HE);(function i(a){e.get(xn).events.pipe(Hr(p=>p instanceof Qs||p instanceof Fs||p instanceof ep),(0,Mt.U)(p=>p instanceof Qs||p instanceof Fs&&(0===p.code||1===p.code)&&null),Hr(p=>null!==p),So(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),c.afterPreactivation=()=>(a(!0),r||p.closed?lt(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const hv=new u.OlP("");let KE=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Mc=(()=>{class n extends KE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const da=new u.OlP("NgValueAccessor"),QE={provide:da,useExisting:(0,u.Gpc)(()=>fu),multi:!0},JE=new u.OlP("CompositionEventMode");let fu=(()=>{class n extends KE{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AS(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(JE,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([QE]),u.qOj]}),n})();function xc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $m(n){return null!=n&&"number"==typeof n.length}const Ti=new u.OlP("NgValidators"),Rc=new u.OlP("NgAsyncValidators"),Ch=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bn{static min(e){return function pv(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Dp(n){return e=>{if(xc(e.value)||xc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Xs(n){return xc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function gv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function XE(n){return xc(n.value)||Ch.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function zm(n){return e=>xc(e.value)||!$m(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ha(n){return e=>$m(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Gm(n){if(!n)return bp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Zm(e)}static composeAsync(e){return Km(e)}}function bp(n){return null}function qm(n){return null!=n}function MS(n){return(0,u.QGY)(n)?(0,on.D)(n):n}function mv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function xS(n,e){return e.map(t=>t(n))}function Ip(n){return n.map(e=>function Wm(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zm(n){if(!n)return null;const e=n.filter(qm);return 0==e.length?null:function(t){return mv(xS(t,e))}}function Sp(n){return null!=n?Zm(Ip(n)):null}function Km(n){if(!n)return null;const e=n.filter(qm);return 0==e.length?null:function(t){return function ZE(...n){const e=(0,Zi.jO)(n),{args:t,keys:r}=Kl(n),i=new Xr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const p=new Array(c);let _=c,C=c;for(let S=0;S<c;S++){let x=!1;(0,ks.Xf)(t[S]).subscribe((0,Gn.x)(a,V=>{x||(x=!0,C--),p[S]=V},()=>_--,void 0,()=>{(!_||!x)&&(C||a.next(r?Ql(r,p):p),a.complete())}))}});return e?i.pipe(Yl(e)):i}(xS(t,e).map(MS)).pipe((0,Mt.U)(mv))}}function eC(n){return null!=n?Km(Ip(n)):null}function tC(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nC(n){return n._rawValidators}function rC(n){return n._rawAsyncValidators}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function Tp(n,e){return Array.isArray(n)?n.includes(e):n===e}function RS(n,e){const t=_v(e);return _v(n).forEach(i=>{Tp(t,i)||t.push(i)}),t}function iC(n,e){return _v(e).filter(t=>!Tp(n,t))}class kS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ai extends kS{get formDirective(){return null}get path(){return null}}class rl extends kS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ym=(()=>{class n extends sC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rl,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),Qm=(()=>{class n extends sC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ai,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();const Ap="VALID",Mp="INVALID",Dh="PENDING",xp="DISABLED";function bh(n){return(Ih(n)?n.validators:n)||null}function Nc(n){return Array.isArray(n)?Sp(n):n||null}function Rp(n,e){return(Ih(e)?e.asyncValidators:n)||null}function Oc(n){return Array.isArray(n)?eC(n):n||null}function Ih(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Ev{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Nc(this._rawValidators),this._composedAsyncValidatorFn=Oc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ap}get invalid(){return this.status===Mp}get pending(){return this.status==Dh}get disabled(){return this.status===xp}get enabled(){return this.status!==xp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Nc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Oc(e)}addValidators(e){this.setValidators(RS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iC(e,this._rawAsyncValidators))}hasValidator(e){return Tp(this._rawValidators,e)}hasAsyncValidator(e){return Tp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ap,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ap||this.status===Dh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xp:Ap}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dh,this._hasOwnPendingAsyncValidator=!0;const t=MS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?xp:this.errors?Mp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dh)?Dh:this._anyControlsHaveStatus(Mp)?Mp:Ap}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ih(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class il extends Ev{constructor(e,t,r){super(bh(t),Rp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function wv(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function kp(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[t])throw new u.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Dv(n,e){return[...e.path,n]}function Np(n,e){e_(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Vs(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&mC(n,e)})}(n,e),function kk(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&mC(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function pC(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Op(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),t_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function e_(n,e){const t=nC(n);null!==e.validator?n.setValidators(tC(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rC(n);null!==e.asyncValidator?n.setAsyncValidators(tC(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Xm(e._rawValidators,i),Xm(e._rawAsyncValidators,i)}function t_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nC(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=rC(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Xm(e._rawValidators,r),Xm(e._rawAsyncValidators,r),t}function mC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function n_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Sv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===fu?t=a:function VS(n){return Object.getPrototypeOf(n.constructor)===Mc}(a)?r=a:i=a}),i||r||t||null}function r_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Mi=class extends Ev{constructor(e=null,t,r){super(bh(t),Rp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ih(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=wC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){r_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){r_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){wC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tv={provide:rl,useExisting:(0,u.Gpc)(()=>bC)},Lp=(()=>Promise.resolve())();let bC=(()=>{class n extends rl{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new Mi,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sv(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),n_(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Np(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.D6c)(r);Lp.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dv(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ai,9),u.Y36(Ti,10),u.Y36(Rc,10),u.Y36(da,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Tv]),u.qOj,u.TTD]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Fc=new u.OlP("NgModelWithFormControlWarning"),SC={provide:Ai,useExisting:(0,u.Gpc)(()=>Lc)};let Lc=(()=>{class n extends Ai{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(t_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Np(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Op(t.control||null,t,!1),function US(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Iv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Op(r||null,t),(n=>n instanceof Mi)(i)&&(Np(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function _C(n,e){e_(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function bv(n,e){return t_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){e_(this.form,this),this._oldForm&&t_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ti,10),u.Y36(Rc,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([SC]),u.qOj,u.TTD]}),n})();const Vk={provide:rl,useExisting:(0,u.Gpc)(()=>Sh)};let Sh=(()=>{class n extends rl{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Sv(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),n_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Ai,13),u.Y36(Ti,10),u.Y36(Rc,10),u.Y36(da,10),u.Y36(Fc,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Vk]),u.qOj,u.TTD]}),n})(),jc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Mv]}),n})(),xh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jc]}),n})(),Rh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jc]}),n})();var zp=F(6451),a_=F(5363),sT=F(6063);class PC extends wn.x{constructor(e=1/0,t=1/0,r=sT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var oT=F(3099);function FC(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,oT.B)({connector:()=>new PC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function l_(n,e){return(0,qa.m)(e)?sr(()=>n,e):sr(()=>n)}var Gp=F(9468),pi=F(2088),ms=F(2011);F(8140);var De=F(5861),an=(F(7212),F(1617),F(5578)),sl=F(1877);class Xp{constructor(){return(0,pi.vb)("app-check")}}typeof window<"u"&&window;var aD=F(1274);const tw=new u.OlP("angularfire2.auth.use-emulator"),nw=new u.OlP("angularfire2.auth.settings"),rw=new u.OlP("angularfire2.auth.tenant-id"),iw=new u.OlP("angularfire2.auth.langugage-code"),lD=new u.OlP("angularfire2.auth.use-device-language"),uD=new u.OlP("angularfire.auth.persistence"),cD=(n,e,t,r,i,a,c,p)=>(0,ms.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[C,S]of Object.entries(c))_.settings[C]=S;return p&&_.setPersistence(p),_},[t,r,i,a,c,p]);let _u=(()=>{class n{constructor(t,r,i,a,c,p,_,C,S,x,V,j){const J=new wn.x,le=lt(void 0).pipe((0,a_.Q)(c.outsideAngular),sr(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8463)))),(0,Mt.U)(()=>(0,ms.on)(t,a,r)),(0,Mt.U)(he=>cD(he,a,p,C,S,x,_,V)),FC({bufferSize:1,refCount:!1}));if(wl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{le.pipe(Qi()).subscribe();const He=le.pipe(sr(vt=>vt.getRedirectResult().then(qt=>qt,()=>null)),pi.iC,FC({bufferSize:1,refCount:!1})),et=le.pipe(sr(vt=>new Xr.y(qt=>({unsubscribe:a.runOutsideAngular(()=>vt.onAuthStateChanged(Wt=>qt.next(Wt),Wt=>qt.error(Wt),()=>qt.complete()))})))),at=le.pipe(sr(vt=>new Xr.y(qt=>({unsubscribe:a.runOutsideAngular(()=>vt.onIdTokenChanged(Wt=>qt.next(Wt),Wt=>qt.error(Wt),()=>qt.complete()))}))));this.authState=He.pipe(l_(et),(0,Gp.R)(c.outsideAngular),(0,a_.Q)(c.insideAngular)),this.user=He.pipe(l_(at),(0,Gp.R)(c.outsideAngular),(0,a_.Q)(c.insideAngular)),this.idToken=this.user.pipe(sr(vt=>vt?(0,on.D)(vt.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(sr(vt=>vt?(0,on.D)(vt.getIdTokenResult()):lt(null))),this.credential=(0,zp.T)(He,J,this.authState.pipe(Hr(vt=>!vt))).pipe((0,Mt.U)(vt=>vt?.user?vt:null),(0,Gp.R)(c.outsideAngular),(0,a_.Q)(c.insideAngular))}return(0,ms.pX)(this,le,a,{spy:{apply:(he,He,et)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&et.then(at=>J.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ms.Dh),u.LFG(ms.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(pi.HU),u.LFG(tw,8),u.LFG(nw,8),u.LFG(rw,8),u.LFG(iw,8),u.LFG(lD,8),u.LFG(uD,8),u.LFG(Xp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),D_=(()=>{class n{constructor(t,r){this._AngularFireAuth=t,this._Router=r,this.errorMessage="",this.createAcc=!1,this.isLoggedIn=!1}login(t){return this._AngularFireAuth.signInWithEmailAndPassword(t.email,t.password).then(()=>{this.isLoggedIn=!0,this._Router.navigate(["/view-users"])},r=>{this.errorMessage=r.message,r.message.includes("invalid-login-credentials")&&(this.createAcc=!0)})}signup(t){return this._AngularFireAuth.createUserWithEmailAndPassword(t.email,t.password).then(()=>{this._Router.navigate(["/login"])},r=>{this.errorMessage=r.message})}signOut(){this._AngularFireAuth.signOut().then(()=>{this._Router.navigate(["/login"])}),this.isLoggedIn=!1}isLogedIn(){return this.isLoggedIn}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_u),u.LFG(xn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GT(n,e){if(1&n&&(u.TgZ(0,"div",12),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.errorMessage)}}function b_(n,e){1&n&&(u.TgZ(0,"p",14),u._uU(1,"email is required"),u.qZA())}function dD(n,e){1&n&&(u.TgZ(0,"p",14),u._uU(1," invalid E-mail format"),u.qZA())}function hD(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,b_,2,0,"p",13),u.YNc(2,dD,2,0,"p",13),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.loginForm.get("email"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.loginForm.get("email"))?null:i.getError("email"))}}function fD(n,e){1&n&&(u.TgZ(0,"p",14),u._uU(1,"password is required"),u.qZA())}function qT(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,fD,2,0,"p",13),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.loginForm.get("password"))?null:r.getError("required"))}}function tg(n,e){1&n&&(u.TgZ(0,"div",15),u._uU(1,"don't have an account "),u.TgZ(2,"a",16),u._uU(3,"create account?"),u.qZA()())}function ng(n,e){1&n&&(u.TgZ(0,"span"),u._UZ(1,"i",17),u.qZA())}function WT(n,e){1&n&&(u.TgZ(0,"span"),u._uU(1,"LogIn"),u.qZA())}let ZT=(()=>{class n{constructor(t){this._AuthService=t,this.errorMessage="",this.createAcc=!1,this.isLoading=!1,this.loginForm=new il({email:new Mi(null,[bn.email,bn.required]),password:new Mi(null,[bn.required])})}submitLoginForm(){const t=Object.assign(this.loginForm.value);this._AuthService.login(t),this.isLoading=!this._AuthService.isLoggedIn,this.createAcc=this._AuthService.createAcc,this.errorMessage=this._AuthService.errorMessage}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:8,consts:[[1,"cont","d-flex","align-items-center","justify-content-center","mt-5"],[1,"w-50","shadow","p-5"],["class"," alert alert-danger",4,"ngIf"],[1,"text-dark","text-muted","py-2"],[3,"formGroup","ngSubmit"],["for","email"],["type","email","formControlName","email",1,"form-control","mb-3","border","border-dark"],[4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control","mb-3","border","border-dark"],["class","",4,"ngIf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[1,"alert","alert-danger"],["class"," alert alert-danger py-1",4,"ngIf"],[1,"alert","alert-danger","py-1"],[1,""],["routerLink","/signup",1,"text-danger","pb-2"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,GT,2,1,"div",2),u.TgZ(3,"h3",3),u._uU(4,"login"),u.qZA(),u.TgZ(5,"form",4),u.NdJ("ngSubmit",function(){return r.submitLoginForm()}),u.TgZ(6,"label",5),u._uU(7,"E-mail :"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,hD,3,2,"div",7),u.TgZ(10,"label",8),u._uU(11,"Password :"),u.qZA(),u._UZ(12,"input",9),u.YNc(13,qT,2,1,"div",7),u.YNc(14,tg,4,0,"div",10),u.TgZ(15,"button",11),u.YNc(16,ng,2,0,"span",7),u.YNc(17,WT,2,0,"span",7),u.qZA()()()()),2&t){let i,a;u.xp6(2),u.Q6J("ngIf",r.errorMessage),u.xp6(3),u.Q6J("formGroup",r.loginForm),u.xp6(4),u.Q6J("ngIf",(null==(i=r.loginForm.get("email"))?null:i.errors)&&(null==(i=r.loginForm.get("email"))?null:i.touched)),u.xp6(4),u.Q6J("ngIf",(null==(a=r.loginForm.get("password"))?null:a.errors)&&(null==(a=r.loginForm.get("password"))?null:a.touched)),u.xp6(1),u.Q6J("ngIf",r.createAcc),u.xp6(1),u.Q6J("disabled",r.loginForm.invalid),u.xp6(1),u.Q6J("ngIf",r.isLoading),u.xp6(1),u.Q6J("ngIf",!r.isLoading)}},dependencies:[Zn,yh,Pc,fu,Ym,Qm,Lc,Sh]}),n})();var sw=F(4986);function I_(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function ow(n,e=ra.y){return n=n??pD,(0,pr.e)((t,r)=>{let i,a=!0;t.subscribe((0,Gn.x)(r,c=>{const p=e(c);(a||!n(i,p))&&(a=!1,i=p,r.next(c))}))})}function pD(n,e){return n===e}F(8463),F(6101);var Xe,KT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ko={},mD=mD||{},Gt=KT||self;function aw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var lw="closure_uid_"+(1e9*Math.random()>>>0),YT=0;function _D(n,e,t){return n.call.apply(n.bind,arguments)}function rg(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ri(n,e,t){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_D:rg).apply(null,arguments)}function T_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function yu(){this.s=this.s,this.o=this.o}yu.prototype.s=!1,yu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function S_(n){Object.prototype.hasOwnProperty.call(n,lw)&&n[lw]||(n[lw]=++YT)}(this)},yu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yD(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(aw(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Nr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Nr.prototype.h=function(){this.defaultPrevented=!0};var JT=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",()=>{},e),Gt.removeEventListener("test",()=>{},e)}catch{}return n}();function Lh(n){return/^[\s\xa0]*$/.test(n)}function A_(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function No(n){return-1!=A_().indexOf(n)}function dw(n){return dw[" "](n),n}dw[" "]=function(){};var fw,XT=No("Opera"),vu=No("Trident")||No("MSIE"),wD=No("Edge"),M_=wD||vu,hw=No("Gecko")&&!(-1!=A_().toLowerCase().indexOf("webkit")&&!No("Edge"))&&!(No("Trident")||No("MSIE"))&&!No("Edge"),eA=-1!=A_().toLowerCase().indexOf("webkit")&&!No("Edge");function ED(){var n=Gt.document;return n?n.documentMode:void 0}e:{var ig="",pw=function(){var n=A_();return hw?/rv:([^\);]+)(\)|;)/.exec(n):wD?/Edge\/([\d\.]+)/.exec(n):vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eA?/WebKit\/(\S+)/.exec(n):XT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(pw&&(ig=pw?pw[1]:""),vu){var x_=ED();if(null!=x_&&x_>parseFloat(ig)){fw=String(x_);break e}}fw=ig}var tA=Gt.document&&vu&&(ED()||parseInt(fw,10))||void 0;function sg(n,e){if(Nr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(hw){e:{try{dw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sg.$.h.call(this)}}var nA={2:"touch",3:"pen",4:"mouse"};sg.prototype.h=function(){sg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var og="closure_listenable_"+(1e6*Math.random()|0),rA=0;function iA(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++rA,this.fa=this.ia=!1}function ag(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function R_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function DD(n){const e={};for(const t in n)e[t]=n[t];return e}const mw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<mw.length;a++)t=mw[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function k_(n){this.src=n,this.g={},this.h=0}function _w(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=uw(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(ag(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lg(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}k_.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=lg(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new iA(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var ug="closure_lm_"+(1e6*Math.random()|0),N_={};function O_(n,e,t,r,i){if(r&&r.once)return P_(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)O_(n,e[a],t,r,i);return null}return t=L_(t),n&&n[og]?n.O(e,t,Fh(r)?!!r.capture:!!r,i):ID(n,e,t,!1,r,i)}function ID(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Fh(i)?!!i.capture:!!i,p=yw(n);if(p||(n[ug]=p=new k_(n)),(t=p.add(e,t,r,c,a)).proxy)return t;if(r=function oA(){const e=TD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JT||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Wc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function P_(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)P_(n,e[a],t,r,i);return null}return t=L_(t),n&&n[og]?n.P(e,t,Fh(r)?!!r.capture:!!r,i):ID(n,e,t,!0,r,i)}function SD(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)SD(n,e[a],t,r,i);else r=Fh(r)?!!r.capture:!!r,t=L_(t),n&&n[og]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lg(a=n.g[e],t,r,i))&&(ag(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=yw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lg(e,t,r,i)),(t=-1<n?e[n]:null)&&F_(t))}function F_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[og])_w(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Wc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yw(e))?(_w(t,n),0==t.h&&(t.src=null,e[ug]=null)):ag(n)}}}function Wc(n){return n in N_?N_[n]:N_[n]="on"+n}function TD(n,e){if(n.fa)n=!0;else{e=new sg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&F_(n),n=t.call(r,e)}return n}function yw(n){return(n=n[ug])instanceof k_?n:null}var AD="__closure_events_fn_"+(1e9*Math.random()>>>0);function L_(n){return"function"==typeof n?n:(n[AD]||(n[AD]=function(e){return n.handleEvent(e)}),n[AD])}function Or(){yu.call(this),this.i=new k_(this),this.S=this,this.J=null}function mi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Nr(e,n);else if(e instanceof Nr)e.target=e.target||n;else{var i=e;bD(e=new Nr(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=Vh(c,r,!0,e)&&i}if(i=Vh(c=e.g=n,r,!0,e)&&i,i=Vh(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Vh(c=e.g=t[a],r,!1,e)&&i}function Vh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var p=c.listener,_=c.la||c.src;c.ia&&_w(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Or.prototype[og]=!0,Or.prototype.removeEventListener=function(n,e,t,r){SD(this,n,e,t,r)},Or.prototype.N=function(){if(Or.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ag(t[r]);delete n.g[e],n.h--}}this.J=null},Or.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Or.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var vw=Gt.JSON.stringify;class MD{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ww(){var n=Cw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class xD{constructor(){this.h=this.g=null}add(e,t){const r=Ew.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Ew=new MD(()=>new RD,n=>n.reset());class RD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function kD(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function aA(n){Gt.setTimeout(()=>{throw n},0)}let cg,dg=!1,Cw=new xD,Dw=()=>{const n=Gt.Promise.resolve(void 0);cg=()=>{n.then(Kk)}};var Kk=()=>{for(var n;n=ww();){try{n.h.call(n.g)}catch(t){aA(t)}var e=Ew;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dg=!1};function hg(n,e){Or.call(this),this.h=n||1,this.g=e||Gt,this.j=Ri(this.qb,this),this.l=Date.now()}function bw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Iw(n,e,t){if("function"==typeof n)t&&(n=Ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function lA(n){n.g=Iw(()=>{n.g=null,n.i&&(n.i=!1,lA(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Xe=hg.prototype).ga=!1,Xe.T=null,Xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mi(this,"tick"),this.ga&&(bw(this),this.start()))}},Xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xe.N=function(){hg.$.N.call(this),bw(this),delete this.g};class Yk extends yu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lA(this)}N(){super.N(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fg(n){yu.call(this),this.h=n,this.g={}}var ND=[];function OD(n,e,t,r){Array.isArray(t)||(t&&(ND[0]=t.toString()),t=ND);for(var i=0;i<t.length;i++){var a=O_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function PD(n){R_(n.g,function(e,t){this.g.hasOwnProperty(t)&&F_(e)},n),n.g={}}function V_(){this.g=!0}function Uh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return vw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}fg.prototype.N=function(){fg.$.N.call(this),PD(this)},fg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},V_.prototype.Ea=function(){this.g=!1},V_.prototype.info=function(){};var Zc={},FD=null;function wu(){return FD=FD||new Or}function Sw(n){Nr.call(this,Zc.Ta,n)}function Bh(n){const e=wu();mi(e,new Sw(e))}function Tw(n,e){Nr.call(this,Zc.STAT_EVENT,n),this.stat=e}function ki(n){const e=wu();mi(e,new Tw(e,n))}function Aw(n,e){Nr.call(this,Zc.Ua,n),this.size=e}function pg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}Zc.Ta="serverreachability",Zc.STAT_EVENT="statevent",Zc.Ua="timingevent";var U_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VD(){}var Rw,gg={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xw(){Nr.call(this,"d")}function Kc(){Nr.call(this,"c")}function jh(){}function _s(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new fg(this),this.P=kw,this.V=new hg(n=M_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UD}function UD(){this.i=null,this.g="",this.h=!1}jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},Rw=new jh;var kw=45e3,Yc={},B_={};function Nw(n,e,t){n.L=1,n.v=wg(Oo(e)),n.s=t,n.S=!0,BD(n,null)}function BD(n,e){n.G=Date.now(),yg(n),n.A=Oo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xc(t.i,"t",r),n.C=0,t=n.l.J,n.h=new UD,n.g=Mg(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Yk(Ri(n.Pa,n,n.g),n.O)),OD(n.U,n.g,"readystatechange",n.nb),e=n.I?DD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Bh(),function uA(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",p=a.split("&"),_=0;_<p.length;_++){var C=p[_].split("=");if(1<C.length){var S=C[0];C=C[1];var x=S.split("_");c=2<=x.length&&"type"==x[1]?c+(S+"=")+C+"&":c+(S+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function mg(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _g(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=pA(n,t),i==B_){4==e&&(n.o=4,ki(14),r=!1),Uh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Yc){n.o=4,ki(15),Uh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uh(n.j,n.m,i,null),Pw(n,i)}mg(n)&&i!=B_&&i!=Yc&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ki(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sb(e),e.M=!0,ki(11))):(Uh(n.j,n.m,t,"[Invalid Chunked Response]"),Eu(n),Qc(n))}function pA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?B_:(t=Number(e.substring(t,r)),isNaN(t)?Yc:(r+=1)+t>e.length?B_:(e=e.slice(r,r+t),n.C=r+t,e))}function yg(n){n.Y=Date.now()+n.P,Ow(n,n.P)}function Ow(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pg(Ri(n.lb,n),e)}function vg(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Qc(n){0==n.l.H||n.J||TA(n.l,n)}function Eu(n){vg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,bw(n.V),PD(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Pw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Vw(t.i,n)))if(!n.K&&Vw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;qw(t),Z_(t)}K_(t),ki(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=pg(Ri(t.ib,t),6e3));if(1>=zh(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Wh(t,11)}else if((n.K||t.g==n)&&qw(t),!Lh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const S=C[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const x=C[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const V=C[5];null!=V&&"number"==typeof V&&0<V&&(t.L=r=1.5*V,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const J=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.i;a.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Cg(a,a.h),a.h=null))}if(r.F){const le=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.Da=le,Jn(r.I,r.F,le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=xA(r,r.J?r.pa:null,r.Y),c.K){KD(r.i,c);var p=c,_=r.L;_&&p.setTimeout(_),p.B&&(vg(p),yg(p)),r.g=c}else IA(r);0<t.j.length&&Tg(t)}else"stop"!=C[0]&&"close"!=C[0]||Wh(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Wh(t,7):W_(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}Bh()}catch{}}function j_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(aw(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qk(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(aw(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function gA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(aw(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Xe=_s.prototype).setTimeout=function(n){this.P=n},Xe.nb=function(n){n=n.target;const e=this.M;e&&3==Po(n)?e.l():this.Pa(n)},Xe.Pa=function(n){try{if(n==this.g)e:{const S=Po(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||M_||this.g&&(this.h.h||this.g.ja()||Hw(this.g)))){this.J||4!=S||7==e||Bh(),vg(this);var t=this.g.da();this.ca=t;t:if(mg(this)){var r=Hw(this.g);n="";var i=r.length,a=4==Po(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Eu(this),Qc(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function cA(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ki(12),Eu(this),Qc(this);break e}Uh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pw(this,t)}this.S?(_g(this,S,c),M_&&this.i&&3==S&&(OD(this.U,this.V,"tick",this.mb),this.V.start())):(Uh(this.j,this.m,c,null),Pw(this,c)),4==S&&Eu(this),this.i&&!this.J&&(4==S?TA(this.l,this):(this.i=!1,yg(this)))}else(function bA(n){const e={};n=(n.g&&2<=Po(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Lh(n[r]))continue;var t=kD(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function sA(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),Eu(this),Qc(this)}}}catch{}},Xe.mb=function(){if(this.g){var n=Po(this.g),e=this.g.ja();this.C<e.length&&(vg(this),_g(this,n,e),this.i&&4!=n&&yg(this))}},Xe.cancel=function(){this.J=!0,Eu(this)},Xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function dA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Bh(),ki(17)),Eu(this),this.o=2,Qc(this)):Ow(this,this.Y-n)};var H_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function al(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof al){this.h=n.h,$_(this,n.j),this.s=n.s,this.g=n.g,z_(this,n.m),this.l=n.l;var e=n.i,t=new Eg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HD(this,t),this.o=n.o}else n&&(e=String(n).match(H_))?(this.h=!1,$_(this,e[1]||"",!0),this.s=Jc(e[2]||""),this.g=Jc(e[3]||"",!0),z_(this,e[4]),this.l=Jc(e[5]||"",!0),HD(this,e[6]||"",!0),this.o=Jc(e[7]||"")):(this.h=!1,this.i=new Eg(null,this.h))}function Oo(n){return new al(n)}function $_(n,e,t){n.j=t?Jc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function z_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HD(n,e,t){e instanceof Eg?(n.i=e,function _A(n,e){e&&!n.j&&(ll(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(WD(this,r),Xc(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Hh(e,GD)),n.i=new Eg(e,n.h))}function Jn(n,e,t){n.i.set(e,t)}function wg(n){return Jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Hh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$D),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $D(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}al.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Hh(e,Fw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Hh(e,Fw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Hh(t,"/"==t.charAt(0)?mA:zD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Hh(t,qD)),n.join("")};var Fw=/[#\/\?@]/g,zD=/[#\?:]/g,mA=/[#\?]/g,GD=/[#\?@]/g,qD=/#/g;function Eg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ll(n){n.g||(n.g=new Map,n.h=0,n.i&&function jD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function WD(n,e){ll(n),e=$h(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ni(n,e){return ll(n),e=$h(n,e),n.g.has(e)}function Xc(n,e,t){WD(n,e),0<t.length&&(n.i=null,n.g.set($h(n,e),cw(t)),n.h+=t.length)}function $h(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yA(n){this.l=n||ZD,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ka&&Gt.g.Ka()&&Gt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xe=Eg.prototype).add=function(n,e){ll(this),this.i=null,n=$h(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xe.forEach=function(n,e){ll(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Xe.ta=function(){ll(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Xe.Z=function(n){ll(this);let e=[];if("string"==typeof n)Ni(this,n)&&(e=e.concat(this.g.get($h(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xe.set=function(n,e){return ll(this),this.i=null,Ni(this,n=$h(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var n,ZD=10;function Lw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zh(n){return n.h?1:n.g?n.g.size:0}function Vw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cg(n,e){n.g?n.g.add(e):n.h=e}function KD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Uw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return cw(n.i)}function wA(){this.g=new class{stringify(n){return Gt.JSON.stringify(n,void 0)}parse(n){return Gt.JSON.parse(n,void 0)}}}function EA(n,e,t){const r=t||"";try{j_(n,function(i,a){let c=i;Fh(i)&&(c=vw(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Gh(n){this.l=n.fc||null,this.j=n.ob||!1}function ed(n,e){Or.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yA.prototype.cancel=function(){if(this.i=Uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Gh.prototype.g=function(){return new ed(this.l,this.j)},Gh.prototype.i=(n={},function(){return n});var bg=0;function CA(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function qh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ig(n)}function Ig(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xe=ed.prototype).open=function(n,e){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ig(this)},Xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Gt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qh(this)),this.readyState=bg},Xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ig(this)),this.g&&(this.readyState=3,Ig(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;CA(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?qh(this):Ig(this),3==this.readyState&&CA(this)}},Xe.Za=function(n){this.g&&(this.response=this.responseText=n,qh(this))},Xe.Ya=function(n){this.g&&(this.response=n,qh(this))},Xe.ka=function(){this.g&&qh(this)},Xe.setRequestHeader=function(n,e){this.v.append(n,e)},Xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var YD=Gt.JSON.parse;function Vn(n){Or.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QD,this.L=this.M=!1}var QD="",JD=/^https?$/i,jw=["POST","PUT"];function XD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,DA(n),G_(n)}function DA(n){n.F||(n.F=!0,mi(n,"complete"),mi(n,"error"))}function eb(n){if(n.h&&typeof mD<"u"&&(!n.C[1]||4!=Po(n)||2!=n.da()))if(n.v&&4==Po(n))Iw(n.La,0,n);else if(mi(n,"readystatechange"),4==Po(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(H_)[1]||null;!i&&Gt.self&&Gt.self.location&&(i=Gt.self.location.protocol.slice(0,-1)),r=!JD.test(i?i.toLowerCase():"")}t=r}if(t)mi(n,"complete"),mi(n,"success");else{n.m=6;try{var a=2<Po(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",DA(n)}}finally{G_(n)}}}function G_(n,e){if(n.g){tb(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||mi(n,"ready");try{t.onreadystatechange=r}catch{}}}function tb(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Po(n){return n.g?n.g.readyState:0}function Hw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case QD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $w(n){let e="";return R_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function q_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=$w(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jn(n,e,t))}function Sg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function nb(n){this.Ga=0,this.j=[],this.l=new V_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sg("baseRetryDelayMs",5e3,n),this.hb=Sg("retryDelaySeedMs",1e4,n),this.eb=Sg("forwardChannelMaxRetries",2,n),this.xa=Sg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new yA(n&&n.concurrentRequestLimit),this.Ja=new wA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function W_(n){if(zw(n),3==n.H){var e=n.W++,t=Oo(n.I);if(Jn(t,"SID",n.K),Jn(t,"RID",e),Jn(t,"TYPE","terminate"),Ag(n,t),(e=new _s(n,n.l,e)).L=2,e.v=wg(Oo(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon)try{t=Gt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Mg(e.l,null),e.g.ha(e.v)),e.G=Date.now(),yg(e)}MA(n)}function Z_(n){n.g&&(sb(n),n.g.cancel(),n.g=null)}function zw(n){Z_(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),qw(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function Tg(n){if(!Lw(n.i)&&!n.m){n.m=!0;var e=n.Na;cg||Dw(),dg||(cg(),dg=!0),Cw.add(e,n),n.C=0}}function Gw(n,e){var t;t=e?e.m:n.W++;const r=Oo(n.I);Jn(r,"SID",n.K),Jn(r,"RID",t),Jn(r,"AID",n.V),Ag(n,r),n.o&&n.s&&q_(r,n.o,n.s),t=new _s(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ib(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Cg(n.i,t),Nw(t,r,e)}function Ag(n,e){n.na&&R_(n.na,function(t,r){Jn(e,r,t)}),n.h&&j_({},function(t,r){Jn(e,r,t)})}function ib(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ri(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let C=i[_].g;const S=i[_].map;if(C-=a,0>C)a=Math.max(0,i[_].g-100),p=!1;else try{EA(S,c,"req"+C+"_")}catch{r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function IA(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cg||Dw(),dg||(cg(),dg=!0),Cw.add(e,n),n.A=0}}function K_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=pg(Ri(n.Ma,n),AA(n,n.A)),n.A++,0))}function sb(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function SA(n){n.g=new _s(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Oo(n.wa);Jn(e,"RID","rpc"),Jn(e,"SID",n.K),Jn(e,"AID",n.V),Jn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Jn(e,"TO",n.qa),Jn(e,"TYPE","xmlhttp"),Ag(n,e),n.o&&n.s&&q_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=wg(Oo(e)),t.s=null,t.S=!0,BD(t,n)}function qw(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function TA(n,e){var t=null;if(n.g==e){qw(n),sb(n),n.g=null;var r=2}else{if(!Vw(n.i,e))return;t=e.F,KD(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;mi(r=wu(),new Aw(r,t)),Tg(n)}else IA(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function rb(n,e){return!(zh(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=pg(Ri(n.Na,n,e),AA(n,n.C)),n.C++,0)))}(n,e)||2==r&&K_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Wh(n,5);break;case 4:Wh(n,10);break;case 3:Wh(n,6);break;default:Wh(n,2)}}function AA(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Wh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ri(n.pb,n);t||(t=new al("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||$_(t,"https"),wg(t)),function Bw(n,e){const t=new V_;if(Gt.Image){const r=new Image;r.onload=T_(Dg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=T_(Dg,t,r,"TestLoadImage: error",!1,e),r.onabort=T_(Dg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=T_(Dg,t,r,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ki(2);n.H=0,n.h&&n.h.za(e),MA(n),zw(n)}function MA(n){if(n.H=0,n.ma=[],n.h){const e=Uw(n.i);(0!=e.length||0!=n.j.length)&&(yD(n.ma,e),yD(n.ma,n.j),n.i.i.length=0,cw(n.j),n.j.length=0),n.h.ya()}}function xA(n,e,t){var r=t instanceof al?Oo(t):new al(t);if(""!=r.g)e&&(r.g=e+"."+r.g),z_(r,r.m);else{var i=Gt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new al(null);r&&$_(a,r),e&&(a.g=e),i&&z_(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Jn(r,t,e),Jn(r,"VER",n.ra),Ag(n,r),r}function Mg(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vn(t&&n.Ha&&!n.va?new Gh({ob:!0}):n.va)).Oa(n.J),e}function xg(){if(vu&&!(10<=Number(tA)))throw Error("Environmental error: no available transport.")}function Oi(n,e){Or.call(this),this.g=new nb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Lh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rg(this)}function Ww(n){xw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Zw(){Kc.call(this),this.status=1}function Rg(n){this.g=n}function no(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function In(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(Xe=Vn.prototype).Oa=function(n){this.M=n},Xe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rw.g(),this.C=function LD(n){return n.h||(n.h=n.i())}(this.u?this.u:Rw),this.g.onreadystatechange=Ri(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void XD(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Gt.FormData&&n instanceof Gt.FormData,!(0<=uw(jw,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tb(this),0<this.B&&((this.L=function Xk(n){return vu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ri(this.ua,this)):this.A=Iw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){XD(this,a)}},Xe.ua=function(){typeof mD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},Xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mi(this,"complete"),mi(this,"abort"),G_(this))},Xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),G_(this,!0)),Vn.$.N.call(this)},Xe.La=function(){this.s||(this.G||this.v||this.l?eb(this):this.kb())},Xe.kb=function(){eb(this)},Xe.isActive=function(){return!!this.g},Xe.da=function(){try{return 2<Po(this)?this.g.status:-1}catch{return-1}},Xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),YD(e)}},Xe.Ia=function(){return this.m},Xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xe=nb.prototype).ra=8,Xe.H=1,Xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new _s(this,this.l,n);let a=this.s;if(this.U&&(a?(a=DD(a),bD(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ib(this,i,e),Jn(t=Oo(this.I),"RID",n),Jn(t,"CVER",22),this.F&&Jn(t,"X-HTTP-Session-Id",this.F),Ag(this,t),a&&(this.O?e="headers="+encodeURIComponent(String($w(a)))+"&"+e:this.o&&q_(t,this.o,a)),Cg(this.i,i),this.bb&&Jn(t,"TYPE","init"),this.P?(Jn(t,"$req",e),Jn(t,"SID","null"),i.aa=!0,Nw(i,t,null)):Nw(i,t,e),this.H=2}}else 3==this.H&&(n?Gw(this,n):0==this.j.length||Lw(this.i)||Gw(this))},Xe.Ma=function(){if(this.u=null,SA(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pg(Ri(this.jb,this),n)}},Xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ki(10),Z_(this),SA(this))},Xe.ib=function(){null!=this.v&&(this.v=null,Z_(this),K_(this),ki(19))},Xe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ki(2)):(this.l.info("Failed to ping google.com"),ki(1))},Xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xe=function RA(){}.prototype).Ba=function(){},Xe.Aa=function(){},Xe.za=function(){},Xe.ya=function(){},Xe.isActive=function(){return!0},Xe.Va=function(){},xg.prototype.g=function(n,e){return new Oi(n,e)},Oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ki(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=xA(n,null,n.Y),Tg(n)},Oi.prototype.close=function(){W_(this.g)},Oi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Tg(e)},Oi.prototype.N=function(){this.g.h=null,delete this.j,W_(this.g),delete this.g,Oi.$.N.call(this)},Rg.prototype.Ba=function(){mi(this.g,"a")},Rg.prototype.Aa=function(n){mi(this.g,new Ww(n))},Rg.prototype.za=function(n){mi(this.g,new Zw)},Rg.prototype.ya=function(){mi(this.g,"b")},no.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},no.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)Yw(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){Yw(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){Yw(this,r),i=0;break}}this.h=i,this.i+=e},no.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var e1={};function Qw(n){return-128<=n&&128>n?function vD(n,e){var t=e1;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new In([0|e],0>e?-1:0)}):new In([0|n],0>n?-1:0)}function ga(n){if(isNaN(n)||!isFinite(n))return Kh;if(0>n)return _i(ga(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Zh;return new In(e,0)}var Zh=4294967296,Kh=Qw(0),ab=Qw(1),kA=Qw(16777216);function Cu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ro(n){return-1==n.h}function _i(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new In(t,~n.h).add(ab)}function Y_(n,e){return n.add(_i(e))}function Jw(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function kg(n,e){this.g=n,this.h=e}function Ng(n,e){if(Cu(e))throw Error("division by zero");if(Cu(n))return new kg(Kh,Kh);if(ro(n))return e=Ng(_i(n),e),new kg(_i(e.g),_i(e.h));if(ro(e))return e=Ng(n,_i(e)),new kg(_i(e.g),e.h);if(30<n.g.length){if(ro(n)||ro(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ab,r=e;0>=r.X(n);)t=Xw(t),r=Xw(r);var i=Og(t,1),a=Og(r,1);for(r=Og(r,2),t=Og(t,2);!Cu(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=Og(r,1),t=Og(t,1)}return e=Y_(n,i.R(e)),new kg(i,e)}for(i=Kh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=ga(t)).R(e);ro(c)||0<c.X(n);)c=(a=ga(t-=r)).R(e);Cu(a)&&(a=ab),i=i.add(a),n=Y_(n,c)}return new kg(i,n)}function Xw(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new In(t,n.h)}function Og(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new In(i,n.h)}(Xe=In.prototype).ea=function(){if(ro(this))return-_i(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Zh+r)*e,e*=Zh}return n},Xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Cu(this))return"0";if(ro(this))return"-"+_i(this).toString(n);for(var e=ga(Math.pow(n,6)),t=this,r="";;){var i=Ng(t,e).g,a=((0<(t=Y_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Cu(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xe.X=function(n){return ro(n=Y_(this,n))?-1:Cu(n)?0:1},Xe.abs=function(){return ro(this)?_i(this):this},Xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new In(t,-2147483648&t[t.length-1]?-1:0)},Xe.R=function(n){if(Cu(this)||Cu(n))return Kh;if(ro(this))return ro(n)?_i(this).R(_i(n)):_i(_i(this).R(n));if(ro(n))return _i(this.R(_i(n)));if(0>this.X(kA)&&0>n.X(kA))return ga(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),p=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,Jw(t,2*r+2*i),t[2*r+2*i+1]+=a*_,Jw(t,2*r+2*i+1),t[2*r+2*i+1]+=c*p,Jw(t,2*r+2*i+1),t[2*r+2*i+2]+=a*p,Jw(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new In(t,0)},Xe.gb=function(n){return Ng(this,n).h},Xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new In(t,this.h&n.h)},Xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new In(t,this.h|n.h)},Xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new In(t,this.h^n.h)},xg.prototype.createWebChannel=xg.prototype.g,Oi.prototype.send=Oi.prototype.u,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,U_.NO_ERROR=0,U_.TIMEOUT=8,U_.HTTP_ERROR=6,fA.COMPLETE="complete",VD.EventType=gg,gg.OPEN="a",gg.CLOSE="b",gg.ERROR="c",gg.MESSAGE="d",Or.prototype.listen=Or.prototype.O,Vn.prototype.listenOnce=Vn.prototype.P,Vn.prototype.getLastError=Vn.prototype.Sa,Vn.prototype.getLastErrorCode=Vn.prototype.Ia,Vn.prototype.getStatus=Vn.prototype.da,Vn.prototype.getResponseJson=Vn.prototype.Wa,Vn.prototype.getResponseText=Vn.prototype.ja,Vn.prototype.send=Vn.prototype.ha,Vn.prototype.setWithCredentials=Vn.prototype.Oa,no.prototype.digest=no.prototype.l,no.prototype.reset=no.prototype.reset,no.prototype.update=no.prototype.j,In.prototype.add=In.prototype.add,In.prototype.multiply=In.prototype.R,In.prototype.modulo=In.prototype.gb,In.prototype.compare=In.prototype.X,In.prototype.toNumber=In.prototype.ea,In.prototype.toString=In.prototype.toString,In.prototype.getBits=In.prototype.D,In.fromNumber=ga,In.fromString=function ob(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _i(ob(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ga(Math.pow(e,8)),r=Kh,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=ga(Math.pow(e,a)),r=r.R(a).add(ga(c))):r=(r=r.R(t)).add(ga(c))}return r};var Fo=ko.createWebChannelTransport=function(){return new xg},NA=ko.getStatEventTarget=function(){return wu()},Pg=ko.ErrorCode=U_,OA=ko.EventType=fA,io=ko.Event=Zc,lb=ko.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},e0=ko.FetchXmlHttpFactory=Gh,Q_=ko.WebChannel=VD,PA=ko.XhrIo=Vn,t0=ko.Md5=no,td=ko.Integer=In;class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let nd="9.23.0";const ul=new sl.Yd("@firebase/firestore");function r0(){return ul.logLevel}function Ue(n,...e){if(ul.logLevel<=sl.in.DEBUG){const t=e.map(J_);ul.debug(`Firestore (${nd}): ${n}`,...t)}}function ar(n,...e){if(ul.logLevel<=sl.in.ERROR){const t=e.map(J_);ul.error(`Firestore (${nd}): ${n}`,...t)}}function zr(n,...e){if(ul.logLevel<=sl.in.WARN){const t=e.map(J_);ul.warn(`Firestore (${nd}): ${n}`,...t)}}function J_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${nd}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function ut(n,e){n||nt()}function Je(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends an.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class LA{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class fb{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function pb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class o0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pb(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function rd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Un(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Un(0,0))}static max(){return new Dt(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lg{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Lg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rn extends Lg{construct(e,t,r){return new rn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rn(t)}static emptyPath(){return new rn([])}}const gb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends Lg{construct(e,t,r){return new yr(e,t,r)}static isValidIdentifier(e){return gb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(a(),i++)}if(a(),c)throw new Ne(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(t)}static emptyPath(){return new yr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(rn.fromString(e))}static fromName(e){return new Qe(rn.fromString(e).popFirst(5))}static empty(){return new Qe(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new rn(e.slice()))}}function $A(n){return new so(n.readTime,n.key,-1)}class so{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new so(Dt.min(),Qe.empty(),-1)}static max(){return new so(Dt.max(),Qe.empty(),-1)}}function _b(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function bu(n){return l0.apply(this,arguments)}function l0(){return l0=(0,De.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==yb)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),l0.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let i=0,a=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(i=>i?ae.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,i)=>{const a=e.length,c=new Array(a);let p=0;for(let _=0;_<a;_++){const C=_;t(e[C]).next(S=>{c[C]=S,++p,p===a&&r(c)},S=>i(S))}})}static doWhile(e,t){return new ae((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function Iu(n){return"IndexedDbTransactionError"===n.name}let ao=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Yh(n){return null==n}function Bg(n){return 0===n&&1/n==-1/0}function JA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function s(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class o{constructor(e,t){this.comparator=e,this.root=t||d.EMPTY}insert(e,t){return new o(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,d.BLACK,null,null))}remove(e){return new o(this.comparator,this.root.remove(e,this.comparator).copy(null,null,d.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new l(this.root,e,this.comparator,!1)}getReverseIterator(){return new l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new l(this.root,e,this.comparator,!0)}}class l{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class d{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??d.RED,this.left=i??d.EMPTY,this.right=a??d.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new d(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return d.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return d.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,d.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,d.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}d.EMPTY=null,d.RED=!0,d.BLACK=!1,d.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new d(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class h{constructor(e){this.comparator=e,this.data=new o(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new m(this.data.getIterator())}getIteratorFrom(e){return new m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof h)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new h(this.comparator);return t.data=e,t}}class m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class D{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new D([])}unionWith(e){let t=new h(yr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new D(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class I extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class N{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new I("Invalid base64 string: "+i):i}}(e);return new N(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new N(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}N.EMPTY_BYTE_STRING=new N("");const L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $(n){if(ut(!!n),"string"==typeof n){let e=0;const t=L.exec(n);if(ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Y(n.seconds),nanos:Y(n.nanos)}}function Y(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function we(n){return"string"==typeof n?N.fromBase64String(n):N.fromUint8Array(n)}function je(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ye(n){const e=n.mapValue.fields.__previous_value__;return je(e)?Ye(e):e}function ct(n){const e=$(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class Ft{constructor(e,t,r,i,a,c,p,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=C}}class Me{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Me("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Me&&e.projectId===this.projectId&&e.database===this.database}}const xt_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Cn(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?je(n)?4:g1(n)?9007199254740991:10:nt()}function Fi(n,e){if(n===e)return!0;const t=Cn(n);if(t!==Cn(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ct(n).isEqual(ct(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=$(r.timestampValue),c=$(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,we(n.bytesValue).isEqual(we(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Y(r.geoPointValue.latitude)===Y(i.geoPointValue.latitude)&&Y(r.geoPointValue.longitude)===Y(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Y(r.integerValue)===Y(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Y(r.doubleValue),c=Y(i.doubleValue);return a===c?Bg(a)===Bg(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return rd(n.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(JA(a)!==JA(c))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===c[p]||!Fi(a[p],c[p])))return!1;return!0}(n,e);default:return nt()}var i}function od(n,e){return void 0!==(n.values||[]).find(t=>Fi(t,e))}function _a(n,e){if(n===e)return 0;const t=Cn(n),r=Cn(e);if(t!==r)return Ht(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Y(i.integerValue||i.doubleValue),p=Y(a.integerValue||a.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return ny(n.timestampValue,e.timestampValue);case 4:return ny(ct(n),ct(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(i,a){const c=we(i),p=we(a);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),p=a.split("/");for(let _=0;_<c.length&&_<p.length;_++){const C=Ht(c[_],p[_]);if(0!==C)return C}return Ht(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ht(Y(i.latitude),Y(a.latitude));return 0!==c?c:Ht(Y(i.longitude),Y(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],p=a.values||[];for(let _=0;_<c.length&&_<p.length;++_){const C=_a(c[_],p[_]);if(C)return C}return Ht(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===xt_mapValue&&a===xt_mapValue)return 0;if(i===xt_mapValue)return 1;if(a===xt_mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=a.fields||{},C=Object.keys(_);p.sort(),C.sort();for(let S=0;S<p.length&&S<C.length;++S){const x=Ht(p[S],C[S]);if(0!==x)return x;const V=_a(c[p[S]],_[C[S]]);if(0!==V)return V}return Ht(p.length,C.length)}(n.mapValue,e.mapValue);default:throw nt()}}function ny(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=$(n),r=$(e),i=Ht(t.seconds,r.seconds);return 0!==i?i:Ht(t.nanos,r.nanos)}function Su(n){return jg(n)}function jg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=$(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?we(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=jg(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const p of i)c?c=!1:a+=",",a+=`${p}:${jg(r.fields[p])}`;return a+"}"}(n.mapValue):nt();var e}function dl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hg(n){return!!n&&"integerValue"in n}function ad(n){return!!n&&"arrayValue"in n}function f1(n){return!!n&&"nullValue"in n}function p1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sb(n){return!!n&&"mapValue"in n}function g0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=g0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=g0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=g0(t)}setAll(e){let t=yr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=g0(c):i.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sd(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ns(g0(this.value))}}function y1(n){const e=[];return sd(n.fields,(t,r)=>{const i=new yr([t]);if(Sb(r)){const a=y1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new D(e)}class lr{constructor(e,t,r,i,a,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=p}static newInvalidDocument(e){return new lr(e,0,Dt.min(),Dt.min(),Dt.min(),ns.empty(),0)}static newFoundDocument(e,t,r,i){return new lr(e,1,t,Dt.min(),r,i,0)}static newNoDocument(e,t){return new lr(e,2,t,Dt.min(),Dt.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new lr(e,3,t,Dt.min(),Dt.min(),ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jh{constructor(e,t){this.position=e,this.inclusive=t}}function v1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Qe.comparator(Qe.fromName(c.referenceValue),t.key):_a(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function w1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fi(n.position[t],e.position[t]))return!1;return!0}class ry{constructor(e,t="asc"){this.field=e,this.dir=t}}function oL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class E1{}class un extends E1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new aL(e,t,r):"array-contains"===t?new cL(e,r):"in"===t?new T1(e,r):"not-in"===t?new dL(e,r):"array-contains-any"===t?new hL(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new lL(e,r):new uL(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_a(t,this.value)):null!==t&&Cn(this.value)===Cn(t)&&this.matchesComparison(_a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bn extends E1{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Bn(e,t)}matches(e){return iy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function iy(n){return"and"===n.op}function eM(n){return function C1(n){for(const e of n.filters)if(e instanceof Bn)return!1;return!0}(n)&&iy(n)}function tM(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+Su(n.value);if(eM(n))return n.filters.map(e=>tM(e)).join(",");{const e=n.filters.map(t=>tM(t)).join(",");return`${n.op}(${e})`}}function D1(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&Fi(t.value,r.value)):n instanceof Bn?function(t,r){return r instanceof Bn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&D1(a,r.filters[c]),!0)}(n,e):void nt();var t,r}function I1(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${Su(e.value)}`:n instanceof Bn?function(e){return e.op.toString()+" {"+e.getFilters().map(I1).join(" ,")+"}"}(n):"Filter";var e}class aL extends un{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class lL extends un{constructor(e,t){super(e,"in",t),this.keys=S1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uL extends un{constructor(e,t){super(e,"not-in",t),this.keys=S1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class cL extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ad(t)&&od(t.arrayValue,this.value)}}class T1 extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&od(this.value.arrayValue,t)}}class dL extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!od(this.value.arrayValue,t)}}class hL extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ad(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>od(this.value.arrayValue,r))}}class fL{constructor(e,t=null,r=[],i=[],a=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=p,this.dt=null}}function nM(n,e=null,t=[],r=[],i=null,a=null,c=null){return new fL(n,e,t,r,i,a,c)}function $g(n){const e=Je(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Su(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Su(r)).join(",")),e.dt=t}return e.dt}function m0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w1(n.startAt,e.startAt)&&w1(n.endAt,e.endAt)}function Tb(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ld{constructor(e,t=null,r=[],i=[],a=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=p,this.endAt=_,this.wt=null,this._t=null}}function sy(n){return new ld(n)}function R1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function iM(n){return null!==n.collectionGroup}function zg(n){const e=Je(n);if(null===e.wt){e.wt=[];const t=Mb(e),r=rM(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ry(t)),e.wt.push(new ry(yr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ry(yr.keyField(),a))}}}return e.wt}function Hs(n){const e=Je(n);if(!e._t)if("F"===e.limitType)e._t=nM(e.path,e.collectionGroup,zg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of zg(e))t.push(new ry(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Jh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Jh(e.startAt.position,e.startAt.inclusive):null;e._t=nM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function sM(n,e){e.getFirstInequalityField(),Mb(n);const t=n.filters.concat([e]);return new ld(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xb(n,e,t){return new ld(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _0(n,e){return m0(Hs(n),Hs(e))&&n.limitType===e.limitType}function k1(n){return`${$g(Hs(n))}|lt:${n.limitType}`}function oM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>I1(r)).join(", ")}]`),Yh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Su(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Su(r)).join(",")),`Target(${t})`}(Hs(n))}; limitType=${n.limitType})`}function y0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Qe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of zg(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const p=v1(i,a,c);return i.inclusive?p<=0:p<0}(t.startAt,zg(t),r)||t.endAt&&!function(i,a,c){const p=v1(i,a,c);return i.inclusive?p>=0:p>0}(t.endAt,zg(t),r)));var t,r}function O1(n){return(e,t)=>{let r=!1;for(const i of zg(n)){const a=pL(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function pL(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(i,a,c){const p=a.data.field(i),_=c.data.field(i);return null!==p&&null!==_?_a(p,_):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class ud{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sd(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return s(this.inner)}size(){return this.innerSize}}const gL=new o(Qe.comparator);function lo(){return gL}const P1=new o(Qe.comparator);function v0(...n){let e=P1;for(const t of n)e=e.insert(t.key,t);return e}function F1(n){let e=P1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Tu(){return w0()}function L1(){return w0()}function w0(){return new ud(n=>n.toString(),(n,e)=>n.isEqual(e))}const mL=new o(Qe.comparator),_L=new h(Qe.comparator);function Jt(...n){let e=_L;for(const t of n)e=e.add(t);return e}const yL=new h(Ht);function V1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bg(e)?"-0":e}}function U1(n){return{integerValue:""+n}}function B1(n,e){return function wb(n){return"number"==typeof n&&Number.isInteger(n)&&!Bg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?U1(e):V1(n,e)}class Rb{constructor(){this._=void 0}}function vL(n,e,t){return n instanceof oy?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&je(i)&&(i=Ye(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Gg?H1(n,e):n instanceof qg?$1(n,e):function(r,i){const a=j1(r,i),c=z1(a)+z1(r.gt);return Hg(a)&&Hg(r.gt)?U1(c):V1(r.serializer,c)}(n,e)}function wL(n,e,t){return n instanceof Gg?H1(n,e):n instanceof qg?$1(n,e):t}function j1(n,e){return n instanceof ay?Hg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class oy extends Rb{}class Gg extends Rb{constructor(e){super(),this.elements=e}}function H1(n,e){const t=G1(e);for(const r of n.elements)t.some(i=>Fi(i,r))||t.push(r);return{arrayValue:{values:t}}}class qg extends Rb{constructor(e){super(),this.elements=e}}function $1(n,e){let t=G1(e);for(const r of n.elements)t=t.filter(i=>!Fi(i,r));return{arrayValue:{values:t}}}class ay extends Rb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function z1(n){return Y(n.integerValue||n.doubleValue)}function G1(n){return ad(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class CL{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Nb{}function q1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new uy(n.key,vr.none()):new ly(n.key,n.data,vr.none());{const t=n.data,r=ns.empty();let i=new h(yr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new cd(n.key,r,new D(i.toArray()),vr.none())}}function DL(n,e,t){n instanceof ly?function(r,i,a){const c=r.value.clone(),p=K1(r.fieldTransforms,i,a.transformResults);c.setAll(p),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof cd?function(r,i,a){if(!kb(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=K1(r.fieldTransforms,i,a.transformResults),p=i.data;p.setAll(Z1(r)),p.setAll(c),i.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function C0(n,e,t,r){return n instanceof ly?function(i,a,c,p){if(!kb(i.precondition,a))return c;const _=i.value.clone(),C=Y1(i.fieldTransforms,p,a);return _.setAll(C),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof cd?function(i,a,c,p){if(!kb(i.precondition,a))return c;const _=Y1(i.fieldTransforms,p,a),C=a.data;return C.setAll(Z1(i)),C.setAll(_),a.convertToFoundDocument(a.version,C).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,kb(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function bL(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=j1(r.transform,i||null);null!=a&&(null===t&&(t=ns.empty()),t.set(r.field,a))}return t||null}function W1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&rd(t,r,(i,a)=>function EL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Gg&&r instanceof Gg||t instanceof qg&&r instanceof qg?rd(t.elements,r.elements,Fi):t instanceof ay&&r instanceof ay?Fi(t.gt,r.gt):t instanceof oy&&r instanceof oy);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ly extends Nb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cd extends Nb{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Z1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function K1(n,e,t){const r=new Map;ut(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,p=e.data.field(a.field);r.set(a.field,wL(c,p,t[i]))}return r}function Y1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,vL(a,c,e))}return r}class uy extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lM extends Nb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&DL(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=C0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=C0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=L1();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let p=this.applyToLocalView(c,a.mutatedFields);p=t.has(i.key)?null:p;const _=q1(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&rd(this.mutations,e.mutations,(t,r)=>W1(t,r))&&rd(this.baseMutations,e.baseMutations,(t,r)=>W1(t,r))}}class cM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ut(e.mutations.length===r.length);let i=mL;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new cM(e,t,r,i)}}class dM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SL{constructor(e,t){this.count=e,this.unchangedNames=t}}var ri,gn;function Q1(n){switch(n){default:return nt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function J1(n){if(void 0===n)return ar("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ri.OK:return pe.OK;case ri.CANCELLED:return pe.CANCELLED;case ri.UNKNOWN:return pe.UNKNOWN;case ri.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ri.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ri.INTERNAL:return pe.INTERNAL;case ri.UNAVAILABLE:return pe.UNAVAILABLE;case ri.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ri.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ri.NOT_FOUND:return pe.NOT_FOUND;case ri.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ri.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ri.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ri.ABORTED:return pe.ABORTED;case ri.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ri.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ri.DATA_LOSS:return pe.DATA_LOSS;default:return nt()}}(gn=ri||(ri={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class hM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ob}static getOrCreateInstance(){return null===Ob&&(Ob=new hM),Ob}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ob=null;const TL=new td([4294967295,4294967295],0);function eN(n){const e=function X1(){return new TextEncoder}().encode(n),t=new t0;return t.update(e),new Uint8Array(t.digest())}function tN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new td([t,r],0),new td([i,a],0)]}class fM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new D0(`Invalid padding: ${t}`);if(r<0)throw new D0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new D0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new D0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=td.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(td.fromNumber(r)));return 1===i.compare(TL)&&(i=new td([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=eN(e),[r,i]=tN(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new fM(a,i,t);return r.forEach(p=>c.insert(p)),c}insert(e){if(0===this.It)return;const t=eN(e),[r,i]=tN(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class D0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class b0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,I0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new b0(Dt.min(),i,new o(Ht),lo(),Jt())}}class I0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new I0(r,t,Jt(),Jt(),Jt())}}class Pb{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class nN{constructor(e,t){this.targetId=e,this.Vt=t}}class rN{constructor(e,t,r=N.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class iN{constructor(){this.St=0,this.Dt=oN(),this.Ct=N.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Jt(),t=Jt(),r=Jt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nt()}}),new I0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=oN()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class AL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lo(),this.zt=sN(),this.Wt=new o(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(Tb(c))if(0===i){const p=new Qe(c.path);this.Yt(r,p,lr.newNoDocument(p,Dt.min()))}else ut(1===i);else{const p=this.ie(r);if(p!==i){const _=this.re(e,p);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=hM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,S,x){var V,j,J,le,he,He;const et={localCacheCount:S,existenceFilterCount:x.count},at=x.unchangedNames;return at&&(et.bloomFilter={applied:0===C,hashCount:null!==(V=at?.hashCount)&&void 0!==V?V:0,bitmapLength:null!==(le=null===(J=null===(j=at?.bits)||void 0===j?void 0:j.bitmap)||void 0===J?void 0:J.length)&&void 0!==le?le:0,padding:null!==(He=null===(he=at?.bits)||void 0===he?void 0:he.padding)&&void 0!==He?He:0}),et}(_,p,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:p=0}=r;let _,C;try{_=we(a).toUint8Array()}catch(S){if(S instanceof I)return zr("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{C=new fM(_,c,p)}catch(S){return zr(S instanceof D0?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===C.It?1:i!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),p=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(p)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const p=this.se(c);if(p){if(a.current&&Tb(p.target)){const _=new Qe(p.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,lr.newNoDocument(_,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=Jt();this.zt.forEach((a,c)=>{let p=!0;c.forEachWhile(_=>{const C=this.se(_);return!C||"TargetPurposeLimboResolution"===C.purpose||(p=!1,!1)}),p&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new b0(e,t,this.Wt,this.jt,r);return this.jt=lo(),this.zt=sN(),this.Wt=new o(Ht),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new iN,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new h(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new iN),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function sN(){return new o(Qe.comparator)}function oN(){return new o(Qe.comparator)}const ML=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),RL=(()=>({and:"AND",or:"OR"}))();class kL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pM(n,e){return n.useProto3Json||Yh(e)?e:{value:e}}function cy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NL(n,e){return cy(n,e.toTimestamp())}function qr(n){return ut(!!n),Dt.fromTimestamp(function(e){const t=$(e);return new Un(t.seconds,t.nanos)}(n))}function gM(n,e){return(t=n,new rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lN(n){const e=rn.fromString(n);return ut(_N(e)),e}function S0(n,e){return gM(n.databaseId,e.path)}function Au(n,e){const t=lN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(cN(t))}function mM(n,e){return gM(n.databaseId,e)}function T0(n){return new rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cN(n){return ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dN(n,e,t){return{name:S0(n,e),fields:t.value.mapValue.fields}}function fN(n,e){return{documents:[mM(n,e.path)]}}function yM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return mN(Bn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(C=>{return{field:Xh((S=C).field),direction:VL(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=pM(n,e.limit);var p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function pN(n){let e=function uN(n){const e=lN(n);return 4===e.length?rn.emptyPath():cN(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ut(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=function(S){const x=gN(S);return x instanceof Bn&&eM(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new ry(dy((x=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let p=null;t.limit&&(p=function(S){let x;return x="object"==typeof S?S.value:S,Yh(x)?null:x}(t.limit));let _=null;var S;t.startAt&&(_=new Jh((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Jh(S.values||[],!S.before)}(t.endAt)),function x1(n,e,t,r,i,a,c,p){return new ld(n,e,t,r,i,a,c,p)}(e,i,c,a,p,"F",_,C)}function gN(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dy(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=dy(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dy(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=dy(e.unaryFilter.field);return un.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?un.create(dy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Bn.create(e.compositeFilter.filters.map(t=>gN(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function VL(n){return ML[n]}function UL(n){return xL[n]}function BL(n){return RL[n]}function Xh(n){return{fieldPath:n.canonicalString()}}function dy(n){return yr.fromServerFormat(n.fieldPath)}function mN(n){return n instanceof un?function(e){if("=="===e.op){if(p1(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NAN"}};if(f1(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(p1(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NAN"}};if(f1(e.value))return{unaryFilter:{field:Xh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xh(e.field),op:UL(e.op),value:e.value}}}(n):n instanceof Bn?function(e){const t=e.getFilters().map(r=>mN(r));return 1===t.length?t[0]:{compositeFilter:{op:BL(e.op),filters:t}}}(n):nt()}function jL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _N(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class dd{constructor(e,t,r,i,a=Dt.min(),c=Dt.min(),p=N.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yN{constructor(e){this.fe=e}}function vM(n){const e=pN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xb(e,e.limit,"L"):e}class Yg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Y(e.integerValue));else if("doubleValue"in e){const r=Y(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Bg(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(we(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?g1(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Yg.Ve=new Yg;class YL{constructor(){this.rn=new IM}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(so.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(so.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class IM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new h(rn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new h(rn.comparator)).toArray()}}class ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ys(e,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class Jg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Jg(0)}static Mn(){return new Jg(-1)}}class s2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class GN{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&C0(r.mutation,i,D.empty(),Un.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=Tu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=v0();return a.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Tu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let a=lo();const c=w0(),p=w0();return t.forEach((_,C)=>{const S=r.get(C.key);i.has(C.key)&&(void 0===S||S.mutation instanceof cd)?a=a.insert(C.key,C):void 0!==S?(c.set(C.key,S.mutation.getFieldMask()),C0(S.mutation,C,S.mutation.getFieldMask(),Un.now())):c.set(C.key,D.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((C,S)=>c.set(C,S)),t.forEach((C,S)=>{var x;return p.set(C,new s2(S,null!==(x=c.get(C))&&void 0!==x?x:null))}),p))}recalculateAndSaveOverlays(e,t){const r=w0();let i=new o((c,p)=>c-p),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let S=r.get(_)||D.empty();S=p.applyToLocalView(C,S),r.set(_,S);const x=(i.get(p.batchId)||Jt()).add(_);i=i.insert(p.batchId,x)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),C=_.key,S=_.value,x=L1();S.forEach(V=>{if(!a.has(V)){const j=q1(t.get(V),r.get(V));null!==j&&x.set(V,j),a=a.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,C,x))}return ae.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):iM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ae.resolve(Tu());let p=-1,_=a;return c.next(C=>ae.forEach(C,(S,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),a.get(S)?ae.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{_=_.insert(S,V)}))).next(()=>this.populateOverlays(e,C,a)).next(()=>this.computeViews(e,_,C,Jt())).next(S=>({batchId:p,changes:F1(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let i=v0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=v0();return this.indexManager.getCollectionParents(e,i).next(c=>ae.forEach(c,p=>{const _=(C=t,S=p.child(i),new ld(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((S,x)=>{a=a.insert(S,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((p,_)=>{const C=_.getKey();null===a.get(C)&&(a=a.insert(C,lr.newInvalidDocument(C)))});let c=v0();return a.forEach((p,_)=>{const C=i.get(p);void 0!==C&&C0(C.mutation,_,D.empty(),Un.now()),y0(t,_)&&(c=c.insert(p,_))}),c})}}class o2{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:qr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:vM(r.bundledQuery),readTime:qr(r.readTime)}),ae.resolve();var r}}class a2{constructor(){this.overlays=new o(Qe.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tu();return ae.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const i=Tu(),a=t.length+1,c=new Qe(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new o((C,S)=>C-S);const c=this.overlays.getIterator();for(;c.hasNext();){const C=c.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=a.get(C.largestBatchId);null===S&&(S=Tu(),a=a.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const p=Tu(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,S)=>p.set(C,S)),!(p.size()>=i)););return ae.resolve(p)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new dM(t,r));let a=this.ls.get(t);void 0===a&&(a=Jt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class SM{constructor(){this.fs=new h(Li.ds),this.ws=new h(Li._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Li(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Li(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new rn([])),r=new Li(t,e),i=new Li(t,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new rn([])),r=new Li(t,e),i=new Li(t,e+1);let a=Jt();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Li(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Qe.comparator(e.key,t.key)}}class l2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new h(Li.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const c=new uM(a,t,r,i);this.mutationQueue.push(c);for(const p of i)this.Rs=this.Rs.add(new Li(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const p=this.Ps(c.As);a.push(p)}),ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new h(Ht);return t.forEach(i=>{const a=new Li(i,0),c=new Li(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],p=>{r=r.add(p.As)})}),ae.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Qe.isDocumentKey(a)||(a=a.child(""));const c=new Li(new Qe(a),0);let p=new h(Ht);return this.Rs.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(p=p.add(_.As)),!0)},c),ae.resolve(this.Vs(p))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ae.forEach(t.mutations,i=>{const a=new Li(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Li(t,0),i=this.Rs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class u2{constructor(e){this.Ds=e,this.docs=new o(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():lr.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():lr.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=lo();const c=t.path,p=new Qe(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:C,value:{document:S}}=_.getNext();if(!c.isPrefixOf(C.path))break;C.path.length>c.length+1||_b($A(S),r)<=0||(i.has(S.key)||y0(t,S))&&(a=a.insert(S.key,S.mutableCopy()))}return ae.resolve(a)}getAllFromCollectionGroup(e,t,r,i){nt()}Cs(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new c2(this)}getSize(e){return ae.resolve(this.size)}}class c2 extends class BN{constructor(){this.changes=new ud(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class d2{constructor(e){this.persistence=e,this.xs=new ud(t=>$g(t),m0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new SM,this.targetCount=0,this.Ms=Jg.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Jg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ae.waitFor(a).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ae.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class TM{constructor(e,t){this.$s={},this.overlays={},this.Os=new ao(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new d2(this),this.indexManager=new YL,this.remoteDocumentCache=new u2(r=>this.referenceDelegate.Ls(r)),this.serializer=new yN(t),this.qs=new o2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new l2(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new h2(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ae.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class h2 extends class Vg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class zb{constructor(e){this.persistence=e,this.Qs=new SM,this.js=null}static zs(e){return new zb(e)}get Ws(){if(this.js)return this.js;throw nt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,r=>{const i=Qe.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,Dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class RM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Jt(),i=Jt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new RM(e,t.fromCache,r,i)}}class WN{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(R1(t))return ae.resolve(null);let r=Hs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=xb(t,null,"F"),r=Hs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Jt(...a);return this.Ui.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.ji(t,p);return this.zi(t,C,c,_.readTime)?this.Ki(e,xb(t,null,"F")):this.Wi(e,C,t,_)}))})))}Gi(e,t,r,i){return R1(t)||i.isEqual(Dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,i)?this.Qi(e,t):(r0()<=sl.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oM(t)),this.Wi(e,c,t,function HA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(1e9===r?new Un(t+1,0):new Un(t,r));return new so(i,Qe.empty(),e)}(i,-1)))})}ji(e,t){let r=new h(O1(e));return t.forEach((i,a)=>{y0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return r0()<=sl.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",oM(t)),this.Ui.getDocumentsMatchingQuery(e,t,so.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class p2{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new o(Ht),this.Yi=new ud(a=>$g(a),m0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GN(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function KN(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,De.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],p=[];let _=Jt();for(const C of i){c.push(C.batchId);for(const S of C.mutations)_=_.add(S.key)}for(const C of a){p.push(C.batchId);for(const S of C.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(r,_).next(C=>({er:C,removedBatchIds:c,addedBatchIds:p}))})})}),kM.apply(this,arguments)}function g2(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,p,_,C){const S=_.batch,x=S.keys();let V=ae.resolve();return x.forEach(j=>{V=V.next(()=>C.getEntry(p,j)).next(J=>{const le=_.docVersions.get(j);ut(null!==le),J.version.compareTo(le)<0&&(S.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),C.addEntry(J)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(p,S))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Jt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function YN(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function m2(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const p=[];e.targetChanges.forEach((S,x)=>{const V=i.get(x);if(!V)return;p.push(t.Bs.removeMatchingKeys(a,S.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(a,S.addedDocuments,x)));let j=V.withSequenceNumber(a.currentSequenceNumber);var J,le,he;null!==e.targetMismatches.get(x)?j=j.withResumeToken(N.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,r)),i=i.insert(x,j),le=j,he=S,(0===(J=V).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&p.push(t.Bs.updateTargetData(a,j))});let _=lo(),C=Jt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,S))}),p.push(function QN(n,e,t){let r=Jt(),i=Jt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=lo();return t.forEach((p,_)=>{const C=a.get(p);_.isFoundDocument()!==C.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(Dt.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Ue("LocalStore","Ignoring outdated watch update for ",p,". Current version:",C.version," Watch version:",_.version)}),{nr:c,sr:i}})}(a,c,e.documentUpdates).next(S=>{_=S.nr,C=S.sr})),!r.isEqual(Dt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(a).next(x=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));p.push(S)}return ae.waitFor(p).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,C)).next(()=>_)}).then(a=>(t.Ji=i,a))}function _2(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function py(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ae.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new dd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function gy(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,De.Z)(function*(n,e,t){const r=Je(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Iu(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),NM.apply(this,arguments)}function Wb(n,e,t){const r=Je(n);let i=Dt.min(),a=Jt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,C){const S=Je(p),x=S.Yi.get(C);return void 0!==x?ae.resolve(S.Ji.get(x)):S.Bs.getTargetData(_,C)}(r,c,Hs(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,p.targetId).next(_=>{a=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Dt.min(),t?a:Jt())).next(p=>(function eO(n,e,t){let r=n.Xi.get(e)||Dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function N1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),p),{documents:p,ir:a})))}class VM{constructor(){this.activeTargetIds=function aM(){return yL}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rO{constructor(){this.Hr=new VM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new VM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w2{Yr(e){}shutdown(){}}class iO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yb=null;function BM(){return null===Yb?Yb=268435456+Math.round(2147483648*Math.random()):Yb++,"0x"+Yb.toString(16)}const E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C2{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const vs="WebChannelConnection";class D2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const c=BM(),p=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${c}:`,p,r);const _={};return this.Eo(_,i,a),this.Ao(e,p,_,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${c}: `,C),C),C=>{throw zr("RestConnection",`RPC '${e}' ${c} failed with error: `,C,"url: ",p,"request:",r),C})}vo(e,t,r,i,a,c){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+nd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${E2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=BM();return new Promise((c,p)=>{const _=new PA;_.setWithCredentials(!0),_.listenOnce(OA.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Pg.NO_ERROR:const S=_.getResponseJson();Ue(vs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(S)),c(S);break;case Pg.TIMEOUT:Ue(vs,`RPC '${e}' ${a} timed out`),p(new Ne(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Pg.HTTP_ERROR:const x=_.getStatus();if(Ue(vs,`RPC '${e}' ${a} failed with status:`,x,"response text:",_.getResponseText()),x>0){let V=_.getResponseJson();Array.isArray(V)&&(V=V[0]);const j=V?.error;if(j&&j.status&&j.message){const J=function(le){const he=le.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(he)>=0?he:pe.UNKNOWN}(j.status);p(new Ne(J,j.message))}else p(new Ne(pe.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Ne(pe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ue(vs,`RPC '${e}' ${a} completed.`)}});const C=JSON.stringify(i);Ue(vs,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",C,r,15)})}Ro(e,t,r){const i=BM(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Fo(),p=NA(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(_.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(_.xmlHttpFactory=new e0({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const S=a.join("");Ue(vs,`Creating RPC '${e}' stream ${i}: ${S}`,_);const x=c.createWebChannel(S,_);let V=!1,j=!1;const J=new C2({ro:he=>{j?Ue(vs,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(V||(Ue(vs,`Opening RPC '${e}' stream ${i} transport.`),x.open(),V=!0),Ue(vs,`RPC '${e}' stream ${i} sending:`,he),x.send(he))},oo:()=>x.close()}),le=(he,He,et)=>{he.listen(He,at=>{try{et(at)}catch(vt){setTimeout(()=>{throw vt},0)}})};return le(x,Q_.EventType.OPEN,()=>{j||Ue(vs,`RPC '${e}' stream ${i} transport opened.`)}),le(x,Q_.EventType.CLOSE,()=>{j||(j=!0,Ue(vs,`RPC '${e}' stream ${i} transport closed`),J.wo())}),le(x,Q_.EventType.ERROR,he=>{j||(j=!0,zr(vs,`RPC '${e}' stream ${i} transport errored:`,he),J.wo(new Ne(pe.UNAVAILABLE,"The operation could not be completed")))}),le(x,Q_.EventType.MESSAGE,he=>{var He;if(!j){const et=he.data[0];ut(!!et);const at=et,vt=at.error||(null===(He=at[0])||void 0===He?void 0:He.error);if(vt){Ue(vs,`RPC '${e}' stream ${i} received error:`,vt);const qt=vt.status;let Wt=function(is){const Ca=ri[is];if(void 0!==Ca)return J1(Ca)}(qt),Sn=vt.message;void 0===Wt&&(Wt=pe.INTERNAL,Sn="Unknown error status: "+qt+" with message "+vt.message),j=!0,J.wo(new Ne(Wt,Sn)),x.close()}else Ue(vs,`RPC '${e}' stream ${i} received:`,et),J._o(et)}}),le(p,io.STAT_EVENT,he=>{he.stat===lb.PROXY?Ue(vs,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===lb.NOPROXY&&Ue(vs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{J.fo()},0),J}}function Qb(){return typeof document<"u"?document:null}function L0(n){return new kL(n,!0)}class jM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class oO{constructor(e,t,r,i,a,c,p,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,De.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,De.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,De.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ne(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,De.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b2 extends oO{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function PL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:nt(),i=e.targetChange.targetIds||[],a=function(_,C){return _.useProto3Json?(ut(void 0===C||"string"==typeof C),N.fromBase64String(C||"")):(ut(void 0===C||C instanceof Uint8Array),N.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const C=void 0===_.code?pe.UNKNOWN:J1(_.code);return new Ne(C,_.message||"")}(c);t=new rN(r,i,a,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Au(n,r.document.name),a=qr(r.document.updateTime),c=r.document.createTime?qr(r.document.createTime):Dt.min(),p=new ns({mapValue:{fields:r.document.fields}}),_=lr.newFoundDocument(i,a,c,p);t=new Pb(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Au(n,r.document),a=r.readTime?qr(r.readTime):Dt.min(),c=lr.newNoDocument(i,a);t=new Pb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Au(n,r.document);t=new Pb([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new SL(i,a);t=new nN(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?qr(a.readTime):Dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=T0(this.serializer),t.addTarget=function(i,a){let c;const p=a.target;if(c=Tb(p)?{documents:fN(i,p)}:{query:yM(i,p)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=aN(i,a.resumeToken);const _=pM(i,a.expectedCount);null!==_&&(c.expectedCount=_)}else if(a.snapshotVersion.compareTo(Dt.min())>0){c.readTime=cy(i,a.snapshotVersion.toTimestamp());const _=pM(i,a.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function LL(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=T0(this.serializer),t.removeTarget=e,this.Wo(t)}}class I2 extends oO{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function FL(n,e){return n&&n.length>0?(ut(void 0!==e),n.map(t=>function(r,i){let a=qr(r.updateTime?r.updateTime:i);return a.isEqual(Dt.min())&&(a=qr(i)),new CL(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.cu(r,t)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=T0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function A0(n,e){let t;if(e instanceof ly)t={update:dN(n,e.key,e.value)};else if(e instanceof uy)t={delete:S0(n,e.key)};else if(e instanceof cd)t={update:dN(n,e.key,e.data),updateMask:jL(e.fieldMask)};else{if(!(e instanceof lM))return nt();t={verify:S0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof oy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ay)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:NL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:nt()),t;var i}(this.serializer,r))};this.Wo(t)}}class S2 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(pe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(pe.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class A2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class M2{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(p=>{r.enqueueAndForget((0,De.Z)(function*(){var _;rf(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,De.Z)(function*(C){const S=Je(C);S.vu.add(4),yield my(S),S.bu.set("Unknown"),S.vu.delete(4),yield V0(S)}),function(C){return _.apply(this,arguments)})(c))}))}),this.bu=new A2(r,i)}}function V0(n){return $M.apply(this,arguments)}function $M(){return $M=(0,De.Z)(function*(n){if(rf(n))for(const e of n.Ru)yield e(!0)}),$M.apply(this,arguments)}function my(n){return zM.apply(this,arguments)}function zM(){return zM=(0,De.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),zM.apply(this,arguments)}function Jb(n,e){const t=Je(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),WM(t)?qM(t):yy(t).Ko()&&GM(t,e))}function U0(n,e){const t=Je(n),r=yy(t);t.Au.delete(e),r.Ko()&&aO(t,e),0===t.Au.size&&(r.Ko()?r.jo():rf(t)&&t.bu.set("Unknown"))}function GM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yy(n).su(e)}function aO(n,e){n.Vu.qt(e),yy(n).iu(e)}function qM(n){n.Vu=new AL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),yy(n).start(),n.bu.gu()}function WM(n){return rf(n)&&!yy(n).Uo()&&n.Au.size>0}function rf(n){return 0===Je(n).vu.size}function lO(n){n.Vu=void 0}function x2(n){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,De.Z)(function*(n){n.Au.forEach((e,t)=>{GM(n,e)})}),ZM.apply(this,arguments)}function R2(n,e){return KM.apply(this,arguments)}function KM(){return KM=(0,De.Z)(function*(n,e){lO(n),WM(n)?(n.bu.Iu(e),qM(n)):n.bu.set("Unknown")}),KM.apply(this,arguments)}function k2(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=(0,De.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof rN&&2===e.state&&e.cause)try{yield(r=(0,De.Z)(function*(i,a){const c=a.cause;for(const p of a.targetIds)i.Au.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.Au.delete(p),i.Vu.removeTarget(p))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Xb(n,r)}else if(e instanceof Pb?n.Vu.Ht(e):e instanceof nN?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Dt.min()))try{const r=yield YN(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const C=i.Au.get(_);C&&i.Au.set(_,C.withResumeToken(p.resumeToken,a))}}),c.targetMismatches.forEach((p,_)=>{const C=i.Au.get(p);if(!C)return;i.Au.set(p,C.withResumeToken(N.EMPTY_BYTE_STRING,C.snapshotVersion)),aO(i,p);const S=new dd(C.target,p,_,C.sequenceNumber);GM(i,S)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield Xb(n,r)}var r}),YM.apply(this,arguments)}function Xb(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,De.Z)(function*(n,e,t){if(!Iu(e))throw e;n.vu.add(1),yield my(n),n.bu.set("Offline"),t||(t=()=>YN(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield V0(n)}))}),QM.apply(this,arguments)}function uO(n,e){return e().catch(t=>Xb(n,t,e))}function _y(n){return JM.apply(this,arguments)}function JM(){return JM=(0,De.Z)(function*(n){const e=Je(n),t=sf(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;N2(e);)try{const i=yield _2(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,O2(e,i)}catch(i){yield Xb(e,i)}cO(e)&&dO(e)}),JM.apply(this,arguments)}function N2(n){return rf(n)&&n.Eu.length<10}function O2(n,e){n.Eu.push(e);const t=sf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function cO(n){return rf(n)&&!sf(n).Uo()&&n.Eu.length>0}function dO(n){sf(n).start()}function P2(n){return XM.apply(this,arguments)}function XM(){return XM=(0,De.Z)(function*(n){sf(n).hu()}),XM.apply(this,arguments)}function F2(n){return ex.apply(this,arguments)}function ex(){return ex=(0,De.Z)(function*(n){const e=sf(n);for(const t of n.Eu)e.uu(t.mutations)}),ex.apply(this,arguments)}function L2(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,De.Z)(function*(n,e,t){const r=n.Eu.shift(),i=cM.from(r,e,t);yield uO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _y(n)}),tx.apply(this,arguments)}function V2(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,De.Z)(function*(n,e){var t;e&&sf(n).ou&&(yield(t=(0,De.Z)(function*(r,i){if(Q1(a=i.code)&&a!==pe.ABORTED){const c=r.Eu.shift();sf(r).Qo(),yield uO(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield _y(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),cO(n)&&dO(n)}),nx.apply(this,arguments)}function hO(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,De.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=rf(t);t.vu.add(3),yield my(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield V0(t)}),rx.apply(this,arguments)}function sx(){return sx=(0,De.Z)(function*(n,e){const t=Je(n);e?(t.vu.delete(2),yield V0(t)):e||(t.vu.add(2),yield my(t),t.bu.set("Unknown"))}),sx.apply(this,arguments)}function yy(n){return n.Su||(n.Su=function(e,t,r){const i=Je(e);return i.fu(),new b2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:x2.bind(null,n),ao:R2.bind(null,n),nu:k2.bind(null,n)}),n.Ru.push(function(){var e=(0,De.Z)(function*(t){t?(n.Su.Qo(),WM(n)?qM(n):n.bu.set("Unknown")):(yield n.Su.stop(),lO(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function sf(n){return n.Du||(n.Du=function(e,t,r){const i=Je(e);return i.fu(),new I2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:P2.bind(null,n),ao:V2.bind(null,n),au:F2.bind(null,n),cu:L2.bind(null,n)}),n.Ru.push(function(){var e=(0,De.Z)(function*(t){t?(n.Du.Qo(),yield _y(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class ox{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,p=new ox(e,t,c,i,a);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(ar("AsyncQueue",`${e}: ${n}`),Iu(n))return new Ne(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class wy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=v0(),this.sortedSet=new o(this.comparator)}static emptySet(e){return new wy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fO{constructor(){this.Cu=new o(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ey{constructor(e,t,r,i,a,c,p,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new Ey(e,t,wy.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class U2{constructor(){this.Nu=void 0,this.listeners=[]}}class B2{constructor(){this.queries=new ud(e=>k1(e),_0),this.onlineState="Unknown",this.ku=new Set}}function ax(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,De.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new U2),i)try{a.Nu=yield t.onListen(r)}catch(c){const p=vy(c,`Initialization of query '${oM(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&dx(t)}),lx.apply(this,arguments)}function ux(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,De.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),cx.apply(this,arguments)}function j2(n,e){const t=Je(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.$u(i)&&(r=!0);c.Nu=i}}r&&dx(t)}function H2(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function dx(n){n.ku.forEach(e=>{e.next()})}class hx{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ey(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ey.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class mO{constructor(e){this.key=e}}class _O{constructor(e){this.key=e}}class yO{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Jt(),this.mutatedKeys=Jt(),this.tc=O1(e),this.ec=new wy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new fO,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,x)=>{const V=i.get(S),j=y0(this.query,x)?x:null,J=!!V&&this.mutatedKeys.has(V.key),le=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let he=!1;V&&j?V.data.isEqual(j.data)?J!==le&&(r.track({type:3,doc:j}),he=!0):this.rc(V,j)||(r.track({type:2,doc:j}),he=!0,(_&&this.tc(j,_)>0||C&&this.tc(j,C)<0)&&(p=!0)):!V&&j?(r.track({type:0,doc:j}),he=!0):V&&!j&&(r.track({type:1,doc:V}),he=!0,(_||C)&&(p=!0)),he&&(j?(c=c.add(j),a=le?a.add(S):a.delete(S)):(c=c.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{ec:c,ic:r,zi:p,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((C,S)=>function(x,V){const j=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return j(x)-j(V)}(C.type,S.type)||this.tc(C.doc,S.doc)),this.oc(r);const c=t?this.uc():[],p=0===this.Zu.size&&this.current?1:0,_=p!==this.Xu;return this.Xu=p,0!==a.length||_?{snapshot:new Ey(this.query,e.ec,i,a,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new fO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Jt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new _O(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new mO(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Jt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ey.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class G2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class q2{constructor(e){this.key=e,this.fc=!1}}class W2{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new ud(p=>k1(p),_0),this._c=new Map,this.mc=new Set,this.gc=new o(Qe.comparator),this.yc=new Map,this.Ic=new SM,this.Tc={},this.Ec=new Map,this.Ac=Jg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Z2(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,De.Z)(function*(n,e){const t=Fx(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield py(t.localStore,Hs(e)),p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield px(t,e,r,"current"===p,c.resumeToken),t.isPrimaryClient&&Jb(t.remoteStore,c)}return i}),fx.apply(this,arguments)}function px(n,e,t,r,i){return gx.apply(this,arguments)}function gx(){return gx=(0,De.Z)(function*(n,e,t,r,i){n.Rc=(x,V,j)=>{return(J=(0,De.Z)(function*(le,he,He,et){let at=he.view.sc(He);at.zi&&(at=yield Wb(le.localStore,he.query,!1).then(({documents:Wt})=>he.view.sc(Wt,at)));const vt=et&&et.targetChanges.get(he.targetId),qt=he.view.applyChanges(at,le.isPrimaryClient,vt);return Ix(le,he.targetId,qt.cc),qt.snapshot}),function(le,he,He,et){return J.apply(this,arguments)})(n,x,V,j);var J};const a=yield Wb(n.localStore,e,!0),c=new yO(e,a.ir),p=c.sc(a.documents),_=I0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),C=c.applyChanges(p,n.isPrimaryClient,_);Ix(n,t,C.cc);const S=new G2(e,t,c);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),gx.apply(this,arguments)}function K2(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,De.Z)(function*(n,e){const t=Je(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!_0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield gy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),U0(t.remoteStore,r.targetId),Cy(t,r.targetId)}).catch(bu))):(Cy(t,r.targetId),yield gy(t.localStore,r.targetId,!0))}),mx.apply(this,arguments)}function _x(){return _x=(0,De.Z)(function*(n,e,t){const r=Lx(n);try{const i=yield function(a,c){const p=Je(a),_=Un.now(),C=c.reduce((V,j)=>V.add(j.key),Jt());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=lo(),J=Jt();return p.Zi.getEntries(V,C).next(le=>{j=le,j.forEach((he,He)=>{He.isValidDocument()||(J=J.add(he))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,j)).next(le=>{S=le;const he=[];for(const He of c){const et=bL(He,S.get(He.key).overlayedDocument);null!=et&&he.push(new cd(He.key,et,y1(et.value.mapValue),vr.exists(!0)))}return p.mutationQueue.addMutationBatch(V,_,he,c)}).next(le=>{x=le;const he=le.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(V,le.batchId,he)})}).then(()=>({batchId:x.batchId,changes:F1(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,p){let _=a.Tc[a.currentUser.toKey()];_||(_=new o(Ht)),_=_.insert(c,p),a.Tc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield hd(r,i.changes),yield _y(r.remoteStore)}catch(i){const a=vy(i,"Failed to persist write");t.reject(a)}}),_x.apply(this,arguments)}function vO(n,e){return yx.apply(this,arguments)}function yx(){return yx=(0,De.Z)(function*(n,e){const t=Je(n);try{const r=yield m2(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.yc.get(a);c&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?ut(c.fc):i.removedDocuments.size>0&&(ut(c.fc),c.fc=!1))}),yield hd(t,r,e)}catch(r){yield bu(r)}}),yx.apply(this,arguments)}function wO(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,c)=>{const p=c.view.Mu(e);p.snapshot&&i.push(p.snapshot)}),function(a,c){const p=Je(a);p.onlineState=c;let _=!1;p.queries.forEach((C,S)=>{for(const x of S.listeners)x.Mu(c)&&(_=!0)}),_&&dx(p)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q2(n,e,t){return vx.apply(this,arguments)}function vx(){return vx=(0,De.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new o(Qe.comparator);c=c.insert(a,lr.newNoDocument(a,Dt.min()));const p=Jt().add(a),_=new b0(Dt.min(),new Map,new o(Ht),c,p);yield vO(r,_),r.gc=r.gc.remove(a),r.yc.delete(e),Sx(r)}else yield gy(r.localStore,e,!1).then(()=>Cy(r,e,t)).catch(bu)}),vx.apply(this,arguments)}function J2(n,e){return wx.apply(this,arguments)}function wx(){return wx=(0,De.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield g2(t.localStore,e);bx(t,r,null),Dx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hd(t,i)}catch(i){yield bu(i)}}),wx.apply(this,arguments)}function X2(n,e,t){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,De.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,c){const p=Je(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return p.mutationQueue.lookupMutationBatch(_,c).next(S=>(ut(null!==S),C=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,C,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>p.localDocuments.getDocuments(_,C))})}(r.localStore,e);bx(r,e,t),Dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hd(r,i)}catch(i){yield bu(i)}}),Ex.apply(this,arguments)}function Dx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function bx(n,e,t){const r=Je(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||EO(n,r)})}function EO(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(U0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Sx(n))}function Ix(n,e,t){for(const r of t)r instanceof mO?(n.Ic.addReference(r.key,e),tV(n,r)):r instanceof _O?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||EO(n,r.key)):nt()}function tV(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),Sx(n))}function Sx(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(rn.fromString(e)),r=n.Ac.next();n.yc.set(r,new q2(t)),n.gc=n.gc.insert(t,r),Jb(n.remoteStore,new dd(Hs(sy(t.path)),r,"TargetPurposeLimboResolution",ao.ct))}}function hd(n,e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,De.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],c=[];var p;r.wc.isEmpty()||(r.wc.forEach((p,_)=>{c.push(r.Rc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){i.push(C);const S=RM.Li(_.targetId,C);a.push(S)}}))}),yield Promise.all(c),r.dc.nu(i),yield(p=(0,De.Z)(function*(_,C){const S=Je(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ae.forEach(C,V=>ae.forEach(V.Fi,j=>S.persistence.referenceDelegate.addReference(x,V.targetId,j)).next(()=>ae.forEach(V.Bi,j=>S.persistence.referenceDelegate.removeReference(x,V.targetId,j)))))}catch(x){if(!Iu(x))throw x;Ue("LocalStore","Failed to update sequence numbers: "+x)}for(const x of C){const V=x.targetId;if(!x.fromCache){const j=S.Ji.get(V),le=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);S.Ji=S.Ji.insert(V,le)}}}),function(_,C){return p.apply(this,arguments)})(r.localStore,a))}),Tx.apply(this,arguments)}function nV(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,De.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield KN(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(p=>{p.reject(new Ne(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hd(t,r.er)}var i}),Ax.apply(this,arguments)}function rV(n,e){const t=Je(n),r=t.yc.get(e);if(r&&r.fc)return Jt().add(r.key);{let i=Jt();const a=t._c.get(e);if(!a)return i;for(const c of a){const p=t.wc.get(c);i=i.unionWith(p.view.nc)}return i}}function Fx(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,e),e.dc.nu=j2.bind(null,e.eventManager),e.dc.Pc=H2.bind(null,e.eventManager),e}function Lx(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X2.bind(null,e),e}class B0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.serializer=L0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function ZN(n,e,t,r){return new p2(n,e,t,r)}(this.persistence,new WN,e.initialUser,this.serializer)}createPersistence(e){return new TM(zb.zs,this.serializer)}createSharedClientState(e){return new rO}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Dy{initialize(e,t){var r=this;return(0,De.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,r.syncEngine),yield function ix(n,e){return sx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new B2}createDatastore(e){const t=L0(e.databaseInfo.databaseId),r=new D2(e.databaseInfo);return new S2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=p=>wO(this.syncEngine,p,0),c=iO.D()?new iO:new w2,new M2(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,p,_,C){const S=new W2(r,i,a,c,p,_);return C&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const r=Je(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield my(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class eI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mV{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=o0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,De.Z)(function*(p){Ue("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=vy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tI(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,De.Z)(function*(a){r.isEqual(a)||(yield KN(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Ux.apply(this,arguments)}function Bx(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Hx(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>hO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>hO(e.remoteStore,a)),n._onlineComponents=e}),jx.apply(this,arguments)}function SO(n){return"FirebaseError"===n.name?n.code===pe.FAILED_PRECONDITION||n.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Hx(n){return $x.apply(this,arguments)}function $x(){return $x=(0,De.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!SO(t))throw t;zr("Error using user provided cache. Falling back to memory cache: "+t),yield tI(n,new B0)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield tI(n,new B0);return n._offlineComponents}),$x.apply(this,arguments)}function nI(n){return zx.apply(this,arguments)}function zx(){return zx=(0,De.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield Bx(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield Bx(n,new Dy))),n._onlineComponents}),zx.apply(this,arguments)}function rI(n){return Hx(n).then(e=>e.localStore)}function by(n){return qx.apply(this,arguments)}function qx(){return qx=(0,De.Z)(function*(n){const e=yield nI(n),t=e.eventManager;return t.onListen=Z2.bind(null,e.syncEngine),t.onUnlisten=K2.bind(null,e.syncEngine),t}),qx.apply(this,arguments)}function xO(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,c,p,_){const C=new eI({next:x=>{a.enqueueAndForget(()=>ux(i,S));const V=x.docs.has(c);!V&&x.fromCache?_.reject(new Ne(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&x.fromCache&&p&&"server"===p.source?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new hx(sy(c.path),C,{includeMetadataChanges:!0,Ku:!0});return ax(i,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function RO(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(i,a,c,p,_){const C=new eI({next:x=>{a.enqueueAndForget(()=>ux(i,S)),x.fromCache&&"server"===p.source?_.reject(new Ne(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),S=new hx(c,C,{includeMetadataChanges:!0,Ku:!0});return ax(i,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function kO(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const NO=new Map;function Wx(n,e,t){if(!t)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PO(n){if(!Qe.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FO(n){if(Qe.isDocumentKey(n))throw new Ne(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iI(n);throw new Ne(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LO(n,e){if(e<=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VO{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function OO(n,e,t,r){if(!0===e&&!0===r)throw new Ne(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kO(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class j0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new db;switch(t.type){case"firstParty":return new fb(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NO.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),NO.delete(e),t.terminate())}(this),Promise.resolve()}}class ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ur(this.firestore,e,this._key)}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Mu extends rs{constructor(e,t,r){super(e,t,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new Qe(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function sI(n,e,...t){if(n=(0,an.m9)(n),1===arguments.length&&(e=o0.A()),Wx("doc","path",e),n instanceof j0){const r=rn.fromString(e,...t);return PO(r),new ur(n,null,new Qe(r))}{if(!(n instanceof ur||n instanceof Mu))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return PO(r),new ur(n.firestore,n instanceof Mu?n.converter:null,new Qe(r))}}function jO(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),(n instanceof ur||n instanceof Mu)&&(e instanceof ur||e instanceof Mu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Zx(n,e){return n=(0,an.m9)(n),e=(0,an.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&_0(n._query,e._query)&&n.converter===e.converter}class SV{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jM(this,"async_queue_retry"),this.Xc=()=>{const t=Qb();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Gr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,De.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Iu(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=ox.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Kx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class cr extends j0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new SV,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HO(this),this._firestoreClient.terminate()}}function Wr(n){return n._firestoreClient||HO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function HO(n){var e,t,r;const i=n._freezeSettings(),a=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ft(n._databaseId,p,n._persistenceKey,(C=i).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,kO(C.experimentalLongPollingOptions),C.useFetchStreams));var p,C;n._firestoreClient=new mV(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xu(N.fromBase64String(e))}catch(t){throw new Ne(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xu(N.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class em{constructor(e){this._methodName=e}}class oI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const VV=/^__.*__$/;class UV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cd(e,this.data,this.fieldMask,t,this.fieldTransforms):new ly(e,this.data,t,this.fieldTransforms)}}class GO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new cd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class aI{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new aI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return cI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qO(this.ca)&&VV.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class BV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||L0(e)}ya(e,t,r,i=!1){return new aI({ca:e,methodName:t,ga:r,path:yr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tm(n){const e=n._freezeSettings(),t=L0(n._databaseId);return new BV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lI(n,e,t,r,i,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,i);Xx("Data must be an object, but it was:",c,r);const p=KO(r,c);let _,C;if(a.merge)_=new D(c.fieldMask),C=c.fieldTransforms;else if(a.mergeFields){const S=[];for(const x of a.mergeFields){const V=z0(e,x,t);if(!c.contains(V))throw new Ne(pe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);QO(S,V)||S.push(V)}_=new D(S),C=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,C=c.fieldTransforms;return new UV(new ns(p),_,C)}class $0 extends em{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $0}}function ZO(n,e,t,r=!1){return nm(t,n.ya(r?4:3,e))}function nm(n,e){if(YO(n=(0,an.m9)(n)))return Xx("Unsupported field value:",e,n),KO(n,e);if(n instanceof em)return function(t,r){if(!qO(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let p=nm(c,r.wa(a));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,an.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B1(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Un.fromDate(t);return{timestampValue:cy(r.serializer,i)}}if(t instanceof Un){const i=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cy(r.serializer,i)}}if(t instanceof oI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xu)return{bytesValue:aN(r.serializer,t._byteString)};if(t instanceof ur){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${iI(t)}`)}(n,e)}function KO(n,e){const t={};return s(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sd(n,(r,i)=>{const a=nm(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function YO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof oI||n instanceof xu||n instanceof ur||n instanceof em)}function Xx(n,e,t){if(!YO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function z0(n,e,t){if((e=(0,an.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return uI(n,e);throw cI("Field path arguments must be of type string or ",n,!1,void 0,t)}const zV=new RegExp("[~\\*/\\[\\]]");function uI(n,e,t){if(e.search(zV)>=0)throw cI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch{throw cI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cI(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ne(pe.INVALID_ARGUMENT,p+n+_)}function QO(n,e){return n.some(t=>t.isEqual(e))}class G0{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GV extends G0{data(){return super.data()}}function dI(n,e){return"string"==typeof e?uI(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}function JO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eR{}class q0 extends eR{}function af(n,e,...t){let r=[];e instanceof eR&&r.push(e),r=r.concat(t),function(i){const a=i.filter(p=>p instanceof Iy).length,c=i.filter(p=>p instanceof W0).length;if(a>1||a>0&&c>0)throw new Ne(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class W0 extends q0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new W0(e,t,r)}_apply(e){const t=this._parse(e);return nP(e._query,t),new rs(e.firestore,e.converter,sM(e._query,t))}_parse(e){const t=tm(e.firestore);return function(i,a,c,p,_,C,S){let x;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){tP(S,C);const V=[];for(const j of S)V.push(eP(p,i,j));x={arrayValue:{values:V}}}else x=eP(p,i,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||tP(S,C),x=ZO(c,"where",S,"in"===C||"not-in"===C);return un.create(_,C,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iy extends eR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Bn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const p of c)nP(a,p),a=sM(a,p)}(e._query,t),new rs(e.firestore,e.converter,sM(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tR extends q0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new tR(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ry(i,a);return function(p,_){if(null===rM(p)){const C=Mb(p);null!==C&&rP(0,C,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ld(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class hI extends q0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new hI(e,t,r)}_apply(e){return new rs(e.firestore,e.converter,xb(e._query,this._limit,this._limitType))}}class fI extends q0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new fI(e,t,r)}_apply(e){const t=XO(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(i=t,new ld((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class pI extends q0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pI(e,t,r)}_apply(e){const t=XO(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,(i=t,new ld((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function XO(n,e,t,r){if(t[0]=(0,an.m9)(t[0]),t[0]instanceof G0)return function(i,a,c,p,_){if(!p)throw new Ne(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const C=[];for(const S of zg(i))if(S.field.isKeyField())C.push(dl(a,p.key));else{const x=p.data.field(S.field);if(je(x))throw new Ne(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const V=S.field.canonicalString();throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}C.push(x)}return new Jh(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=tm(n.firestore);return function(a,c,p,_,C,S){const x=a.explicitOrderBy;if(C.length>x.length)throw new Ne(pe.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let j=0;j<C.length;j++){const J=C[j];if(x[j].field.isKeyField()){if("string"!=typeof J)throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof J}`);if(!iM(a)&&-1!==J.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${J}' contains a slash.`);const le=a.path.child(rn.fromString(J));if(!Qe.isDocumentKey(le))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const he=new Qe(le);V.push(dl(c,he))}else{const le=ZO(p,_,J);V.push(le)}}return new Jh(V,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function eP(n,e,t){if("string"==typeof(t=(0,an.m9)(t))){if(""===t)throw new Ne(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iM(e)&&-1!==t.indexOf("/"))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rn.fromString(t));if(!Qe.isDocumentKey(r))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dl(n,new Qe(r))}if(t instanceof ur)return dl(n,t._key);throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iI(t)}.`)}function tP(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nP(n,e){if(e.isInequality()){const r=Mb(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=rM(n);null!==a&&rP(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ne(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rP(n,e,t){if(!t.isEqual(e))throw new Ne(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nR{convertValue(e,t="none"){switch(Cn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Y(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(we(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return sd(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new oI(Y(e.latitude),Y(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ye(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ct(e));default:return null}}convertTimestamp(e){const t=$(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rn.fromString(e);ut(_N(r));const i=new Me(r.get(1),r.get(3)),a=new Qe(r.popFirst(5));return i.isEqual(t)||ar(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function gI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class rm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends G0{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(dI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Z0 extends pd{data(e={}){return super.data(e)}}class lf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Z0(this._firestore,this._userDataWriter,r.key,r,new rm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Z0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new rm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Z0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new rm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),C=a.indexOf(c.doc.key)),{type:nU(c.type),doc:p,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function sP(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof lf&&e instanceof lf&&n._firestore===e._firestore&&Zx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class uf extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ur(this.firestore,null,t)}}function oP(n,e,t){n=cn(n,ur);const r=cn(n.firestore,cr),i=gI(n.converter,e,t);return Sy(r,[lI(tm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,vr.none())])}function aP(n,e,t,...r){n=cn(n,ur);const i=cn(n.firestore,cr),a=tm(i);let c;return c="string"==typeof(e=(0,an.m9)(e))||e instanceof fd?function Jx(n,e,t,r,i,a){const c=n.ya(1,e,t),p=[z0(e,r,t)],_=[i];if(a.length%2!=0)throw new Ne(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)p.push(z0(e,a[V])),_.push(a[V+1]);const C=[],S=ns.empty();for(let V=p.length-1;V>=0;--V)if(!QO(C,p[V])){const j=p[V];let J=_[V];J=(0,an.m9)(J);const le=c.da(j);if(J instanceof $0)C.push(j);else{const he=nm(J,le);null!=he&&(C.push(j),S.set(j,he))}}const x=new D(C);return new GO(S,x,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function Qx(n,e,t,r){const i=n.ya(1,e,t);Xx("Data must be an object, but it was:",i,r);const a=[],c=ns.empty();sd(r,(_,C)=>{const S=uI(e,_,t);C=(0,an.m9)(C);const x=i.da(S);if(C instanceof $0)a.push(S);else{const V=nm(C,x);null!=V&&(a.push(S),c.set(S,V))}});const p=new D(a);return new GO(c,p,i.fieldTransforms)}(a,"updateDoc",n._key,e),Sy(i,[c.toMutation(n._key,vr.exists(!0))])}function lP(n,...e){var t,r,i;n=(0,an.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||Kx(e[c])||(a=e[c],c++);const p={includeMetadataChanges:a.includeMetadataChanges};if(Kx(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,C,S;if(n instanceof ur)C=cn(n.firestore,cr),S=sy(n._key.path),_={next:x=>{e[c]&&e[c](rR(C,n,x))},error:e[c+1],complete:e[c+2]};else{const x=cn(n,rs);C=cn(x.firestore,cr),S=x._query;const V=new uf(C);_={next:j=>{e[c]&&e[c](new lf(C,V,x,j))},error:e[c+1],complete:e[c+2]},JO(n._query)}return function(x,V,j,J){const le=new eI(J),he=new hx(V,le,j);return x.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return ax(yield by(x),he)})),()=>{le.Dc(),x.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return ux(yield by(x),he)}))}}(Wr(C),S,p,_)}function Sy(n,e){return function(t,r){const i=new Gr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function Y2(n,e,t){return _x.apply(this,arguments)}(yield function Gx(n){return nI(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Wr(n),e)}function rR(n,e,t){const r=t.docs.get(e._key),i=new uf(n);return new pd(n,i,e._key,r,new rm(t.hasPendingWrites,t.fromCache),e.converter)}function dP(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function hP(){if(!function M(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}class K0{constructor(e){this._delegate=e}static fromBase64String(e){return hP(),new K0(xu.fromBase64String(e))}static fromUint8Array(e){return dP(),new K0(xu.fromUint8Array(e))}toBase64(){return hP(),this._delegate.toBase64()}toUint8Array(){return dP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sR(n){return function xU(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class mI extends nR{constructor(e){super(),this.firestore=e}convertBytes(e){return new K0(new xu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ya.forKey(t,this.firestore,null)}}class im{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Z0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Q0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=im.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new im(e,new mI(e),t),i.set(t,a)),a}}im.INSTANCES=new WeakMap;class ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ya(t,new ur(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new ya(t,new ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,function BO(n,e,...t){if(n=(0,an.m9)(n),Wx("collection","path",e),n instanceof j0){const r=rn.fromString(e,...t);return FO(r),new Mu(n,null,r)}{if(!(n instanceof ur||n instanceof Mu))throw new Ne(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rn.fromString(e,...t));return FO(r),new Mu(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw $s(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,an.m9)(e))instanceof ur&&jO(this._delegate,e)}set(e,t){t=function iR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?oP(this._delegate,e,t):oP(this._delegate,e)}catch(r){throw $s(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?aP(this._delegate,e):aP(this._delegate,e,t,...r)}catch(i){throw $s(i,"updateDoc()","DocumentReference.update()")}}delete(){return function uU(n){return Sy(cn(n.firestore,cr),[new uy(n._key,vr.none())])}(this._delegate)}onSnapshot(...e){const t=mP(e),r=_P(e,i=>new Y0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function iU(n){n=cn(n,ur);const e=cn(n.firestore,cr),t=Wr(e),r=new uf(e);return function vV(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,c){try{const p=yield function(_,C){const S=Je(_);return S.persistence.runTransaction("read document","readonly",x=>S.localDocuments.getDocument(x,C))}(i,a);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=vy(p,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield rI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new pd(e,r,n._key,i,new rm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function sU(n){n=cn(n,ur);const e=cn(n.firestore,cr);return xO(Wr(e),n._key,{source:"server"}).then(t=>rR(e,n,t))}(this._delegate):function rU(n){n=cn(n,ur);const e=cn(n.firestore,cr);return xO(Wr(e),n._key).then(t=>rR(e,n,t))}(this._delegate),t.then(r=>new Y0(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ya(this.firestore,this._delegate.withConverter(e?im.getInstance(this.firestore,e):null))}}function $s(n,e,t){return n.message=n.message.replace(e,t),n}function mP(n){for(const e of n)if("object"==typeof e&&!sR(e))return e;return{}}function _P(n,e){var t,r;let i;return i=sR(n[0])?n[0]:sR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Y0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sP(this._delegate,e._delegate)}}class Q0 extends Y0{data(e){const t=this._delegate.data(e);return function FA(n,e){n||nt()}(void 0!==t),t}}class zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mI(e)}where(e,t,r){try{return new zs(this.firestore,af(this._delegate,function qV(n,e,t){const r=e,i=dI("where",n);return W0._create(i,r,t)}(e,t,r)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zs(this.firestore,af(this._delegate,function WV(n,e="asc"){const t=e,r=dI("orderBy",n);return tR._create(r,t)}(e,t)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zs(this.firestore,af(this._delegate,function ZV(n){return LO("limit",n),hI._create("limit",n,"F")}(e)))}catch(t){throw $s(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zs(this.firestore,af(this._delegate,function KV(n){return LO("limitToLast",n),hI._create("limitToLast",n,"L")}(e)))}catch(t){throw $s(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zs(this.firestore,af(this._delegate,function YV(...n){return fI._create("startAt",n,!0)}(...e)))}catch(t){throw $s(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zs(this.firestore,af(this._delegate,function QV(...n){return fI._create("startAfter",n,!1)}(...e)))}catch(t){throw $s(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zs(this.firestore,af(this._delegate,function JV(...n){return pI._create("endBefore",n,!1)}(...e)))}catch(t){throw $s(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zs(this.firestore,af(this._delegate,function XV(...n){return pI._create("endAt",n,!0)}(...e)))}catch(t){throw $s(t,"endAt()","Query.endAt()")}}isEqual(e){return Zx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function aU(n){n=cn(n,rs);const e=cn(n.firestore,cr),t=Wr(e),r=new uf(e);return function wV(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(r=(0,De.Z)(function*(i,a,c){try{const p=yield Wb(i,a,!0),_=new yO(a,p.ir),C=_.sc(p.documents),S=_.applyChanges(C,!1);c.resolve(S.snapshot)}catch(p){const _=vy(p,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield rI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new lf(e,r,n,i))}(this._delegate):"server"===e?.source?function lU(n){n=cn(n,rs);const e=cn(n.firestore,cr),t=Wr(e),r=new uf(e);return RO(t,n._query,{source:"server"}).then(i=>new lf(e,r,n,i))}(this._delegate):function oU(n){n=cn(n,rs);const e=cn(n.firestore,cr),t=Wr(e),r=new uf(e);return JO(n._query),RO(t,n._query).then(i=>new lf(e,r,n,i))}(this._delegate),t.then(r=>new oR(this.firestore,new lf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mP(e),r=_P(e,i=>new oR(this.firestore,new lf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lP(this._delegate,t,r)}withConverter(e){return new zs(this.firestore,this._delegate.withConverter(e?im.getInstance(this.firestore,e):null))}}class NU{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Q0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new NU(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Q0(this._firestore,r))})}isEqual(e){return sP(this._delegate,e._delegate)}}class Ty extends zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ya(this.firestore,e):null}doc(e){try{return new ya(this.firestore,void 0===e?sI(this._delegate):sI(this._delegate,e))}catch(t){throw $s(t,"doc()","CollectionReference.doc()")}}add(e){return function cU(n,e){const t=cn(n.firestore,cr),r=sI(n),i=gI(n.converter,e);return Sy(t,[lI(tm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ya(this.firestore,t))}isEqual(e){return jO(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?im.getInstance(this.firestore,e):null))}}function yP(n,e){return function LU(n,e=sw.z){return new Xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function lR(n,e){return yP(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function _I(n,e){return lR(n,e).pipe(sa(void 0),I_(),(0,Mt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(S=>S.doc.ref.isEqual(c.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),a}))}function vP(n,e,t){return _I(n,t).pipe(Zs((r,i)=>function UU(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function BU(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return uR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return uR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return uR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),ow(),(0,Mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function uR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function wP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class EP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=_I(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(sa(void 0),I_(),Hr(([r,i])=>i.length>0||!r),(0,Mt.U)(([r,i])=>i),pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wP(e);return vP(this.query,t,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),pi.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(pi.iC)}add(e){return this.ref.add(e)}doc(e){return new CP(this.ref.doc(e),this.afs)}}class CP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=IP(r,t);return new EP(i,a,this.afs)}snapshotChanges(){return function VU(n,e){return yP(n,e).pipe(sa(void 0),I_(),(0,Mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(pi.iC)}}class jU{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?_I(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hr(t=>t.length>0),pi.iC):_I(this.query,this.afs.schedulers.outsideAngular).pipe(pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=wP(e);return vP(this.query,t,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(e={}){return lR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),pi.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(pi.iC)}}const DP=new u.OlP("angularfire2.enableFirestorePersistence"),bP=new u.OlP("angularfire2.firestore.persistenceSettings"),HU=new u.OlP("angularfire2.firestore.settings"),$U=new u.OlP("angularfire2.firestore.use-emulator");function IP(n,e=(t=>t)){return{query:e(n),ref:n}}let yI=(()=>{class n{constructor(t,r,i,a,c,p,_,C,S,x,V,j,J,le,he,He,et){this.schedulers=_;const at=(0,ms.on)(t,p,r),vt=S;x&&cD(at,p,V,J,le,he,j,He),[this.firestore,this.persistenceEnabled$]=(0,ms.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const qt=p.runOutsideAngular(()=>at.firestore());if(a&&qt.settings(a),vt&&qt.useEmulator(...vt),i&&!wl(c)){const Wt=()=>{try{return(0,on.D)(qt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Sn){return typeof console<"u"&&console.warn(Sn),lt(!1)}};return[qt,p.runOutsideAngular(Wt)]}return[qt,lt(!1)]},[a,vt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=IP(i,r),p=this.schedulers.ngZone.run(()=>a);return new EP(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new jU(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new CP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ms.Dh),u.LFG(ms.xv,8),u.LFG(DP,8),u.LFG(HU,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(pi.HU),u.LFG(bP,8),u.LFG($U,8),u.LFG(_u,8),u.LFG(tw,8),u.LFG(nw,8),u.LFG(rw,8),u.LFG(iw,8),u.LFG(lD,8),u.LFG(uD,8),u.LFG(Xp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zU=(()=>{class n{constructor(){aD.Z.registerVersion("angularfire",pi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:DP,useValue:!0},{provide:bP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yI]}),n})(),cR=(()=>{class n{constructor(t){this._AngularFirestore=t,this.users=new Xr.y,this.isAdd=!1,this.usersCollection=this._AngularFirestore.collection("users")}addUser(t){return this._AngularFirestore.collection("users",i=>i.where("email","==",t.email)).get().toPromise().then(i=>{if(i&&i.size>0)throw new Error("User with the same email already exists.");return this.isAdd=!0,this._AngularFirestore.collection("users").add(t)}).catch(i=>{console.error("Error checking user existence:",i)})}getUsers(){return this.users=this.usersCollection.snapshotChanges().pipe((0,Mt.U)(t=>t.map(r=>r.payload.doc.data()))),this.users}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yI))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function GU(n,e){if(1&n&&(u.TgZ(0,"div",15),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.errorMessage)}}function qU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"name is required"),u.qZA())}function WU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"name minlength is 3"),u.qZA())}function ZU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"name maxlength is 15"),u.qZA())}function KU(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,qU,2,0,"p",16),u.YNc(2,WU,2,0,"p",16),u.YNc(3,ZU,2,0,"p",16),u.qZA()),2&n){const t=u.oxw();let r,i,a;u.xp6(1),u.Q6J("ngIf",null==(r=t.registerForm.get("name"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.registerForm.get("name"))?null:i.getError("minlength")),u.xp6(1),u.Q6J("ngIf",null==(a=t.registerForm.get("name"))?null:a.getError("maxlength"))}}function YU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"email is required"),u.qZA())}function QU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1," invalid E-mail format"),u.qZA())}function JU(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,YU,2,0,"p",16),u.YNc(2,QU,2,0,"p",16),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.registerForm.get("email"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.registerForm.get("email"))?null:i.getError("email"))}}function XU(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"phone is required"),u.qZA())}function eB(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"the phone number is invalid"),u.qZA())}function tB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,XU,2,0,"p",16),u.YNc(2,eB,2,0,"p",16),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.registerForm.get("phone"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.registerForm.get("phone"))?null:i.getError("pattern"))}}function nB(n,e){1&n&&(u.TgZ(0,"p",17),u._uU(1,"password is required"),u.qZA())}function rB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,nB,2,0,"p",16),u.qZA()),2&n){const t=u.oxw();let r;u.xp6(1),u.Q6J("ngIf",null==(r=t.registerForm.get("password"))?null:r.getError("required"))}}let iB=(()=>{class n{constructor(t,r){this._AuthService=t,this._UserService=r,this.registerForm=new il({name:new Mi(null,[bn.maxLength(15),bn.minLength(3),bn.required]),email:new Mi(null,[bn.email,bn.required]),phone:new Mi(null,[bn.pattern("^[0-9]{11}$"),bn.required]),password:new Mi(null,[bn.required])}),this.errorMessage=""}submitSignUpForm(){const t=Object.assign(this.registerForm.value);this._AuthService.signup(t),this.errorMessage=this._AuthService.errorMessage,this._UserService.addUser(t).then(()=>{})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D_),u.Y36(cR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:24,vars:7,consts:[[1,"cont","d-flex","align-items-center","justify-content-center"],[1,"w-50","shadow","p-5"],["class"," alert alert-danger",4,"ngIf"],[1,"text-dark","text-muted","py-2"],[3,"formGroup","ngSubmit"],["for","name"],["formControlName","name",1,"form-control","mb-3","border","border-dark"],[4,"ngIf"],["for","email"],["formControlName","email",1,"form-control","mb-3","border","border-dark"],["for","phone"],["formControlName","phone",1,"form-control","mb-3","border","border-dark"],["for","password"],["type","password","formControlName","password",1,"form-control","mb-3","border","border-dark"],["type","submit",1,"btn","btn","btn-outline-primary",3,"disabled"],[1,"alert","alert-danger"],["class"," alert alert-danger py-1",4,"ngIf"],[1,"alert","alert-danger","py-1"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,GU,2,1,"div",2),u.TgZ(3,"h3",3),u._uU(4,"Register"),u.qZA(),u.TgZ(5,"form",4),u.NdJ("ngSubmit",function(){return r.submitSignUpForm()}),u.TgZ(6,"label",5),u._uU(7,"name :"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,KU,4,3,"div",7),u.TgZ(10,"label",8),u._uU(11,"email :"),u.qZA(),u._UZ(12,"input",9),u.YNc(13,JU,3,2,"div",7),u.TgZ(14,"label",10),u._uU(15,"phone :"),u.qZA(),u._UZ(16,"input",11),u.YNc(17,tB,3,2,"div",7),u.TgZ(18,"label",12),u._uU(19,"Password :"),u.qZA(),u._UZ(20,"input",13),u.YNc(21,rB,2,1,"div",7),u.TgZ(22,"button",14),u._uU(23," Register "),u.qZA()()()()),2&t){let i,a,c,p;u.xp6(2),u.Q6J("ngIf",r.errorMessage),u.xp6(3),u.Q6J("formGroup",r.registerForm),u.xp6(4),u.Q6J("ngIf",(null==(i=r.registerForm.get("name"))?null:i.errors)&&(null==(i=r.registerForm.get("name"))?null:i.touched)),u.xp6(4),u.Q6J("ngIf",(null==(a=r.registerForm.get("email"))?null:a.errors)&&(null==(a=r.registerForm.get("email"))?null:a.touched)),u.xp6(4),u.Q6J("ngIf",(null==(c=r.registerForm.get("phone"))?null:c.errors)&&(null==(c=r.registerForm.get("phone"))?null:c.touched)),u.xp6(4),u.Q6J("ngIf",(null==(p=r.registerForm.get("password"))?null:p.errors)&&(null==(p=r.registerForm.get("password"))?null:p.touched)),u.xp6(1),u.Q6J("disabled",r.registerForm.invalid)}},dependencies:[Zn,Pc,fu,Ym,Qm,Lc,Sh]}),n})();function sB(n,e){1&n&&(u.TgZ(0,"h6",16),u._uU(1,"User added successfully"),u.qZA())}function oB(n,e){if(1&n&&(u.TgZ(0,"h6",17),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.errMessage)}}function aB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"name is required"),u.qZA())}function lB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"name minlength is 3"),u.qZA())}function uB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"name maxlength is 15"),u.qZA())}function cB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,aB,2,0,"p",18),u.YNc(2,lB,2,0,"p",18),u.YNc(3,uB,2,0,"p",18),u.qZA()),2&n){const t=u.oxw();let r,i,a;u.xp6(1),u.Q6J("ngIf",null==(r=t.newUserForm.get("name"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.newUserForm.get("name"))?null:i.getError("minlength")),u.xp6(1),u.Q6J("ngIf",null==(a=t.newUserForm.get("name"))?null:a.getError("maxlength"))}}function dB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"E-mail is required"),u.qZA())}function hB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1," invalid E-mail format"),u.qZA())}function fB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,dB,2,0,"p",18),u.YNc(2,hB,2,0,"p",18),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.newUserForm.get("email"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.newUserForm.get("email"))?null:i.getError("email"))}}function pB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"phone is required"),u.qZA())}function gB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"the phone number is invalid"),u.qZA())}function mB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,pB,2,0,"p",18),u.YNc(2,gB,2,0,"p",18),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.newUserForm.get("phone"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.newUserForm.get("phone"))?null:i.getError("pattern"))}}function _B(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"password is required"),u.qZA())}function yB(n,e){1&n&&(u.TgZ(0,"p",19),u._uU(1,"password should start with a letter followed by numbers and it's length 6-8 "),u.qZA())}function vB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,_B,2,0,"p",18),u.YNc(2,yB,2,0,"p",18),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.newUserForm.get("password"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.newUserForm.get("password"))?null:i.getError("pattern"))}}let wB=(()=>{class n{constructor(t){this._UserService=t,this.newUserForm=new il({name:new Mi(null,[bn.maxLength(15),bn.minLength(3),bn.required]),email:new Mi(null,[bn.email,bn.required]),phone:new Mi(null,[bn.pattern("^[0-9]{11}$"),bn.required]),password:new Mi(null,[bn.pattern("^[a-z][0-9]{5,8}$"),bn.required])}),this.isAdded=!1,this.err=!1,this.errMessage=""}addUser(){const t=Object.assign(this.newUserForm.value);this._UserService.addUser(t).then(()=>{this._UserService.isAdd?(this.isAdded=this._UserService.isAdd,this.err=!1,this.newUserForm.reset()):(this.err=!0,this.isAdded=!1,this.errMessage="User with the same email already exists.")})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-new-user"]],decls:25,vars:8,consts:[[1,"cont","d-flex","align-items-center","justify-content-center"],[1,"w-50","shadow","p-5"],[1,"text-dark","text-muted","py-2"],["class"," alert alert-success fs-6",4,"ngIf"],["class"," alert alert-danger fs-6",4,"ngIf"],[3,"formGroup","ngSubmit"],["for","name"],["formControlName","name",1,"form-control","mb-3","border","border-dark"],[4,"ngIf"],["for","email"],["formControlName","email",1,"form-control","mb-3","border","border-dark"],["for","phone"],["formControlName","phone",1,"form-control","mb-3","border","border-dark"],["for","password"],["type","password","formControlName","password",1,"form-control","mb-3","border","border-dark"],["type","submit",1,"btn","btn","btn-outline-primary",3,"disabled"],[1,"alert","alert-success","fs-6"],[1,"alert","alert-danger","fs-6"],["class"," alert alert-danger py-1",4,"ngIf"],[1,"alert","alert-danger","py-1"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),u._uU(3,"Add User"),u.qZA(),u.YNc(4,sB,2,0,"h6",3),u.YNc(5,oB,2,1,"h6",4),u.TgZ(6,"form",5),u.NdJ("ngSubmit",function(){return r.addUser()}),u.TgZ(7,"label",6),u._uU(8,"name :"),u.qZA(),u._UZ(9,"input",7),u.YNc(10,cB,4,3,"div",8),u.TgZ(11,"label",9),u._uU(12,"email :"),u.qZA(),u._UZ(13,"input",10),u.YNc(14,fB,3,2,"div",8),u.TgZ(15,"label",11),u._uU(16,"phone :"),u.qZA(),u._UZ(17,"input",12),u.YNc(18,mB,3,2,"div",8),u.TgZ(19,"label",13),u._uU(20,"Password :"),u.qZA(),u._UZ(21,"input",14),u.YNc(22,vB,3,2,"div",8),u.TgZ(23,"button",15),u._uU(24," ADD USER "),u.qZA()()()()),2&t){let i,a,c,p;u.xp6(4),u.Q6J("ngIf",r.isAdded),u.xp6(1),u.Q6J("ngIf",r.err),u.xp6(1),u.Q6J("formGroup",r.newUserForm),u.xp6(4),u.Q6J("ngIf",(null==(i=r.newUserForm.get("name"))?null:i.errors)&&(null==(i=r.newUserForm.get("name"))?null:i.touched)),u.xp6(4),u.Q6J("ngIf",(null==(a=r.newUserForm.get("email"))?null:a.errors)&&(null==(a=r.newUserForm.get("email"))?null:a.touched)),u.xp6(4),u.Q6J("ngIf",(null==(c=r.newUserForm.get("phone"))?null:c.errors)&&(null==(c=r.newUserForm.get("phone"))?null:c.touched)),u.xp6(4),u.Q6J("ngIf",(null==(p=r.newUserForm.get("password"))?null:p.errors)&&(null==(p=r.newUserForm.get("password"))?null:p.touched)),u.xp6(1),u.Q6J("disabled",r.newUserForm.invalid)}},dependencies:[Zn,Pc,fu,Ym,Qm,Lc,Sh]}),n})();function EB(n,e){1&n&&(u.TgZ(0,"h6"),u._uU(1,"seems like you deleted your data "),u.TgZ(2,"a",7),u._uU(3,"click to add ?"),u.qZA()())}let CB=(()=>{class n{constructor(t,r){this._AngularFirestore=t,this._AngularFireAuth=r,this.data=!1}ngOnInit(){this._AngularFireAuth.authState.subscribe(t=>{if(t){const r=t.email;this._AngularFirestore.collection("users",i=>i.where("email","==",r)).get().subscribe(i=>{i.forEach(a=>{this.userData=a.data(),this.data=!1})})}else this.data=!0})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yI),u.Y36(_u))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-user-profile"]],decls:17,vars:5,consts:[[1,"text-center","p-3"],[1,"container","p-5","shadow"],[4,"ngIf"],[1,"text-muted","py-1"],[1,"fa-regular","fa-user","text-info"],[1,"fa-solid","fa-lock","text-info"],[1,"fa-solid","fa-mobile-screen-button","text-info"],["routerLink","/new-user",1,"text-muted","curPointer"]],template:function(t,r){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Profile"),u.qZA(),u.TgZ(2,"div",1),u.YNc(3,EB,4,0,"h6",2),u.TgZ(4,"div")(5,"h3",3),u._UZ(6,"i",4),u._uU(7),u.qZA(),u.TgZ(8,"h3",3),u._UZ(9,"i",5),u._uU(10),u.qZA(),u.TgZ(11,"h3",3),u._UZ(12,"i",6),u._uU(13),u.qZA(),u.TgZ(14,"h3",3),u._UZ(15,"i",5),u._uU(16),u.qZA()()()),2&t&&(u.xp6(3),u.Q6J("ngIf",r.data),u.xp6(4),u.hij(" ",r.userData.name,""),u.xp6(3),u.hij(" ",r.userData.email,""),u.xp6(3),u.hij(" ",r.userData.phone,""),u.xp6(3),u.hij(" password: ",r.userData.password,""))},dependencies:[Zn,yh],styles:[".curPointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();const DB=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function bB(){return(0,u.f3M)(fe)}}),IB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let TB=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function SB(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?IB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(DB,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function am(n){return null!=n&&"false"!=`${n}`}function dR(n){return n instanceof u.SBq?n.nativeElement:n}function hR(n){return n&&"function"==typeof n.connect}class TP{applyChanges(e,t,r,i,a){e.forEachOperation((c,p,_)=>{let C,S;if(null==c.previousIndex){const x=r(c,p,_);C=t.createEmbeddedView(x.templateRef,x.context,x.index),S=1}else null==_?(t.remove(p),S=3):(C=t.get(p),t.move(C,_),S=2);a&&a({context:C?.context,operation:S,record:c})})}detach(){}}const J0=new u.OlP("_ViewRepeater");let fR;try{fR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fR=!1}let X0,gR,Ay=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Cf(n){return n===vl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pR(n){return function MB(){if(null==X0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>X0=!0}))}finally{X0=X0||!1}return X0}()?n:!!n.capture}function eE(n){return n.composedPath?n.composedPath()[0]:n.target}var xP=F(4408);const tE={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=tE;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new ac.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=tE;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=tE;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var RP=F(7565);new class OB extends RP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class NB extends xP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=tE.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(tE.cancelAnimationFrame(t),e._scheduled=void 0)}});let mR,FB=1;const EI={};function kP(n){return n in EI&&(delete EI[n],!0)}const LB={setImmediate(n){const e=FB++;return EI[e]=!0,mR||(mR=Promise.resolve()),mR.then(()=>kP(e)&&n()),e},clearImmediate(n){kP(n)}},{setImmediate:VB,clearImmediate:UB}=LB,CI={setImmediate(...n){const{delegate:e}=CI;return(e?.setImmediate||VB)(...n)},clearImmediate(n){const{delegate:e}=CI;return(e?.clearImmediate||UB)(n)},delegate:void 0};new class jB extends RP.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class BB extends xP.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=CI.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(CI.clearImmediate(t),e._scheduled=void 0)}});var zB=F(3532);function WB(n,e=sw.z){return function $B(n){return(0,pr.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const p=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const C=i;i=null,t.next(C)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Gn.x)(t,C=>{r=!0,i=C,a||(0,ks.Xf)(n(C)).subscribe(a=(0,Gn.x)(t,p,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function qB(n=0,e,t=sw.P){let r=-1;return null!=e&&((0,zB.K)(e)?t=e:r=e),new Xr.y(i=>{let a=function GB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let KB=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new wn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(WB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ay),u.LFG(u.R0b),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vI,NP,vI,NP]}),n})();var JB=F(5032);function xy(n){return(0,pr.e)((e,t)=>{(0,ks.Xf)(n).subscribe((0,Gn.x)(t,()=>t.complete(),JB.Z)),!t.closed&&e.subscribe(t)})}const XB=[[["caption"]],[["colgroup"],["col"]]],ej=["caption","colgroup, col"];function _R(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=am(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Ry=new u.OlP("CDK_TABLE");let ky=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Ny=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),DI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class ij{}const sj=_R(ij);let gd=(()=>{class n extends sj{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=am(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ry,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,ky,5),u.Suo(i,Ny,5),u.Suo(i,DI,5)),2&t){let a;u.iGM(a=u.CRH())&&(r.cell=a.first),u.iGM(a=u.CRH())&&(r.headerCell=a.first),u.iGM(a=u.CRH())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})();class yR{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let vR=(()=>{class n extends yR{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gd),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),n})(),wR=(()=>{class n extends yR{constructor(t,r){if(super(t,r),1===t._table?._elementRef.nativeElement.nodeType){const i=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gd),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]}),n})();class PP{constructor(){this.tasks=[],this.endTasks=[]}}const ER=new u.OlP("_COALESCED_STYLE_SCHEDULER");let FP=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new wn.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new PP,this._getScheduleObservable().pipe(xy(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new PP;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,on.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(So(1))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),CR=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof nE?t.headerCell.template:this instanceof rE?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();class oj extends CR{}const aj=_R(oj);let nE=(()=>{class n extends aj{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(Ry,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})();class lj extends CR{}const uj=_R(lj);let rE=(()=>{class n extends uj{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(Ry,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})(),bI=(()=>{class n extends CR{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(Ry,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),n})(),md=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},dependencies:[md],encapsulation:2}),n})(),IR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},dependencies:[md],encapsulation:2}),n})(),II=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const LP=["top","bottom","left","right"];class cj{constructor(e,t,r,i,a=!0,c=!0,p){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=c,this._positionListener=p,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let a=0;a<i.children.length;a++)r.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(V=>V)&&!r.some(V=>V))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],c=a.children.length,p=this._getCellWidths(a,i),_=this._getStickyStartColumnPositions(p,t),C=this._getStickyEndColumnPositions(p,r),S=t.lastIndexOf(!0),x=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const V="rtl"===this.direction,j=V?"right":"left",J=V?"left":"right";for(const le of e)for(let he=0;he<c;he++){const He=le.children[he];t[he]&&this._addStickyStyle(He,j,_[he],he===S),r[he]&&this._addStickyStyle(He,J,C[he],he===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===S?[]:p.slice(0,S+1).map((le,he)=>t[he]?le:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:p.slice(x).map((le,he)=>r[he+x]?le:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,a="bottom"===r?t.slice().reverse():t,c=[],p=[],_=[];for(let S=0,x=0;S<i.length;S++){if(!a[S])continue;c[S]=x;const V=i[S];_[S]=this._isNativeHtmlTable?Array.from(V.children):[V];const j=V.getBoundingClientRect().height;x+=j,p[S]=j}const C=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let S=0;S<i.length;S++){if(!a[S])continue;const x=c[S],V=S===C;for(const j of _[S])this._addStickyStyle(j,r,x,V)}"top"===r?this._positionListener?.stickyHeaderRowsUpdated({sizes:p,offsets:c,elements:_}):this._positionListener?.stickyFooterRowsUpdated({sizes:p,offsets:c,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);LP.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of LP)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let a=0;a<i.length;a++)r.push(i[a].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let a=0;a<e.length;a++)t[a]&&(r[a]=i,i+=e[a]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let a=e.length;a>0;a--)t[a]&&(r[a]=i,i+=e[a]);return r}}const SR=new u.OlP("CDK_SPL");let SI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),TI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),AI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),MI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),xI=(()=>{class n{constructor(t,r,i,a,c,p,_,C,S,x,V,j){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=c,this._platform=_,this._viewRepeater=C,this._coalescedStyleScheduler=S,this._viewportRuler=x,this._stickyPositioningListener=V,this._ngZone=j,this._onDestroy=new wn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new On({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=p,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=am(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=am(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(xy(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),hR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,a,c)=>this._getEmbeddedViewArgs(i.item,c),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe(So(1),xy(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const a=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const a=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,c)=>{this._addStickyColumnStyles([a],this._headerRowDefs[c])}),this._rowDefs.forEach(a=>{const c=[];for(let p=0;p<r.length;p++)this._renderRows[p].rowDef===a&&c.push(r[p]);this._addStickyColumnStyles(c,a)}),i.forEach((a,c)=>{this._addStickyColumnStyles([a],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let a=this._data[i];const c=this._getRenderRowsForData(a,i,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let p=0;p<c.length;p++){let _=c[p];const C=this._cachedRenderRowsMap.get(_.data);C.has(_.rowDef)?C.get(_.rowDef).push(_):C.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(c=>{const p=i&&i.has(c)?i.get(c):[];if(p.length){const _=p.shift();return _.dataIndex=r,_}return{data:t,rowDef:c,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),RI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=RI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=RI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=RI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,p)=>c||!!p.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),r||i||a}_switchDataSource(t){this._data=[],hR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;hR(this.dataSource)?t=this.dataSource.connect(this):function QB(n){return!!n&&(n instanceof Xr.y||(0,qa.m)(n.lift)&&(0,qa.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=lt(this.dataSource)),this._renderChangeSubscription=t.pipe(xy(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(p=>this._columnDefsByName.get(p)),a=i.map(p=>p.sticky),c=i.map(p=>p.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const a=t.viewContainer.get(i);r.push(a.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(a=>!a.when||a.when(r,t));else{let a=this._rowDefs.find(c=>c.when&&c.when(r,t))||this._defaultRowDef;a&&i.push(a)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,a={}){const c=t.viewContainer.createEmbeddedView(r.template,a,i);return this._renderCellTemplateForItem(r,a),c}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))md.mostRecentCellOutlet&&md.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const c=t.get(r).context;c.count=i,c.first=0===r,c.last=r===i-1,c.even=r%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[r].dataIndex,c.renderIndex=r):c.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup");for(const c of i.outlets)a.appendChild(c.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new cj(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:lt()).pipe(xy(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const a=i.createEmbeddedView(t.templateRef),c=a.rootNodes[0];1===a.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(TB,8),u.Y36(fe),u.Y36(Ay),u.Y36(J0),u.Y36(ER),u.Y36(KB),u.Y36(SR,12),u.Y36(u.R0b,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,II,5),u.Suo(i,gd,5),u.Suo(i,bI,5),u.Suo(i,nE,5),u.Suo(i,rE,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._noDataRow=a.first),u.iGM(a=u.CRH())&&(r._contentColumnDefs=a),u.iGM(a=u.CRH())&&(r._contentRowDefs=a),u.iGM(a=u.CRH())&&(r._contentHeaderRowDefs=a),u.iGM(a=u.CRH())&&(r._contentFooterRowDefs=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(SI,7),u.Gf(TI,7),u.Gf(AI,7),u.Gf(MI,7)),2&t){let i;u.iGM(i=u.CRH())&&(r._rowOutlet=i.first),u.iGM(i=u.CRH())&&(r._headerRowOutlet=i.first),u.iGM(i=u.CRH())&&(r._footerRowOutlet=i.first),u.iGM(i=u.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:Ry,useExisting:n},{provide:J0,useClass:TP},{provide:ER,useClass:FP},{provide:SR,useValue:null}])],ngContentSelectors:ej,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(u.F$t(XB),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[SI,TI,AI,MI],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function RI(n,e){return n.concat(Array.from(e))}let hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[YB]}),n})();function kI(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const BP="cdk-describedby-message",NI="cdk-describedby-host";let TR=0,Dj=(()=>{class n{constructor(t,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+TR++,this._document=t,this._id=(0,u.f3M)(u.AFp)+"-"+TR++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;const a=AR(r,i);"string"!=typeof r?(jP(r,this._id),this._messageRegistry.set(a,{messageElement:r,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;const a=AR(r,i);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof r){const c=this._messageRegistry.get(a);c&&0===c.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${NI}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(NI);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){const i=this._document.createElement("div");jP(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(AR(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<r.length;a++)r[a].remove();const i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){const r=kI(t,"aria-describedby").filter(i=>0!=i.indexOf(BP));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const i=this._messageRegistry.get(r);(function Ej(n,e,t){const r=kI(n,e);r.some(i=>i.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",i.messageElement.id),t.setAttribute(NI,this._id),i.referenceCount++}_removeMessageReference(t,r){const i=this._messageRegistry.get(r);i.referenceCount--,function Cj(n,e,t){const i=kI(n,e).filter(a=>a!=t.trim());i.length?n.setAttribute(e,i.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",i.messageElement.id),t.removeAttribute(NI)}_isElementDescribedByMessage(t,r){const i=kI(t,"aria-describedby"),a=this._messageRegistry.get(r),c=a&&a.messageElement.id;return!!c&&-1!=i.indexOf(c)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const i=null==r?"":`${r}`.trim(),a=t.getAttribute("aria-label");return!(!i||a&&a.trim()===i)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(Ay))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AR(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function jP(n,e){n.id||(n.id=`${BP}-${e}-${TR++}`)}const Rj=new u.OlP("cdk-input-modality-detector-options"),kj={ignoreKeys:[18,17,224,91,16]},Oy=pR({passive:!0,capture:!0});let Nj=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new On(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(p=>p===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=eE(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Mj(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(c)?"keyboard":"mouse"),this._mostRecentTarget=eE(c))},this._onTouchstart=c=>{!function xj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(c)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=eE(c)):this._modality.next("keyboard")},this._options={...kj,...a},this.modalityDetected=this._modality.pipe(function wj(n){return Hr((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(ow()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Oy),i.addEventListener("mousedown",this._onMousedown,Oy),i.addEventListener("touchstart",this._onTouchstart,Oy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Oy),document.removeEventListener("mousedown",this._onMousedown,Oy),document.removeEventListener("touchstart",this._onTouchstart,Oy))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ay),u.LFG(u.R0b),u.LFG(fe),u.LFG(Rj,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pj=new u.OlP("cdk-focus-monitor-default-options"),OI=pR({passive:!0,capture:!0});let Fj=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new wn.x,this._rootNodeFocusAndBlurListener=p=>{const _=eE(p),C="focus"===p.type?this._onFocus:this._onBlur;for(let S=_;S;S=S.parentElement)C.call(this,p,S)},this._document=a,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=dR(t);if(!this._platform.isBrowser||1!==i.nodeType)return lt(null);const a=function RB(n){if(function xB(){if(null==gR){const n=typeof document<"u"?document.head:null;gR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const p={checkChildren:r,subject:new wn.x,rootNode:a};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=dR(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=dR(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([p,_])=>this._originChanged(p,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=eE(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,OI),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,OI)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xy(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,OI),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,OI),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ay),u.LFG(Nj),u.LFG(fe,8),u.LFG(Pj,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zP="cdk-high-contrast-black-on-white",GP="cdk-high-contrast-white-on-black",MR="cdk-high-contrast-active";let Lj=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(MR,zP,GP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(MR,zP):2===r&&t.add(MR,GP)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ay),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vj=(()=>{class n{}return n.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",n.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",n.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",n.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",n})(),Uj=(()=>{class n{}return n.COMPLEX="375ms",n.ENTERING="225ms",n.EXITING="195ms",n})();const jj=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function Bj(){return!0}});let xR=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function kB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Lj),u.LFG(jj,8),u.LFG(fe))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[vI,vI]}),n})();function ZP(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=am(e)}}}function Hj(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Xr.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}const Wj=[[["caption"]],[["colgroup"],["col"]]],Zj=["caption","colgroup, col"];let JP=(()=>{class n extends xI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:J0,useClass:TP},{provide:xI,useExisting:n},{provide:Ry,useExisting:n},{provide:ER,useClass:FP},{provide:SR,useValue:null}]),u.qOj],ngContentSelectors:Zj,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(u.F$t(Wj),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[SI,TI,AI,MI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),kR=(()=>{class n extends ky{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:ky,useExisting:n}]),u.qOj]}),n})(),NR=(()=>{class n extends Ny{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:Ny,useExisting:n}]),u.qOj]}),n})(),OR=(()=>{class n extends gd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:gd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})(),PR=(()=>{class n extends vR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[u.qOj]}),n})(),FR=(()=>{class n extends wR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[u.qOj]}),n})(),XP=(()=>{class n extends nE{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:nE,useExisting:n}]),u.qOj]}),n})(),eF=(()=>{class n extends bI{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:bI,useExisting:n}]),u.qOj]}),n})(),tF=(()=>{class n extends DR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:DR,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},dependencies:[md],encapsulation:2}),n})(),nF=(()=>{class n extends IR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[u._Bn([{provide:IR,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},dependencies:[md],encapsulation:2}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[hj,xR,xR]}),n})();class rF extends class oH extends class AB{}{constructor(e=[]){super(),this._renderData=new On([]),this._filter=new On(""),this._internalPageChanges=new wn.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,r)=>{const i=t[r];if(function SP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(i)){const a=Number(i);return a<9007199254740991?a:i}return i},this.sortData=(t,r)=>{const i=r.active,a=r.direction;return i&&""!=a?t.sort((c,p)=>{let _=this.sortingDataAccessor(c,i),C=this.sortingDataAccessor(p,i);const S=typeof _,x=typeof C;S!==x&&("number"===S&&(_+=""),"number"===x&&(C+=""));let V=0;return null!=_&&null!=C?_>C?V=1:_<C&&(V=-1):null!=_?V=1:null!=C&&(V=-1),V*("asc"==a?1:-1)}):t},this.filterPredicate=(t,r)=>{const i=Object.keys(t).reduce((c,p)=>c+t[p]+"\u25ec","").toLowerCase(),a=r.trim().toLowerCase();return-1!=i.indexOf(a)},this._data=new On(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){const e=this._sort?(0,zp.T)(this._sort.sortChange,this._sort.initialized):lt(null),t=this._paginator?(0,zp.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):lt(null),i=Ki([this._data,this._filter]).pipe((0,Mt.U)(([p])=>this._filterData(p))),a=Ki([i,e]).pipe((0,Mt.U)(([p])=>this._orderData(p))),c=Ki([a,t]).pipe((0,Mt.U)(([p])=>this._pageData(p)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(p=>this._renderData.next(p))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const r=Math.ceil(t.length/t.pageSize)-1||0,i=Math.min(t.pageIndex,r);i!==t.pageIndex&&(t.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}{}class iF{}const _d="*";function Py(n,e){return{type:7,name:n,definitions:e,options:{}}}function yd(n,e=null){return{type:4,styles:e,timings:n}}function sF(n,e=null){return{type:2,steps:n,options:e}}function Pr(n){return{type:6,styles:n,offset:null}}function va(n,e,t){return{type:0,name:n,styles:e,options:t}}function PI(n){return{type:5,steps:n}}function Ru(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function lH(n=null){return{type:9,options:n}}function uH(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function oF(n){Promise.resolve().then(n)}class sE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?oF(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const cH=["mat-sort-header",""];function dH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",3),u.NdJ("@arrowPosition.start",function(){u.CHM(t);const i=u.oxw();return u.KtG(i._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){u.CHM(t);const i=u.oxw();return u.KtG(i._disableViewStateAnimation=!1)}),u._UZ(1,"div",4),u.TgZ(2,"div",5),u._UZ(3,"div",6)(4,"div",7)(5,"div",8),u.qZA()()}if(2&n){const t=u.oxw();u.Q6J("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),u.xp6(2),u.Q6J("@indicator",t._getArrowDirectionState()),u.xp6(1),u.Q6J("@leftPointer",t._getArrowDirectionState()),u.xp6(1),u.Q6J("@rightPointer",t._getArrowDirectionState())}}const hH=["*"],lF=new u.OlP("MAT_SORT_DEFAULT_OPTIONS"),fH=Hj(ZP(class{}));let VR=(()=>{class n extends fH{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new wn.x,this.start="asc",this._direction="",this.sortChange=new u.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=am(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let i=function pH(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),a=i.indexOf(this.direction)+1;return a>=i.length&&(a=0),i[a]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lF,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[u.qOj,u.TTD]}),n})();const df=Uj.ENTERING+" "+Vj.STANDARD_CURVE,Fy={indicator:Py("indicator",[va("active-asc, asc",Pr({transform:"translateY(0px)"})),va("active-desc, desc",Pr({transform:"translateY(10px)"})),Ru("active-asc <=> active-desc",yd(df))]),leftPointer:Py("leftPointer",[va("active-asc, asc",Pr({transform:"rotate(-45deg)"})),va("active-desc, desc",Pr({transform:"rotate(45deg)"})),Ru("active-asc <=> active-desc",yd(df))]),rightPointer:Py("rightPointer",[va("active-asc, asc",Pr({transform:"rotate(45deg)"})),va("active-desc, desc",Pr({transform:"rotate(-45deg)"})),Ru("active-asc <=> active-desc",yd(df))]),arrowOpacity:Py("arrowOpacity",[va("desc-to-active, asc-to-active, active",Pr({opacity:1})),va("desc-to-hint, asc-to-hint, hint",Pr({opacity:.54})),va("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Pr({opacity:0})),Ru("* => asc, * => desc, * => active, * => hint, * => void",yd("0ms")),Ru("* <=> *",yd(df))]),arrowPosition:Py("arrowPosition",[Ru("* => desc-to-hint, * => desc-to-active",yd(df,PI([Pr({transform:"translateY(-25%)"}),Pr({transform:"translateY(0)"})]))),Ru("* => hint-to-desc, * => active-to-desc",yd(df,PI([Pr({transform:"translateY(0)"}),Pr({transform:"translateY(25%)"})]))),Ru("* => asc-to-hint, * => asc-to-active",yd(df,PI([Pr({transform:"translateY(25%)"}),Pr({transform:"translateY(0)"})]))),Ru("* => hint-to-asc, * => active-to-asc",yd(df,PI([Pr({transform:"translateY(0)"}),Pr({transform:"translateY(-25%)"})]))),va("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Pr({transform:"translateY(0)"})),va("hint-to-desc, active-to-desc, desc",Pr({transform:"translateY(-25%)"})),va("hint-to-asc, active-to-asc, asc",Pr({transform:"translateY(25%)"}))]),allowChildren:Py("allowChildren",[Ru("* <=> *",[uH("@*",lH(),{optional:!0})])])};let FI=(()=>{class n{constructor(){this.changes=new wn.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mH={provide:FI,deps:[[new u.FiY,new u.tp0,FI]],useFactory:function gH(n){return n||new FI}},_H=ZP(class{});let yH=(()=>{class n extends _H{constructor(t,r,i,a,c,p,_,C){super(),this._intl=t,this._changeDetectorRef=r,this._sort=i,this._columnDef=a,this._focusMonitor=c,this._elementRef=p,this._ariaDescriber=_,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",C?.arrowPosition&&(this.arrowPosition=C?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=am(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const r=!!t;r!==this._showIndicatorHint&&(this._setIndicatorHintVisible(r),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(32===t.keyCode||13===t.keyCode)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=(0,zp.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(FI),u.Y36(u.sBO),u.Y36(VR,8),u.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),u.Y36(Fj),u.Y36(u.SBq),u.Y36(Dj,8),u.Y36(lF,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r._handleClick()})("keydown",function(a){return r._handleKeydown(a)})("mouseenter",function(){return r._setIndicatorHintVisible(!0)})("mouseleave",function(){return r._setIndicatorHintVisible(!1)}),2&t&&(u.uIk("aria-sort",r._getAriaSortAttribute()),u.ekj("mat-sort-header-disabled",r._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[u.qOj],attrs:cH,ngContentSelectors:hH,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0)(1,"div",1),u.Hsn(2),u.qZA(),u.YNc(3,dH,6,6,"div",2),u.qZA()),2&t&&(u.ekj("mat-sort-header-sorted",r._isSorted())("mat-sort-header-position-before","before"===r.arrowPosition),u.uIk("tabindex",r._isDisabled()?null:0)("role",r._isDisabled()?null:"button"),u.xp6(3),u.Q6J("ngIf",r._renderArrow()))},dependencies:[Zn],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Fy.indicator,Fy.leftPointer,Fy.rightPointer,Fy.arrowOpacity,Fy.arrowPosition,Fy.allowChildren]},changeDetection:0}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mH],imports:[yl,xR]}),n})();function wH(n,e){1&n&&(u.TgZ(0,"h6",29),u._uU(1,"User updated successfully"),u.qZA())}function EH(n,e){1&n&&(u.TgZ(0,"h6",29),u._uU(1,"Error updating user"),u.qZA())}function CH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"name is required"),u.qZA())}function DH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"name minlength is 3"),u.qZA())}function bH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"name maxlength is 15"),u.qZA())}function IH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,CH,2,0,"p",30),u.YNc(2,DH,2,0,"p",30),u.YNc(3,bH,2,0,"p",30),u.qZA()),2&n){const t=u.oxw();let r,i,a;u.xp6(1),u.Q6J("ngIf",null==(r=t.updateUserForm.get("name"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.updateUserForm.get("name"))?null:i.getError("minlength")),u.xp6(1),u.Q6J("ngIf",null==(a=t.updateUserForm.get("name"))?null:a.getError("maxlength"))}}function SH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"email is required"),u.qZA())}function TH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1," invalid E-mail format"),u.qZA())}function AH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,SH,2,0,"p",30),u.YNc(2,TH,2,0,"p",30),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.updateUserForm.get("email"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.updateUserForm.get("email"))?null:i.getError("email"))}}function MH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"phone is required"),u.qZA())}function xH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"the phone number is invalid"),u.qZA())}function RH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,MH,2,0,"p",30),u.YNc(2,xH,2,0,"p",30),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.updateUserForm.get("phone"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.updateUserForm.get("phone"))?null:i.getError("pattern"))}}function kH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"password is required"),u.qZA())}function NH(n,e){1&n&&(u.TgZ(0,"p",31),u._uU(1,"password should start with a letter followed by numbers and it's length 6-8 "),u.qZA())}function OH(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,kH,2,0,"p",30),u.YNc(2,NH,2,0,"p",30),u.qZA()),2&n){const t=u.oxw();let r,i;u.xp6(1),u.Q6J("ngIf",null==(r=t.updateUserForm.get("password"))?null:r.getError("required")),u.xp6(1),u.Q6J("ngIf",null==(i=t.updateUserForm.get("password"))?null:i.getError("pattern"))}}function PH(n,e){1&n&&(u.TgZ(0,"div",32),u._UZ(1,"i",33),u.qZA())}function FH(n,e){1&n&&(u.TgZ(0,"th",34),u._UZ(1,"i",35)(2,"i",36),u._uU(3," User Name"),u.qZA())}function LH(n,e){if(1&n&&(u.TgZ(0,"td",37),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t.name)}}function VH(n,e){1&n&&(u.TgZ(0,"th",34),u._uU(1,"User Email"),u.qZA())}function UH(n,e){if(1&n&&(u.TgZ(0,"td",37),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t.email)}}function BH(n,e){1&n&&(u.TgZ(0,"th",34),u._uU(1,"User Phone"),u.qZA())}function jH(n,e){if(1&n&&(u.TgZ(0,"td",37),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.Oqu(t.phone)}}function HH(n,e){1&n&&u._UZ(0,"th",34)}function $H(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",37)(1,"button",38),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.deleteUser(a.email))}),u._uU(2,"delete"),u.qZA(),u.TgZ(3,"button",39),u.NdJ("click",function(){const a=u.CHM(t).$implicit,c=u.oxw();return u.KtG(c.updateUser(a))}),u._uU(4,"update"),u.qZA()()}}function zH(n,e){1&n&&u._UZ(0,"tr",40)}function GH(n,e){1&n&&u._UZ(0,"tr",41)}let qH=(()=>{class n{constructor(t,r,i,a){this._UserService=t,this._AngularFirestore=r,this._ChangeDetectorRef=i,this._ElementRef=a,this.term="",this.users=[],this.dataSource=new rF,this.displayedColumns=["name","column2","column3","column4"],this.sort=null,this.updateUserForm=new il({name:new Mi(null,[bn.maxLength(15),bn.minLength(3),bn.required]),email:new Mi(null,[bn.email,bn.required]),phone:new Mi(null,[bn.pattern("^[0-9]{11}$"),bn.required]),password:new Mi(null,[bn.pattern("^[a-z][0-9]{5,8}$"),bn.required])}),this.isLoading=!0,this.isUpdated=!1,this.updateErr=!1,this.upUser={name:"",email:"",phone:"",password:""}}ngOnInit(){this.displayUsers()}displayUsers(){this._UserService.getUsers().subscribe(t=>{this.dataSource=new rF(t),this.dataSource.sort=this.sort,this.isLoading=!1})}search(){this.dataSource.filter=this.term.trim().toLowerCase(),this.dataSource.sort=this.sort}deleteUser(t){this._AngularFirestore.collection("users",i=>i.where("email","==",t)).get().subscribe(i=>{i.forEach(a=>{a.ref.delete().then(()=>{console.log("User deleted successfully.")}).catch(c=>{console.error("Error deleting user:",c)})})})}updateUser(t){this.upUser={...t},this._ElementRef.nativeElement.querySelector(".updateForm").classList.replace("d-none","d-block")}saveUpdates(){this._AngularFirestore.collection("users",r=>r.where("email","==",this.upUser.email)).get().toPromise().then(r=>{r&&1===r.size?r.docs[0].ref.update(this.upUser).then(()=>{this.isUpdated=!0,this.updateErr=!1,this.updateUserForm.reset()}).catch(()=>{this.updateErr=!0,this.isUpdated=!1}):(this.updateErr=!0,this.isUpdated=!1)})}exit(){this._ElementRef.nativeElement.querySelector(".updateForm").classList.replace("d-block","d-none")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(cR),u.Y36(yI),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-view-users"]],viewQuery:function(t,r){if(1&t&&u.Gf(VR,5),2&t){let i;u.iGM(i=u.CRH())&&(r.sort=i.first)}},decls:45,vars:17,consts:[[1,"container","p-5"],[1,"w-50","shadow","p-5","d-none","updateForm","m-auto"],[1,"d-flex","justify-content-between"],[1,"text-dark","text-muted","py-2"],[1,"fa-regular","fa-circle-xmark","fs-5",3,"click"],["class"," alert alert-success fs-6",4,"ngIf"],[3,"formGroup"],["for","name"],["formControlName","name",1,"form-control","mb-3","border","border-dark",3,"ngModel","ngModelChange"],[4,"ngIf"],["for","email"],["formControlName","email",1,"form-control","mb-3","border","border-dark",3,"ngModel","ngModelChange"],["for","phone"],["formControlName","phone",1,"form-control","mb-3","border","border-dark",3,"ngModel","ngModelChange"],["for","password"],["formControlName","password",1,"form-control","mb-3","border","border-dark",3,"ngModel","ngModelChange"],[1,"btn","btn","btn-outline-primary",3,"disabled","click"],["placeholder","search here...",1,"form-control","mb-3","border","border-dark","my-3",3,"ngModel","ngModelChange","input"],["class"," d-flex justify-content-center",4,"ngIf"],[1,"row"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","column2"],["matColumnDef","column3"],["matColumnDef","column4"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"alert","alert-success","fs-6"],["class"," alert alert-danger py-1",4,"ngIf"],[1,"alert","alert-danger","py-1"],[1,"d-flex","justify-content-center"],[1,"fas","fa-spinner","fa-spin","fs-2"],["mat-header-cell","","mat-sort-header",""],[1,"fa-solid","fa-arrow-up","me-1"],[1,"fa-solid","fa-arrow-down","me-1"],["mat-cell",""],[1,"btn","btn-outline-danger","me-2",3,"click"],[1,"btn","btn-outline-warning",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),u._uU(4,"Update user"),u.qZA(),u.TgZ(5,"i",4),u.NdJ("click",function(){return r.exit()}),u.qZA()(),u.YNc(6,wH,2,0,"h6",5),u.YNc(7,EH,2,0,"h6",5),u.TgZ(8,"form",6)(9,"label",7),u._uU(10,"name :"),u.qZA(),u.TgZ(11,"input",8),u.NdJ("ngModelChange",function(a){return r.upUser.name=a}),u.qZA(),u.YNc(12,IH,4,3,"div",9),u.TgZ(13,"label",10),u._uU(14,"email :"),u.qZA(),u.TgZ(15,"input",11),u.NdJ("ngModelChange",function(a){return r.upUser.email=a}),u.qZA(),u.YNc(16,AH,3,2,"div",9),u.TgZ(17,"label",12),u._uU(18,"phone :"),u.qZA(),u.TgZ(19,"input",13),u.NdJ("ngModelChange",function(a){return r.upUser.phone=a}),u.qZA(),u.YNc(20,RH,3,2,"div",9),u.TgZ(21,"label",14),u._uU(22,"Password :"),u.qZA(),u.TgZ(23,"input",15),u.NdJ("ngModelChange",function(a){return r.upUser.password=a}),u.qZA(),u.YNc(24,OH,3,2,"div",9),u.TgZ(25,"button",16),u.NdJ("click",function(){return r.saveUpdates()}),u._uU(26," SAVE UPDATES "),u.qZA()()(),u.TgZ(27,"input",17),u.NdJ("ngModelChange",function(a){return r.term=a})("input",function(){return r.search()}),u.qZA(),u.YNc(28,PH,2,0,"div",18),u.TgZ(29,"div",19)(30,"table",20),u.ynx(31,21),u.YNc(32,FH,4,0,"th",22),u.YNc(33,LH,2,1,"td",23),u.BQk(),u.ynx(34,24),u.YNc(35,VH,2,0,"th",22),u.YNc(36,UH,2,1,"td",23),u.BQk(),u.ynx(37,25),u.YNc(38,BH,2,0,"th",22),u.YNc(39,jH,2,1,"td",23),u.BQk(),u.ynx(40,26),u.YNc(41,HH,1,0,"th",22),u.YNc(42,$H,5,0,"td",23),u.BQk(),u.YNc(43,zH,1,0,"tr",27),u.YNc(44,GH,1,0,"tr",28),u.qZA()()()),2&t){let i,a,c,p;u.xp6(6),u.Q6J("ngIf",r.isUpdated),u.xp6(1),u.Q6J("ngIf",r.updateErr),u.xp6(1),u.Q6J("formGroup",r.updateUserForm),u.xp6(3),u.Q6J("ngModel",r.upUser.name),u.xp6(1),u.Q6J("ngIf",null==(i=r.updateUserForm.get("name"))?null:i.errors),u.xp6(3),u.Q6J("ngModel",r.upUser.email),u.xp6(1),u.Q6J("ngIf",(null==(a=r.updateUserForm.get("email"))?null:a.errors)&&(null==(a=r.updateUserForm.get("email"))?null:a.touched)),u.xp6(3),u.Q6J("ngModel",r.upUser.phone),u.xp6(1),u.Q6J("ngIf",(null==(c=r.updateUserForm.get("phone"))?null:c.errors)&&(null==(c=r.updateUserForm.get("phone"))?null:c.touched)),u.xp6(3),u.Q6J("ngModel",r.upUser.password),u.xp6(1),u.Q6J("ngIf",(null==(p=r.updateUserForm.get("password"))?null:p.errors)&&(null==(p=r.updateUserForm.get("password"))?null:p.touched)),u.xp6(1),u.Q6J("disabled",r.updateUserForm.invalid),u.xp6(2),u.Q6J("ngModel",r.term),u.xp6(1),u.Q6J("ngIf",r.isLoading),u.xp6(2),u.Q6J("dataSource",r.dataSource),u.xp6(13),u.Q6J("matHeaderRowDef",r.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",r.displayedColumns)}},dependencies:[Zn,Pc,fu,Ym,Qm,bC,Lc,Sh,JP,NR,XP,OR,kR,eF,PR,FR,tF,nF,VR,yH]}),n})(),UR=(()=>{class n{constructor(t,r){this._AuthService=t,this._Router=r}canActivate(t,r){return!!this._AuthService.isLogedIn()||(this._Router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(D_),u.LFG(xn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ZT},{path:"view-users",component:qH,canActivate:[UR]},{path:"new-user",component:wB,canActivate:[UR]},{path:"user-profile",component:CB,canActivate:[UR]},{path:"signup",component:iB},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,consts:[[1,"text-center","p-3"]],template:function(t,r){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Not Found..."),u.qZA())}}),n})()}];let ZH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[qE.forRoot(WH),qE]}),n})(),KH=(()=>{class n{constructor(t){this._AuthService=t}logOut(){this._AuthService.signOut()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D_))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:26,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand","fw-bolder","text-primary"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","view-users","routerLinkActive","actLink",1,"nav-link"],["routerLink","new-user","routerLinkActive","actLink",1,"nav-link"],["routerLink","user-profile","routerLinkActive","actLink",1,"nav-link"],["routerLink","login","routerLinkActive","actLink",1,"nav-link"],["routerLink","signup","routerLinkActive","actLink",1,"nav-link"],[1,"nav-link","curPointer",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"UserSys"),u.qZA(),u.TgZ(4,"button",3),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u._uU(10,"View users"),u.qZA()(),u.TgZ(11,"li",7)(12,"a",9),u._uU(13,"Add User"),u.qZA()(),u.TgZ(14,"li",7)(15,"a",10),u._uU(16,"Profile"),u.qZA()(),u.TgZ(17,"li",7)(18,"a",11),u._uU(19,"LogIn"),u.qZA()(),u.TgZ(20,"li",7)(21,"a",12),u._uU(22,"Sign Up"),u.qZA()(),u.TgZ(23,"li",7)(24,"span",13),u.NdJ("click",function(){return r.logOut()}),u._uU(25,"Logout"),u.qZA()()()()()())},dependencies:[yh,BE],styles:[".curPointer[_ngcontent-%COMP%]{cursor:pointer}.actLink[_ngcontent-%COMP%]{color:#0d6efd}"]}),n})(),YH=(()=>{class n{constructor(){this.title="crud-task"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[f,KH]}),n})();const uF_firebase={apiKey:"AIzaSyAiZ-LowdtDUEjtOHiht_OVHE2P-EUTkXA",authDomain:"user-management-sys-5016c.firebaseapp.com",projectId:"user-management-sys-5016c",storageBucket:"user-management-sys-5016c.appspot.com",messagingSenderId:"496264755662",appId:"1:496264755662:web:b0e382009a610c0f5bd39f"};function cF(n){return new u.vHH(3e3,!1)}function R$(){return typeof window<"u"&&typeof window.document<"u"}function BR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hf(n){switch(n.length){case 0:return new sE;case 1:return n[0];default:return new aF(n)}}function dF(n,e,t,r,i=new Map,a=new Map){const c=[],p=[];let _=-1,C=null;if(r.forEach(S=>{const x=S.get("offset"),V=x==_,j=V&&C||new Map;S.forEach((J,le)=>{let he=le,He=J;if("offset"!==le)switch(he=e.normalizePropertyName(he,c),He){case"!":He=i.get(le);break;case _d:He=a.get(le);break;default:He=e.normalizeStyleValue(le,he,He,c)}j.set(he,He)}),V||p.push(j),C=j,_=x}),c.length)throw function v$(n){return new u.vHH(3502,!1)}();return p}function jR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&HR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&HR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&HR(t,"destroy",n)))}}function HR(n,e,t){const a=$R(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function $R(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Vo(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function hF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let zR=(n,e)=>!1,fF=(n,e,t)=>[],pF=null;function GR(n){const e=n.parentNode||n.host;return e===pF?null:e}(BR()||typeof Element<"u")&&(R$()?(pF=(()=>document.documentElement)(),zR=(n,e)=>{for(;e;){if(e===n)return!0;e=GR(e)}return!1}):zR=(n,e)=>n.contains(e),fF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let um=null,gF=!1;const mF=zR,_F=fF;let yF=(()=>{class n{validateStyleProperty(t){return function N$(n){um||(um=function O$(){return typeof document<"u"?document.body:null}()||{},gF=!!um.style&&"WebkitAppearance"in um.style);let e=!0;return um.style&&!function k$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in um.style,!e&&gF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in um.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return mF(t,r)}getParentElement(t){return GR(t)}query(t,r,i){return _F(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,p=[],_){return new sE(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),qR=(()=>{class n{}return n.NOOP=new yF,n})();const WR="ng-enter",LI="ng-leave",VI="ng-trigger",UI=".ng-trigger",wF="ng-animating",ZR=".ng-animating";function vd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:KR(parseFloat(e[1]),e[2])}function KR(n,e){return"s"===e?1e3*n:n}function BI(n,e,t){return n.hasOwnProperty("duration")?n:function L$(n,e,t){let i,a=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(cF()),{duration:0,delay:0,easing:""};i=KR(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(a=KR(parseFloat(_),p[4]));const C=p[5];C&&(c=C)}else i=n;if(!t){let p=!1,_=e.length;i<0&&(e.push(function QH(){return new u.vHH(3100,!1)}()),p=!0),a<0&&(e.push(function JH(){return new u.vHH(3101,!1)}()),p=!0),p&&e.splice(_,0,cF())}return{duration:i,delay:a,easing:c}}(n,e,t)}function oE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function EF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ff(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function DF(n,e,t){return t?e+":"+t+";":""}function bF(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=DF(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=DF(0,j$(t),n.style[t]));n.setAttribute("style",e)}function ku(n,e,t){n.style&&(e.forEach((r,i)=>{const a=QR(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),BR()&&bF(n))}function cm(n,e){n.style&&(e.forEach((t,r)=>{const i=QR(r);n.style[i]=""}),BR()&&bF(n))}function aE(n){return Array.isArray(n)?1==n.length?n[0]:sF(n):n}const YR=new RegExp("{{\\s*(.+?)\\s*}}","g");function IF(n){let e=[];if("string"==typeof n){let t;for(;t=YR.exec(n);)e.push(t[1]);YR.lastIndex=0}return e}function lE(n,e,t){const r=n.toString(),i=r.replace(YR,(a,c)=>{let p=e[c];return null==p&&(t.push(function e$(n){return new u.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function jI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const B$=/-+([a-z0-9])/g;function QR(n){return n.replace(B$,(...e)=>e[1].toUpperCase())}function j$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function t$(n){return new u.vHH(3004,!1)}()}}function SF(n,e){return window.getComputedStyle(n)[e]}function W$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Z$(n,e,t){if(":"==n[0]){const _=function K$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function g$(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function p$(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(TF(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(TF(c,i))}(r,t,e)):t.push(n),t}const GI=new Set(["true","1"]),qI=new Set(["false","0"]);function TF(n,e){const t=GI.has(n)||qI.has(n),r=GI.has(e)||qI.has(e);return(i,a)=>{let c="*"==n||n==i,p="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?GI.has(n):qI.has(n)),!p&&r&&"boolean"==typeof a&&(p=a?GI.has(e):qI.has(e)),c&&p}}const Y$=new RegExp("s*:selfs*,?","g");function JR(n,e,t,r){return new Q$(n).build(e,t,r)}class Q${constructor(e){this._driver=e}build(e,t,r){const i=new e3(t);return this._resetContextStyleTimingState(i),Uo(this,aE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function r$(){return new u.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,C=_.name;C.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,a.push(this.visitState(_,t))}),_.name=C}else if(1==p.type){const _=this.visitTransition(p,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function i$(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(_=>{IF(_).forEach(C=>{c.hasOwnProperty(C)||a.add(C)})})}),a.size&&(jI(a.values()),t.errors.push(function s$(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Uo(this,aE(e.animation),t);return{type:1,matchers:W$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Uo(this,r,t)),options:dm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const p=Uo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:a,options:dm(e.options)}}visitAnimate(e,t){const r=function n3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return XR(BI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=XR(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=BI(t,e);return XR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Pr({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,p=!1;if(!c){p=!0;const C={};r.easing&&(C.easing=r.easing),c=Pr(C)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=p,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===_d?r.push(p):t.errors.push(new u.vHH(3002,!1)):r.push(EF(p));let a=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!a))for(let _ of p.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,_)=>{const C=t.collectedStyles.get(t.currentQuerySelector),S=C.get(_);let x=!0;S&&(a!=i&&a>=S.startTime&&i<=S.endTime&&(t.errors.push(function a$(n,e,t,r,i){return new u.vHH(3010,!1)}()),x=!1),a=S.startTime),x&&C.set(_,{startTime:a,endTime:i}),t.options&&function U$(n,e,t){const r=e.params||{},i=IF(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function XH(n){return new u.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function l$(){return new u.vHH(3011,!1)}()),r;let a=0;const c=[];let p=!1,_=!1,C=0;const S=e.steps.map(He=>{const et=this._makeStyleAst(He,t);let at=null!=et.offset?et.offset:function t3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(et.styles),vt=0;return null!=at&&(a++,vt=et.offset=at),_=_||vt<0||vt>1,p=p||vt<C,C=vt,c.push(vt),et});_&&t.errors.push(function u$(){return new u.vHH(3012,!1)}()),p&&t.errors.push(function c$(){return new u.vHH(3200,!1)}());const x=e.steps.length;let V=0;a>0&&a<x?t.errors.push(function d$(){return new u.vHH(3202,!1)}()):0==a&&(V=1/(x-1));const j=x-1,J=t.currentTime,le=t.currentAnimateTimings,he=le.duration;return S.forEach((He,et)=>{const at=V>0?et==j?1:V*et:c[et],vt=at*he;t.currentTime=J+le.delay+vt,le.duration=vt,this._validateStyleAst(He,t),He.offset=at,r.styles.push(He)}),r}visitReference(e,t){return{type:8,animation:Uo(this,aE(e.animation),t),options:dm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function J$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Y$,"")),n=n.replace(/@\*/g,UI).replace(/@\w+/g,t=>UI+"-"+t.slice(1)).replace(/:animating/g,ZR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Vo(t.collectedStyles,t.currentQuerySelector,new Map);const p=Uo(this,aE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:dm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function h$(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BI(e.timings,t.errors,!0);return{type:12,animation:Uo(this,aE(e.animation),t),timings:r,options:null}}}class e3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function dm(n){return n?(n=oE(n)).params&&(n.params=function X$(n){return n?oE(n):null}(n.params)):n={},n}function XR(n,e,t){return{duration:n,delay:e,easing:t}}function ek(n,e,t,r,i,a,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:p}}class WI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const o3=new RegExp(":enter","g"),l3=new RegExp(":leave","g");function tk(n,e,t,r,i,a=new Map,c=new Map,p,_,C=[]){return(new u3).buildKeyframes(n,e,t,r,i,a,c,p,_,C)}class u3{buildKeyframes(e,t,r,i,a,c,p,_,C,S=[]){C=C||new WI;const x=new nk(e,t,C,i,a,S,[]);x.options=_;const V=_.delay?vd(_.delay):0;x.currentTimeline.delayNextStep(V),x.currentTimeline.setStyles([c],null,x.errors,_),Uo(this,r,x);const j=x.timelines.filter(J=>J.containsAnimation());if(j.length&&p.size){let J;for(let le=j.length-1;le>=0;le--){const he=j[le];if(he.element===t){J=he;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([p],null,x.errors,_)}return j.length?j.map(J=>J.buildKeyframes()):[ek(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:vd(lE(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?vd(r.duration):null,p=null!=r.delay?vd(r.delay):null;return 0!==c&&e.forEach(_=>{const C=t.appendInstructionToTimeline(_,c,p);a=Math.max(a,C.duration+C.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Uo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ZI);const c=vd(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Uo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?vd(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),Uo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BI(t.params?lE(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*a),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?vd(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZI);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((C,S)=>{t.currentQueryIndex=S;const x=t.createSubContext(e.options,C);a&&x.delayNextStep(a),C===t.element&&(_=x.currentTimeline),Uo(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),p=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=p-_;break;case"full":_=r.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const x=S.currentTime;Uo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const ZI={};class nk{constructor(e,t,r,i,a,c,p,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new KI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=vd(r.duration)),null!=r.delay&&(i.delay=vd(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=lE(a[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new nk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ZI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new c3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(o3,"."+this._enterClassName)).replace(l3,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!a&&0==p.length&&c.push(function f$(n){return new u.vHH(3014,!1)}()),p}}class KI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||_d),this._currentKeyframe.set(t,_d);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function d3(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,_d)}else ff(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,_]of c){const C=lE(_,a,r);this._pendingStyles.set(p,C),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??_d),this._updateStyle(p,C)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,_)=>{const C=ff(p,new Map,this._backFill);C.forEach((S,x)=>{"!"===S?e.add(x):S===_d&&t.add(x)}),r||C.set("offset",_/this.duration),i.push(C)});const a=e.size?jI(e.values()):[],c=t.size?jI(t.values()):[];if(r){const p=i[0],_=new Map(p);p.set("offset",0),_.set("offset",1),i=[p,_]}return ek(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class c3 extends KI{constructor(e,t,r,i,a,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,p=t/c,_=ff(e[0]);_.set("offset",0),a.push(_);const C=ff(e[0]);C.set("offset",xF(p)),a.push(C);const S=e.length-1;for(let x=1;x<=S;x++){let V=ff(e[x]);const j=V.get("offset");V.set("offset",xF((t+j*r)/c)),a.push(V)}r=c,t=0,i="",e=a}return ek(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function xF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class rk{}const h3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class f3 extends rk{normalizePropertyName(e,t){return QR(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(h3.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function n$(n,e){return new u.vHH(3005,!1)}())}return c+a}}function RF(n,e,t,r,i,a,c,p,_,C,S,x,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:p,queriedElements:_,preStyleProps:C,postStyleProps:S,totalTime:x,errors:V}}const ik={};class kF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function p3(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,p,_,C,S){const x=[],V=this.ast.options&&this.ast.options.params||ik,J=this.buildStyles(r,p&&p.params||ik,x),le=_&&_.params||ik,he=this.buildStyles(i,le,x),He=new Set,et=new Map,at=new Map,vt="void"===i,qt={params:g3(le,V),delay:this.ast.options?.delay},Wt=S?[]:tk(e,t,this.ast.animation,a,c,J,he,qt,C,x);let Sn=0;if(Wt.forEach(Ca=>{Sn=Math.max(Ca.duration+Ca.delay,Sn)}),x.length)return RF(t,this._triggerName,r,i,vt,J,he,[],[],et,at,Sn,x);Wt.forEach(Ca=>{const wd=Ca.element,WF=Vo(et,wd,new Set);Ca.preStyleProps.forEach(hm=>WF.add(hm));const cE=Vo(at,wd,new Set);Ca.postStyleProps.forEach(hm=>cE.add(hm)),wd!==t&&He.add(wd)});const is=jI(He.values());return RF(t,this._triggerName,r,i,vt,J,he,Wt,is,et,at,Sn)}}function g3(n,e){const t=oE(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class m3{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=oE(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,p)=>{c&&(c=lE(c,i,t));const _=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,_,c,t),r.set(_,c)})}),r}}class y3{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new m3(i.style,i.options&&i.options.params||{},r))}),NF(this.states,"true","1"),NF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new kF(e,i,this.states))}),this.fallbackTransition=function v3(n,e,t){return new kF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function NF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const w3=new WI;class E3{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=JR(this._driver,t,r,[]);if(r.length)throw function w$(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=dF(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const p=new Map;if(a?(c=tk(this._driver,t,a,WR,LI,new Map,new Map,r,w3,i),c.forEach(S=>{const x=Vo(p,S.element,new Map);S.postStyleProps.forEach(V=>x.set(V,null))})):(i.push(function E$(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function C$(n){return new u.vHH(3504,!1)}();p.forEach((S,x)=>{S.forEach((V,j)=>{S.set(j,this._driver.computeStyle(x,j,_d))})});const C=hf(c.map(S=>{const x=p.get(S.element);return this._buildPlayer(S,new Map,x)}));return this._playersById.set(e,C),C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function D$(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=$R(t,"","","");return jR(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const OF="ng-animate-queued",sk="ng-animate-disabled",S3=[],PF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},T3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wa="__ng_removed";class ok{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function R3(n){return n??null}(r?e.value:e),r){const a=oE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const uE="void",ak=new ok(uE);class A3{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ea(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function b$(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function I$(n){return new u.vHH(3303,!1)}();if(!function k3(n){return"start"==n||"done"==n}(r))throw function S$(n,e){return new u.vHH(3400,!1)}();const a=Vo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const p=Vo(this._engine.statesByElement,e,new Map);return p.has(t)||(Ea(e,VI),Ea(e,VI+"-"+t),p.set(t,ak)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function T$(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new lk(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Ea(e,VI),Ea(e,VI+"-"+t),this._engine.statesByElement.set(e,p=new Map));let _=p.get(t);const C=new ok(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),p.set(t,C),_||(_=ak),C.value!==uE&&_.value===C.value){if(!function P3(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,C.params)){const le=[],he=a.matchStyles(_.value,_.params,le),He=a.matchStyles(C.value,C.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{cm(e,he),ku(e,He)})}return}const V=Vo(this._engine.playersByElement,e,[]);V.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let j=a.matchTransition(_.value,C.value,e,C.params),J=!1;if(!j){if(!i)return;j=a.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:C,player:c,isFallbackTransition:J}),J||(Ea(e,OF),c.onStart(()=>{Ly(e,OF)})),c.onDone(()=>{let le=this.players.indexOf(c);le>=0&&this.players.splice(le,1);const he=this._engine.playersByElement.get(e);if(he){let He=he.indexOf(c);He>=0&&he.splice(He,1)}}),this.players.push(c),V.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,UI,!0);r.forEach(i=>{if(i[wa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const p=[];if(a.forEach((_,C)=>{if(c.set(C,_.value),this._triggers.has(C)){const S=this.trigger(e,C,uE,i);S&&p.push(S)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&hf(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,C=r.get(c)||ak,S=new ok(uE),x=new lk(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:C,toState:S,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[wa];(!a||a===PF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ea(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(p=>{if(p.name==r.triggerName){const _=$R(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,jR(r.player,p.phase,_,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class M3{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new A3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const _=i.get(p);if(_){const C=r.indexOf(_);r.splice(C+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(YI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!YI(t))return;const a=t[wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ea(e,sk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ly(e,sk))}removeNode(e,t,r,i){if(YI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[wa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return YI(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,UI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ZR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wa];if(t&&t.setForRemoval){if(e[wa]=PF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(sk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ea(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?hf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function A$(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new WI,i=[],a=new Map,c=[],p=new Map,_=new Map,C=new Map,S=new Set;this.disabledNodes.forEach(bt=>{S.add(bt);const Ut=this.driver.query(bt,".ng-animate-queued",!0);for(let $t=0;$t<Ut.length;$t++)S.add(Ut[$t])});const x=this.bodyNode,V=Array.from(this.statesByElement.keys()),j=VF(V,this.collectedEnterElements),J=new Map;let le=0;j.forEach((bt,Ut)=>{const $t=WR+le++;J.set(Ut,$t),bt.forEach(Dn=>Ea(Dn,$t))});const he=[],He=new Set,et=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Ut=this.collectedLeaveElements[bt],$t=Ut[wa];$t&&$t.setForRemoval&&(he.push(Ut),He.add(Ut),$t.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(Dn=>He.add(Dn)):et.add(Ut))}const at=new Map,vt=VF(V,Array.from(He));vt.forEach((bt,Ut)=>{const $t=LI+le++;at.set(Ut,$t),bt.forEach(Dn=>Ea(Dn,$t))}),e.push(()=>{j.forEach((bt,Ut)=>{const $t=J.get(Ut);bt.forEach(Dn=>Ly(Dn,$t))}),vt.forEach((bt,Ut)=>{const $t=at.get(Ut);bt.forEach(Dn=>Ly(Dn,$t))}),he.forEach(bt=>{this.processLeaveNode(bt)})});const qt=[],Wt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach($t=>{const Dn=$t.player,Vi=$t.element;if(qt.push(Dn),this.collectedEnterElements.length){const ws=Vi[wa];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has($t.triggerName)){const fm=ws.previousTriggersValues.get($t.triggerName),Da=this.statesByElement.get($t.element);if(Da&&Da.has($t.triggerName)){const XI=Da.get($t.triggerName);XI.value=fm,Da.set($t.triggerName,XI)}}return void Dn.destroy()}}const Nu=!x||!this.driver.containsElement(x,Vi),Bo=at.get(Vi),pf=J.get(Vi),br=this._buildInstruction($t,r,pf,Bo,Nu);if(br.errors&&br.errors.length)return void Wt.push(br);if(Nu)return Dn.onStart(()=>cm(Vi,br.fromStyles)),Dn.onDestroy(()=>ku(Vi,br.toStyles)),void i.push(Dn);if($t.isFallbackTransition)return Dn.onStart(()=>cm(Vi,br.fromStyles)),Dn.onDestroy(()=>ku(Vi,br.toStyles)),void i.push(Dn);const YF=[];br.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||YF.push(ws)}),br.timelines=YF,r.append(Vi,br.timelines),c.push({instruction:br,player:Dn,element:Vi}),br.queriedElements.forEach(ws=>Vo(p,ws,[]).push(Dn)),br.preStyleProps.forEach((ws,fm)=>{if(ws.size){let Da=_.get(fm);Da||_.set(fm,Da=new Set),ws.forEach((XI,dk)=>Da.add(dk))}}),br.postStyleProps.forEach((ws,fm)=>{let Da=C.get(fm);Da||C.set(fm,Da=new Set),ws.forEach((XI,dk)=>Da.add(dk))})});if(Wt.length){const bt=[];Wt.forEach(Ut=>{bt.push(function M$(n,e){return new u.vHH(3505,!1)}())}),qt.forEach(Ut=>Ut.destroy()),this.reportError(bt)}const Sn=new Map,is=new Map;c.forEach(bt=>{const Ut=bt.element;r.has(Ut)&&(is.set(Ut,Ut),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,Sn))}),i.forEach(bt=>{const Ut=bt.element;this._getPreviousPlayers(Ut,!1,bt.namespaceId,bt.triggerName,null).forEach(Dn=>{Vo(Sn,Ut,[]).push(Dn),Dn.destroy()})});const Ca=he.filter(bt=>BF(bt,_,C)),wd=new Map;LF(wd,this.driver,et,C,_d).forEach(bt=>{BF(bt,_,C)&&Ca.push(bt)});const cE=new Map;j.forEach((bt,Ut)=>{LF(cE,this.driver,new Set(bt),_,"!")}),Ca.forEach(bt=>{const Ut=wd.get(bt),$t=cE.get(bt);wd.set(bt,new Map([...Array.from(Ut?.entries()??[]),...Array.from($t?.entries()??[])]))});const hm=[],ZF=[],KF={};c.forEach(bt=>{const{element:Ut,player:$t,instruction:Dn}=bt;if(r.has(Ut)){if(S.has(Ut))return $t.onDestroy(()=>ku(Ut,Dn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Dn.totalTime),void i.push($t);let Vi=KF;if(is.size>1){let Bo=Ut;const pf=[];for(;Bo=Bo.parentNode;){const br=is.get(Bo);if(br){Vi=br;break}pf.push(Bo)}pf.forEach(br=>is.set(br,Vi))}const Nu=this._buildAnimation($t.namespaceId,Dn,Sn,a,cE,wd);if($t.setRealPlayer(Nu),Vi===KF)hm.push($t);else{const Bo=this.playersByElement.get(Vi);Bo&&Bo.length&&($t.parentPlayer=hf(Bo)),i.push($t)}}else cm(Ut,Dn.fromStyles),$t.onDestroy(()=>ku(Ut,Dn.toStyles)),ZF.push($t),S.has(Ut)&&i.push($t)}),ZF.forEach(bt=>{const Ut=a.get(bt.element);if(Ut&&Ut.length){const $t=hf(Ut);bt.setRealPlayer($t)}}),i.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<he.length;bt++){const Ut=he[bt],$t=Ut[wa];if(Ly(Ut,LI),$t&&$t.hasAnimation)continue;let Dn=[];if(p.size){let Nu=p.get(Ut);Nu&&Nu.length&&Dn.push(...Nu);let Bo=this.driver.query(Ut,ZR,!0);for(let pf=0;pf<Bo.length;pf++){let br=p.get(Bo[pf]);br&&br.length&&Dn.push(...br)}}const Vi=Dn.filter(Nu=>!Nu.destroyed);Vi.length?N3(this,Ut,Vi):this.processLeaveNode(Ut)}return he.length=0,hm.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Ut=this.players.indexOf(bt);this.players.splice(Ut,1)}),bt.play()}),hm}elementContainsData(e,t){let r=!1;const i=t[wa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const _=!a||a==uE;p.forEach(C=>{C.queued||!_&&C.triggerName!=i||c.push(C)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const C=_.element,S=C!==a,x=Vo(r,C,[]);this._getPreviousPlayers(C,S,c,p,t.toState).forEach(j=>{const J=j.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),j.destroy(),x.push(j)})}cm(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const p=t.triggerName,_=t.element,C=[],S=new Set,x=new Set,V=t.timelines.map(J=>{const le=J.element;S.add(le);const he=le[wa];if(he&&he.removedBeforeQueried)return new sE(J.duration,J.delay);const He=le!==_,et=function O3(n){const e=[];return UF(n,e),e}((r.get(le)||S3).map(Sn=>Sn.getRealPlayer())).filter(Sn=>!!Sn.element&&Sn.element===le),at=a.get(le),vt=c.get(le),qt=dF(0,this._normalizer,0,J.keyframes,at,vt),Wt=this._buildPlayer(J,qt,et);if(J.subTimeline&&i&&x.add(le),He){const Sn=new lk(e,p,le);Sn.setRealPlayer(Wt),C.push(Sn)}return Wt});C.forEach(J=>{Vo(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function x3(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,J.element,J))}),S.forEach(J=>Ea(J,wF));const j=hf(V);return j.onDestroy(()=>{S.forEach(J=>Ly(J,wF)),ku(_,t.toStyles)}),x.forEach(J=>{Vo(i,J,[]).push(j)}),j}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new sE(e.duration,e.delay)}}class lk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new sE,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>jR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YI(n){return n&&1===n.nodeType}function FF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function LF(n,e,t,r,i){const a=[];t.forEach(_=>a.push(FF(_)));const c=[];r.forEach((_,C)=>{const S=new Map;_.forEach(x=>{const V=e.computeStyle(C,x,i);S.set(x,V),(!V||0==V.length)&&(C[wa]=T3,c.push(C))}),n.set(C,S)});let p=0;return t.forEach(_=>FF(_,a[p++])),c}function VF(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(p){if(!p)return 1;let _=a.get(p);if(_)return _;const C=p.parentNode;return _=t.has(C)?C:i.has(C)?1:c(C),a.set(p,_),_}return e.forEach(p=>{const _=c(p);1!==_&&t.get(_).push(p)}),t}function Ea(n,e){n.classList?.add(e)}function Ly(n,e){n.classList?.remove(e)}function N3(n,e,t){hf(t).onDone(()=>n.processLeaveNode(e))}function UF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aF?UF(r.players,e):e.push(r)}}function BF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class QI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new M3(e,t,r),this._timelineEngine=new E3(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const _=[],S=JR(this._driver,a,_,[]);if(_.length)throw function y$(n,e){return new u.vHH(3404,!1)}();p=function _3(n,e,t){return new y3(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=hF(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,p]=hF(r);return this._timelineEngine.listen(c,t,p,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let L3=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ku(this._element,this._initialStyles),this._endStyles&&(ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cm(this._element,this._endStyles),this._endStyles=null),ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uk(n){let e=null;return n.forEach((t,r)=>{(function V3(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class jF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:SF(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class U3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return mF(e,t)}getParentElement(e){return GR(e)}query(e,t,r){return _F(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const C=new Map,S=c.filter(j=>j instanceof jF);(function H$(n,e){return 0===n||0===e})(r,i)&&S.forEach(j=>{j.currentSnapshot.forEach((J,le)=>C.set(le,J))});let x=function V$(n){return n.length?n[0]instanceof Map?n:n.map(e=>EF(e)):[]}(t).map(j=>ff(j));x=function $$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(p=>c.set(p,SF(n,p)))}}return e}(e,x,C);const V=function F3(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=uk(e[0]),e.length>1&&(r=uk(e[e.length-1]))):e instanceof Map&&(t=uk(e)),t||r?new L3(n,t,r):null}(e,x);return new jF(e,x,_,V)}}let B3=(()=>{class n extends iF{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?sF(t):t;return HF(this._renderer,null,r,"register",[i]),new j3(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(fe))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class j3 extends class aH{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new H3(this._id,e,t||{},this._renderer)}}class H3{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return HF(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function HF(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const $F="@.disabled";let $3=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const p=c?.parentNode(a);p&&c.removeChild(p,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(a);return S||(S=new zF("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(_),new z3(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,p]=a;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(QI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class zF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$F?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class z3 extends zF{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$F?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function G3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function q3(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let W3=(()=>{class n extends QI{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fe),u.LFG(qR),u.LFG(rk),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const GF=[{provide:iF,useClass:B3},{provide:rk,useFactory:function Z3(){return new f3}},{provide:QI,useClass:W3},{provide:u.FYo,useFactory:function K3(n,e,t){return new $3(n,e,t)},deps:[Xo,QI,u.R0b]}],ck=[{provide:qR,useFactory:()=>new U3},{provide:u.QbO,useValue:"BrowserAnimations"},...GF],qF=[{provide:qR,useClass:yF},{provide:u.QbO,useValue:"NoopAnimations"},...GF];let Y3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qF:ck}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:ck,imports:[Ul]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[YH]}),n.\u0275inj=u.cJS({imports:[Ul,ZH,ms.hO.initializeApp(uF_firebase),xh,Rh,zU,iH,vH,Y3]}),n})();(0,u.G48)(),Vl().bootstrapModule(Q3).catch(n=>console.error(n))},9751:(wt,Re,F)=>{F.d(Re,{y:()=>Ie});var u=F(930),te=F(727),O=F(8822),ue=F(9635),ce=F(2416),me=F(576),fe=F(2806);let Ie=(()=>{class K{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const Te=new K;return Te.source=this,Te.operator=Oe,Te}subscribe(Oe,Te,rt){const Ce=function z(K){return K&&K instanceof u.Lv||function G(K){return K&&(0,me.m)(K.next)&&(0,me.m)(K.error)&&(0,me.m)(K.complete)}(K)&&(0,te.Nn)(K)}(Oe)?Oe:new u.Hp(Oe,Te,rt);return(0,fe.x)(()=>{const{operator:Ee,source:Et}=this;Ce.add(Ee?Ee.call(Ce,Et):Et?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(Te){Oe.error(Te)}}forEach(Oe,Te){return new(Te=_e(Te))((rt,Ce)=>{const Ee=new u.Hp({next:Et=>{try{Oe(Et)}catch(Tt){Ce(Tt),Ee.unsubscribe()}},error:Ce,complete:rt});this.subscribe(Ee)})}_subscribe(Oe){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Oe)}[O.L](){return this}pipe(...Oe){return(0,ue.U)(Oe)(this)}toPromise(Oe){return new(Oe=_e(Oe))((Te,rt)=>{let Ce;this.subscribe(Ee=>Ce=Ee,Ee=>rt(Ee),()=>Te(Ce))})}}return K.create=Ge=>new K(Ge),K})();function _e(K){var Ge;return null!==(Ge=K??ce.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(wt,Re,F)=>{F.d(Re,{x:()=>fe});var u=F(9751),te=F(727);const ue=(0,F(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=F(8737),me=F(2806);let fe=(()=>{class _e extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const K=new Ie(this,this);return K.operator=z,K}_throwIfClosed(){if(this.closed)throw new ue}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:K}=this;for(;K.length;)K.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:K,isStopped:Ge,observers:Oe}=this;return K||Ge?te.Lc:(this.currentObservers=null,Oe.push(z),new te.w0(()=>{this.currentObservers=null,(0,ce.P)(Oe,z)}))}_checkFinalizedStatuses(z){const{hasError:K,thrownError:Ge,isStopped:Oe}=this;K?z.error(Ge):Oe&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return _e.create=(G,z)=>new Ie(G,z),_e})();class Ie extends fe{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===K||K.call(z,G)}error(G){var z,K;null===(K=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===K||K.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,K;return null!==(K=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==K?K:te.Lc}}},930:(wt,Re,F)=>{F.d(Re,{Hp:()=>rt,Lv:()=>K});var u=F(576),te=F(727),O=F(2416),ue=F(7849),ce=F(5032);const me=_e("C",void 0,void 0);function _e(Le,be,ve){return{kind:Le,value:be,error:ve}}var G=F(3410),z=F(2806);class K extends te.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,te.Nn)(be)&&be.add(this)):this.destination=Tt}static create(be,ve,We){return new rt(be,ve,We)}next(be){this.isStopped?Et(function Ie(Le){return _e("N",Le,void 0)}(be),this):this._next(be)}error(be){this.isStopped?Et(function fe(Le){return _e("E",void 0,Le)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?Et(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Oe(Le,be){return Ge.call(Le,be)}class Te{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ve}=this;if(ve.next)try{ve.next(be)}catch(We){Ce(We)}}error(be){const{partialObserver:ve}=this;if(ve.error)try{ve.error(be)}catch(We){Ce(We)}else Ce(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ve){Ce(ve)}}}class rt extends K{constructor(be,ve,We){let $e;if(super(),(0,u.m)(be)||!be)$e={next:be??void 0,error:ve??void 0,complete:We??void 0};else{let it;this&&O.v.useDeprecatedNextContext?(it=Object.create(be),it.unsubscribe=()=>this.unsubscribe(),$e={next:be.next&&Oe(be.next,it),error:be.error&&Oe(be.error,it),complete:be.complete&&Oe(be.complete,it)}):$e=be}this.destination=new Te($e)}}function Ce(Le){O.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Le):(0,ue.h)(Le)}function Et(Le,be){const{onStoppedNotification:ve}=O.v;ve&&G.z.setTimeout(()=>ve(Le,be))}const Tt={closed:!0,next:ce.Z,error:function Ee(Le){throw Le},complete:ce.Z}},727:(wt,Re,F)=>{F.d(Re,{Lc:()=>me,w0:()=>ce,Nn:()=>fe});var u=F(576);const O=(0,F(3888).d)(_e=>function(z){_e(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((K,Ge)=>`${Ge+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ue=F(8737);class ce{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Oe of z)Oe.remove(this);else z.remove(this);const{initialTeardown:K}=this;if((0,u.m)(K))try{K()}catch(Oe){G=Oe instanceof O?Oe.errors:[Oe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Oe of Ge)try{Ie(Oe)}catch(Te){G=G??[],Te instanceof O?G=[...G,...Te.errors]:G.push(Te)}}if(G)throw new O(G)}}add(G){var z;if(G&&G!==this)if(this.closed)Ie(G);else{if(G instanceof ce){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ue.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,ue.P)(z,G),G instanceof ce&&G._removeParent(this)}}ce.EMPTY=(()=>{const _e=new ce;return _e.closed=!0,_e})();const me=ce.EMPTY;function fe(_e){return _e instanceof ce||_e&&"closed"in _e&&(0,u.m)(_e.remove)&&(0,u.m)(_e.add)&&(0,u.m)(_e.unsubscribe)}function Ie(_e){(0,u.m)(_e)?_e():_e.unsubscribe()}},2416:(wt,Re,F)=>{F.d(Re,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Re,F)=>{F.d(Re,{E:()=>te});const te=new(F(9751).y)(ce=>ce.complete())},8996:(wt,Re,F)=>{F.d(Re,{D:()=>be});var u=F(8421),te=F(5363),O=F(9468),me=F(9751),Ie=F(2202),_e=F(576),G=F(9672);function K(ve,We){if(!ve)throw new Error("Iterable cannot be null");return new me.y($e=>{(0,G.f)($e,We,()=>{const it=ve[Symbol.asyncIterator]();(0,G.f)($e,We,()=>{it.next().then(ie=>{ie.done?$e.complete():$e.next(ie.value)})},0,!0)})})}var Ge=F(3670),Oe=F(8239),Te=F(1144),rt=F(6495),Ce=F(2206),Ee=F(4532),Et=F(3260);function be(ve,We){return We?function Le(ve,We){if(null!=ve){if((0,Ge.c)(ve))return function ue(ve,We){return(0,u.Xf)(ve).pipe((0,O.R)(We),(0,te.Q)(We))}(ve,We);if((0,Te.z)(ve))return function fe(ve,We){return new me.y($e=>{let it=0;return We.schedule(function(){it===ve.length?$e.complete():($e.next(ve[it++]),$e.closed||this.schedule())})})}(ve,We);if((0,Oe.t)(ve))return function ce(ve,We){return(0,u.Xf)(ve).pipe((0,O.R)(We),(0,te.Q)(We))}(ve,We);if((0,Ce.D)(ve))return K(ve,We);if((0,rt.T)(ve))return function z(ve,We){return new me.y($e=>{let it;return(0,G.f)($e,We,()=>{it=ve[Ie.h](),(0,G.f)($e,We,()=>{let ie,Ot;try{({value:ie,done:Ot}=it.next())}catch(ht){return void $e.error(ht)}Ot?$e.complete():$e.next(ie)},0,!0)}),()=>(0,_e.m)(it?.return)&&it.return()})}(ve,We);if((0,Et.L)(ve))return function Tt(ve,We){return K((0,Et.Q)(ve),We)}(ve,We)}throw(0,Ee.z)(ve)}(ve,We):(0,u.Xf)(ve)}},8421:(wt,Re,F)=>{F.d(Re,{Xf:()=>Ge});var u=F(7582),te=F(1144),O=F(8239),ue=F(9751),ce=F(3670),me=F(2206),fe=F(4532),Ie=F(6495),_e=F(3260),G=F(576),z=F(7849),K=F(8822);function Ge(Le){if(Le instanceof ue.y)return Le;if(null!=Le){if((0,ce.c)(Le))return function Oe(Le){return new ue.y(be=>{const ve=Le[K.L]();if((0,G.m)(ve.subscribe))return ve.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Le);if((0,te.z)(Le))return function Te(Le){return new ue.y(be=>{for(let ve=0;ve<Le.length&&!be.closed;ve++)be.next(Le[ve]);be.complete()})}(Le);if((0,O.t)(Le))return function rt(Le){return new ue.y(be=>{Le.then(ve=>{be.closed||(be.next(ve),be.complete())},ve=>be.error(ve)).then(null,z.h)})}(Le);if((0,me.D)(Le))return Ee(Le);if((0,Ie.T)(Le))return function Ce(Le){return new ue.y(be=>{for(const ve of Le)if(be.next(ve),be.closed)return;be.complete()})}(Le);if((0,_e.L)(Le))return function Et(Le){return Ee((0,_e.Q)(Le))}(Le)}throw(0,fe.z)(Le)}function Ee(Le){return new ue.y(be=>{(function Tt(Le,be){var ve,We,$e,it;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ve=(0,u.KL)(Le);!(We=yield ve.next()).done;)if(be.next(We.value),be.closed)return}catch(ie){$e={error:ie}}finally{try{We&&!We.done&&(it=ve.return)&&(yield it.call(ve))}finally{if($e)throw $e.error}}be.complete()})})(Le,be).catch(ve=>be.error(ve))})}},6451:(wt,Re,F)=>{F.d(Re,{T:()=>me});var u=F(8189),te=F(8421),O=F(515),ue=F(3269),ce=F(8996);function me(...fe){const Ie=(0,ue.yG)(fe),_e=(0,ue._6)(fe,1/0),G=fe;return G.length?1===G.length?(0,te.Xf)(G[0]):(0,u.J)(_e)((0,ce.D)(G,Ie)):O.E}},5403:(wt,Re,F)=>{F.d(Re,{x:()=>te});var u=F(930);function te(ue,ce,me,fe,Ie){return new O(ue,ce,me,fe,Ie)}class O extends u.Lv{constructor(ce,me,fe,Ie,_e,G){super(ce),this.onFinalize=_e,this.shouldUnsubscribe=G,this._next=me?function(z){try{me(z)}catch(K){ce.error(K)}}:super._next,this._error=Ie?function(z){try{Ie(z)}catch(K){ce.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(z){ce.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},4004:(wt,Re,F)=>{F.d(Re,{U:()=>O});var u=F(4482),te=F(5403);function O(ue,ce){return(0,u.e)((me,fe)=>{let Ie=0;me.subscribe((0,te.x)(fe,_e=>{fe.next(ue.call(ce,_e,Ie++))}))})}},8189:(wt,Re,F)=>{F.d(Re,{J:()=>O});var u=F(5577),te=F(4671);function O(ue=1/0){return(0,u.z)(te.y,ue)}},5577:(wt,Re,F)=>{F.d(Re,{z:()=>Ie});var u=F(4004),te=F(8421),O=F(4482),ue=F(9672),ce=F(5403),fe=F(576);function Ie(_e,G,z=1/0){return(0,fe.m)(G)?Ie((K,Ge)=>(0,u.U)((Oe,Te)=>G(K,Oe,Ge,Te))((0,te.Xf)(_e(K,Ge))),z):("number"==typeof G&&(z=G),(0,O.e)((K,Ge)=>function me(_e,G,z,K,Ge,Oe,Te,rt){const Ce=[];let Ee=0,Et=0,Tt=!1;const Le=()=>{Tt&&!Ce.length&&!Ee&&G.complete()},be=We=>Ee<K?ve(We):Ce.push(We),ve=We=>{Oe&&G.next(We),Ee++;let $e=!1;(0,te.Xf)(z(We,Et++)).subscribe((0,ce.x)(G,it=>{Ge?.(it),Oe?be(it):G.next(it)},()=>{$e=!0},void 0,()=>{if($e)try{for(Ee--;Ce.length&&Ee<K;){const it=Ce.shift();Te?(0,ue.f)(G,Te,()=>ve(it)):ve(it)}Le()}catch(it){G.error(it)}}))};return _e.subscribe((0,ce.x)(G,be,()=>{Tt=!0,Le()})),()=>{rt?.()}}(K,Ge,_e,z)))}},5363:(wt,Re,F)=>{F.d(Re,{Q:()=>ue});var u=F(9672),te=F(4482),O=F(5403);function ue(ce,me=0){return(0,te.e)((fe,Ie)=>{fe.subscribe((0,O.x)(Ie,_e=>(0,u.f)(Ie,ce,()=>Ie.next(_e),me),()=>(0,u.f)(Ie,ce,()=>Ie.complete(),me),_e=>(0,u.f)(Ie,ce,()=>Ie.error(_e),me)))})}},3099:(wt,Re,F)=>{F.d(Re,{B:()=>ce});var u=F(8421),te=F(7579),O=F(930),ue=F(4482);function ce(fe={}){const{connector:Ie=(()=>new te.x),resetOnError:_e=!0,resetOnComplete:G=!0,resetOnRefCountZero:z=!0}=fe;return K=>{let Ge,Oe,Te,rt=0,Ce=!1,Ee=!1;const Et=()=>{Oe?.unsubscribe(),Oe=void 0},Tt=()=>{Et(),Ge=Te=void 0,Ce=Ee=!1},Le=()=>{const be=Ge;Tt(),be?.unsubscribe()};return(0,ue.e)((be,ve)=>{rt++,!Ee&&!Ce&&Et();const We=Te=Te??Ie();ve.add(()=>{rt--,0===rt&&!Ee&&!Ce&&(Oe=me(Le,z))}),We.subscribe(ve),!Ge&&rt>0&&(Ge=new O.Hp({next:$e=>We.next($e),error:$e=>{Ee=!0,Et(),Oe=me(Tt,_e,$e),We.error($e)},complete:()=>{Ce=!0,Et(),Oe=me(Tt,G),We.complete()}}),(0,u.Xf)(be).subscribe(Ge))})(K)}}function me(fe,Ie,..._e){if(!0===Ie)return void fe();if(!1===Ie)return;const G=new O.Hp({next:()=>{G.unsubscribe(),fe()}});return Ie(..._e).subscribe(G)}},9468:(wt,Re,F)=>{F.d(Re,{R:()=>te});var u=F(4482);function te(O,ue=0){return(0,u.e)((ce,me)=>{me.add(O.schedule(()=>ce.subscribe(me),ue))})}},8505:(wt,Re,F)=>{F.d(Re,{b:()=>ce});var u=F(576),te=F(4482),O=F(5403),ue=F(4671);function ce(me,fe,Ie){const _e=(0,u.m)(me)||fe||Ie?{next:me,error:fe,complete:Ie}:me;return _e?(0,te.e)((G,z)=>{var K;null===(K=_e.subscribe)||void 0===K||K.call(_e);let Ge=!0;G.subscribe((0,O.x)(z,Oe=>{var Te;null===(Te=_e.next)||void 0===Te||Te.call(_e,Oe),z.next(Oe)},()=>{var Oe;Ge=!1,null===(Oe=_e.complete)||void 0===Oe||Oe.call(_e),z.complete()},Oe=>{var Te;Ge=!1,null===(Te=_e.error)||void 0===Te||Te.call(_e,Oe),z.error(Oe)},()=>{var Oe,Te;Ge&&(null===(Oe=_e.unsubscribe)||void 0===Oe||Oe.call(_e)),null===(Te=_e.finalize)||void 0===Te||Te.call(_e)}))}):ue.y}},4408:(wt,Re,F)=>{F.d(Re,{o:()=>ce});var u=F(727);class te extends u.w0{constructor(fe,Ie){super()}schedule(fe,Ie=0){return this}}const O={setInterval(me,fe,...Ie){const{delegate:_e}=O;return _e?.setInterval?_e.setInterval(me,fe,...Ie):setInterval(me,fe,...Ie)},clearInterval(me){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(me)},delegate:void 0};var ue=F(8737);class ce extends te{constructor(fe,Ie){super(fe,Ie),this.scheduler=fe,this.work=Ie,this.pending=!1}schedule(fe,Ie=0){var _e;if(this.closed)return this;this.state=fe;const G=this.id,z=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(z,G,Ie)),this.pending=!0,this.delay=Ie,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(z,this.id,Ie),this}requestAsyncId(fe,Ie,_e=0){return O.setInterval(fe.flush.bind(fe,this),_e)}recycleAsyncId(fe,Ie,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return Ie;null!=Ie&&O.clearInterval(Ie)}execute(fe,Ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(fe,Ie);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Ie){let G,_e=!1;try{this.work(fe)}catch(z){_e=!0,G=z||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Ie}=this,{actions:_e}=Ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(_e,this),null!=fe&&(this.id=this.recycleAsyncId(Ie,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Re,F)=>{F.d(Re,{v:()=>O});var u=F(6063);class te{constructor(ce,me=te.now){this.schedulerActionCtor=ce,this.now=me}schedule(ce,me=0,fe){return new this.schedulerActionCtor(this,ce).schedule(fe,me)}}te.now=u.l.now;class O extends te{constructor(ce,me=te.now){super(ce,me),this.actions=[],this._active=!1}flush(ce){const{actions:me}=this;if(this._active)return void me.push(ce);let fe;this._active=!0;do{if(fe=ce.execute(ce.state,ce.delay))break}while(ce=me.shift());if(this._active=!1,fe){for(;ce=me.shift();)ce.unsubscribe();throw fe}}}},4986:(wt,Re,F)=>{F.d(Re,{P:()=>ue,z:()=>O});var u=F(4408);const O=new(F(7565).v)(u.o),ue=O},6063:(wt,Re,F)=>{F.d(Re,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(wt,Re,F)=>{F.d(Re,{z:()=>u});const u={setTimeout(te,O,...ue){const{delegate:ce}=u;return ce?.setTimeout?ce.setTimeout(te,O,...ue):setTimeout(te,O,...ue)},clearTimeout(te){const{delegate:O}=u;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(wt,Re,F)=>{F.d(Re,{h:()=>te});const te=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Re,F)=>{F.d(Re,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,Re,F)=>{F.d(Re,{_6:()=>me,jO:()=>ue,yG:()=>ce});var u=F(576),te=F(3532);function O(fe){return fe[fe.length-1]}function ue(fe){return(0,u.m)(O(fe))?fe.pop():void 0}function ce(fe){return(0,te.K)(O(fe))?fe.pop():void 0}function me(fe,Ie){return"number"==typeof O(fe)?fe.pop():Ie}},8737:(wt,Re,F)=>{function u(te,O){if(te){const ue=te.indexOf(O);0<=ue&&te.splice(ue,1)}}F.d(Re,{P:()=>u})},3888:(wt,Re,F)=>{function u(te){const ue=te(ce=>{Error.call(ce),ce.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}F.d(Re,{d:()=>u})},2806:(wt,Re,F)=>{F.d(Re,{O:()=>ue,x:()=>O});var u=F(2416);let te=null;function O(ce){if(u.v.useDeprecatedSynchronousErrorHandling){const me=!te;if(me&&(te={errorThrown:!1,error:null}),ce(),me){const{errorThrown:fe,error:Ie}=te;if(te=null,fe)throw Ie}}else ce()}function ue(ce){u.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ce)}},9672:(wt,Re,F)=>{function u(te,O,ue,ce=0,me=!1){const fe=O.schedule(function(){ue(),me?te.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(te.add(fe),!me)return fe}F.d(Re,{f:()=>u})},4671:(wt,Re,F)=>{function u(te){return te}F.d(Re,{y:()=>u})},1144:(wt,Re,F)=>{F.d(Re,{z:()=>u});const u=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(wt,Re,F)=>{F.d(Re,{D:()=>te});var u=F(576);function te(O){return Symbol.asyncIterator&&(0,u.m)(O?.[Symbol.asyncIterator])}},576:(wt,Re,F)=>{function u(te){return"function"==typeof te}F.d(Re,{m:()=>u})},3670:(wt,Re,F)=>{F.d(Re,{c:()=>O});var u=F(8822),te=F(576);function O(ue){return(0,te.m)(ue[u.L])}},6495:(wt,Re,F)=>{F.d(Re,{T:()=>O});var u=F(2202),te=F(576);function O(ue){return(0,te.m)(ue?.[u.h])}},8239:(wt,Re,F)=>{F.d(Re,{t:()=>te});var u=F(576);function te(O){return(0,u.m)(O?.then)}},3260:(wt,Re,F)=>{F.d(Re,{L:()=>ue,Q:()=>O});var u=F(7582),te=F(576);function O(ce){return(0,u.FC)(this,arguments,function*(){const fe=ce.getReader();try{for(;;){const{value:Ie,done:_e}=yield(0,u.qq)(fe.read());if(_e)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ie)}}finally{fe.releaseLock()}})}function ue(ce){return(0,te.m)(ce?.getReader)}},3532:(wt,Re,F)=>{F.d(Re,{K:()=>te});var u=F(576);function te(O){return O&&(0,u.m)(O.schedule)}},4482:(wt,Re,F)=>{F.d(Re,{A:()=>te,e:()=>O});var u=F(576);function te(ue){return(0,u.m)(ue?.lift)}function O(ue){return ce=>{if(te(ce))return ce.lift(function(me){try{return ue(me,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Re,F)=>{function u(){}F.d(Re,{Z:()=>u})},9635:(wt,Re,F)=>{F.d(Re,{U:()=>O,z:()=>te});var u=F(4671);function te(...ue){return O(ue)}function O(ue){return 0===ue.length?u.y:1===ue.length?ue[0]:function(me){return ue.reduce((fe,Ie)=>Ie(fe),me)}}},7849:(wt,Re,F)=>{F.d(Re,{h:()=>O});var u=F(2416),te=F(3410);function O(ue){te.z.setTimeout(()=>{const{onUnhandledError:ce}=u.v;if(!ce)throw ue;ce(ue)})}},4532:(wt,Re,F)=>{function u(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Re,{z:()=>u})},4650:(wt,Re,F)=>{F.d(Re,{$8M:()=>Ll,$Z:()=>bn,AFp:()=>Ww,AaK:()=>Ie,BQk:()=>u_,CHM:()=>Il,CRH:()=>zD,CZH:()=>Oi,CqO:()=>UC,D6c:()=>KA,EJc:()=>Kh,EpF:()=>lT,F$t:()=>De,F4k:()=>VC,FYo:()=>ev,FiY:()=>Ki,G48:()=>Qe,Gf:()=>$D,GfV:()=>tv,GkF:()=>Wp,Gpc:()=>z,Hsn:()=>mu,JOm:()=>Xi,KtG:()=>Hu,LFG:()=>Qn,LSH:()=>Dc,Lbi:()=>Yw,Lck:()=>yw,MMx:()=>Vh,NdJ:()=>BC,OlP:()=>pn,Oqu:()=>Oh,PXZ:()=>Ne,Q6J:()=>l_,QGY:()=>LC,QP$:()=>kt,QbO:()=>Qw,Qsj:()=>SE,R0b:()=>io,RDi:()=>xm,Rgc:()=>Yc,SBq:()=>vp,Sil:()=>_i,Suo:()=>Fw,TTD:()=>Ci,TgZ:()=>ms,Udp:()=>Hc,X6Q:()=>yr,XFs:()=>mt,Xpm:()=>jn,Xts:()=>gh,Y36:()=>Ch,YKP:()=>TD,YNc:()=>PC,Yjl:()=>W,Yz7:()=>ye,Z0I:()=>It,ZZ4:()=>f0,_Bn:()=>F_,_UZ:()=>kh,_Vd:()=>yp,_c5:()=>WA,_uU:()=>JC,aQg:()=>p0,c2e:()=>ga,cJS:()=>Pt,cg1:()=>Xp,dDg:()=>r0,dqk:()=>mn,eFA:()=>hb,ekj:()=>f_,eoX:()=>ub,f3M:()=>Mt,g9A:()=>no,h0i:()=>Wc,hGG:()=>ZA,hij:()=>Ph,iGM:()=>Hh,ifc:()=>St,ip1:()=>xg,jDz:()=>MD,kL8:()=>C_,lG2:()=>U,lqb:()=>Tc,lri:()=>nd,n5z:()=>Nn,oAB:()=>ai,oxw:()=>fT,q4F:()=>ME,qLn:()=>wp,qOj:()=>Up,qZA:()=>qp,rWj:()=>ul,sBO:()=>BA,sIi:()=>Th,s_b:()=>_g,soG:()=>Zh,tb:()=>In,tp0:()=>Io,uIk:()=>Ov,vHH:()=>Te,vpe:()=>_s,wAp:()=>Vt,xp6:()=>uv,ynx:()=>Pv,z2F:()=>Fg,zSh:()=>pp,zs3:()=>hu});var u=F(7579),te=F(727),O=F(9751),ue=F(6451),ce=F(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ie(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ie).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function _e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function z(s){return s.__forward_ref__=z,s.toString=function(){return Ie(this())},s}function K(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===z}class Te extends Error{constructor(o,l){super(function rt(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function Ce(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s,o){throw new Te(-201,!1)}function se(s,o){null==s&&function ne(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function ye(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Pt(s){return{providers:s.providers||[],imports:s.imports||[]}}function hn(s){return Xt(s,nr)||Xt(s,si)}function It(s){return null!==hn(s)}function Xt(s,o){return s.hasOwnProperty(o)?s[o]:null}function qn(s){return s&&(s.hasOwnProperty(Xn)||s.hasOwnProperty(vi))?s[Xn]:null}const nr=me({\u0275prov:me}),Xn=me({\u0275inj:me}),si=me({ngInjectableDef:me}),vi=me({ngInjectorDef:me});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let Zr;function Kr(s){const o=Zr;return Zr=s,o}function jo(s,o,l){const d=hn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&mt.Optional?null:void 0!==o?o:void be(Ie(s))}function dr(s){return{toString:s}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rr={},Rt=[],Ir=me({\u0275cmp:me}),fn=me({\u0275dir:me}),Ho=me({\u0275pipe:me}),tn=me({\u0275mod:me}),hr=me({\u0275fac:me}),Sr=me({__NG_ELEMENT_ID__:me});let Bi=0;function jn(s){return dr(()=>{const l=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Rt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c"+Bi++,styles:s.styles||Rt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,v=s.features;return h.inputs=B(s.inputs,d),h.outputs=B(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(as).filter(Wn):null,h.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ze).filter(Wn):null,h})}function as(s){return de(s)||ee(s)}function Wn(s){return null!==s}function ai(s){return dr(()=>({type:s.type,bootstrap:s.bootstrap||Rt,declarations:s.declarations||Rt,imports:s.imports||Rt,exports:s.exports||Rt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function B(s,o){if(null==s)return rr;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=d,o&&(o[h]=m)}return l}const U=jn;function W(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function de(s){return s[Ir]||null}function ee(s){return s[fn]||null}function Ze(s){return s[Ho]||null}function kt(s){const o=de(s)||ee(s)||Ze(s);return null!==o&&o.standalone}function Bt(s,o){const l=s[tn]||null;if(!l&&!0===o)throw new Error(`Type ${Ie(s)} does not have '\u0275mod' property.`);return l}function fr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Qr(s){return Array.isArray(s)&&!0===s[1]}function zo(s){return 0!=(8&s.flags)}function pl(s){return 2==(2&s.flags)}function Cs(s){return 1==(1&s.flags)}function Hi(s){return null!==s.template}function Go(s){return 0!=(256&s[2])}function Ds(s,o){return s.hasOwnProperty(hr)?s[hr]:null}class vf{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ci(){return Rd}function Rd(s){return s.type.prototype.ngOnChanges&&(s.setInput=Uu),Ia}function Ia(){const s=wf(this),o=s?.current;if(o){const l=s.previous;if(l===rr)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Uu(s,o,l,d){const h=wf(s)||function yl(s,o){return s[_l]=o}(s,{previous:rr,current:null}),m=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[l],I=v[D];m[D]=new vf(I&&I.currentValue,o,v===rr),s[d]=o}Ci.ngInherit=!0;const _l="__ngSimpleChanges__";function wf(s){return s[_l]||null}function Kn(s){for(;Array.isArray(s);)s=s[0];return s}function Di(s,o){return Kn(o[s])}function Jr(s,o){return Kn(o[s.index])}function Dl(s,o){return s.data[o]}function Yn(s,o){const l=o[s];return fr(l)?l:l[0]}function ho(s){return 64==(64&s[2])}function ui(s,o){return null==o?null:s[o]}function qs(s){s[18]=0}function xr(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Nt={lFrame:Wu(null),bindingsEnabled:!0};function Fd(){return Nt.bindingsEnabled}function xe(){return Nt.lFrame.lView}function Kt(){return Nt.lFrame.tView}function Il(s){return Nt.lFrame.contextLView=s,s[8]}function Hu(s){return Nt.lFrame.contextLView=null,s}function Hn(){let s=Sl();for(;null!==s&&64===s.type;)s=s.parent;return s}function Sl(){return Nt.lFrame.currentTNode}function ci(s,o){const l=Nt.lFrame;l.currentTNode=s,l.isParent=o}function Wo(){return Nt.lFrame.isParent}function $u(){Nt.lFrame.isParent=!1}function Is(){return Nt.lFrame.bindingIndex++}function mm(s,o){const l=Nt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Gu(o)}function Gu(s){Nt.lFrame.currentDirectiveIndex=s}function Tl(){return Nt.lFrame.currentQueryIndex}function Ur(s){Nt.lFrame.currentQueryIndex=s}function qu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Aa(s,o,l){if(l&mt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||l&mt.Host||(h=qu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Nt.lFrame=go();return d.currentTNode=o,d.lView=s,!0}function Ma(s){const o=go(),l=s[1];Nt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function go(){const s=Nt.lFrame,o=null===s?null:s.child;return null===o?Wu(s):o}function Wu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function xa(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Vd=xa;function Ko(){const s=xa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function sn(){return Nt.lFrame.selectedIndex}function Ss(s){Nt.lFrame.selectedIndex=s}function kn(){const s=Nt.lFrame;return Dl(s.tView,s.selectedIndex)}function mo(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const m=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:N}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),D&&((s.contentHooks||(s.contentHooks=[])).push(l,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,D)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=N&&(s.destroyHooks||(s.destroyHooks=[])).push(l,N)}}function Ra(s,o,l){ka(s,o,3,l)}function Yo(s,o,l,d){(3&s[2])===l&&ka(s,o,l,d)}function Hd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ka(s,o,l,d){const m=d??-1,v=o.length-1;let D=0;for(let I=void 0!==d?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(D=o[I],null!=d&&D>=d)break}else o[I]<0&&(s[18]+=65536),(D<m||-1==m)&&(If(s,l,o,I),s[18]=(4294901760&s[18])+I+2),I++}function If(s,o,l,d){const h=l[d]<0,m=l[d+1],D=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class Na{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function kl(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const m=l[d++],v=l[d++],D=l[d++];s.setAttribute(o,v,D,m)}else{const m=h,v=l[++d];Af(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function Nl(s){return 3===s||4===s||6===s}function Af(s){return 64===s.charCodeAt(0)}function Qo(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||zd(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function zd(s,o,l,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const D=s[m++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=m-1;break}}}for(;m<s.length;){const D=s[m];if("number"==typeof D)break;if(D===l){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,l),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function Ju(s){return-1!==s}function Oa(s){return 32767&s}function us(s,o){let l=function Mf(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Pa=!0;function As(s){const o=Pa;return Pa=s,o}let Fa=0;const bi={};function Jo(s,o){const l=yo(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ec(d.data,s),ec(o,null),ec(d.blueprint,null));const h=vo(s,o),m=s.injectorIndex;if(Ju(h)){const v=Oa(h),D=us(h,o),I=D[1].data;for(let M=0;M<8;M++)o[m+M]=D[v+M]|I[v+M]}return o[m+8]=h,m}function ec(s,o){s.push(0,0,0,0,0,0,0,0,o)}function yo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function vo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=kf(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function La(s,o,l){!function Xu(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Sr)&&(d=l[Sr]),null==d&&(d=l[Sr]=Fa++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Pl(s,o,l){if(l&mt.Optional||void 0!==s)return s;be()}function xf(s,o,l,d){if(l&mt.Optional&&void 0===d&&(d=null),0==(l&(mt.Self|mt.Host))){const h=s[9],m=Kr(void 0);try{return h?h.get(o,d,l&mt.Optional):jo(o,d,l&mt.Optional)}finally{Kr(m)}}return Pl(d,0,l)}function Xo(s,o,l,d=mt.Default,h){if(null!==s){if(1024&o[2]){const v=function Ua(s,o,l,d,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=ea(m,v,l,d|mt.Self,bi);if(D!==bi)return D;let I=m.parent;if(!I){const M=v[21];if(M){const N=M.get(l,bi,d);if(N!==bi)return N}I=kf(v),v=v[15]}m=I}return h}(s,o,l,d,bi);if(v!==bi)return v}const m=ea(s,o,l,d,bi);if(m!==bi)return m}return xf(o,l,d,h)}function ea(s,o,l,d,h){const m=function Eo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Sr)?s[Sr]:void 0;return"number"==typeof o?o>=0?255&o:vm:o}(l);if("function"==typeof m){if(!Aa(o,s,d))return d&mt.Host?Pl(h,0,d):xf(o,l,d,h);try{const v=m(d);if(null!=v||d&mt.Optional)return v;be()}finally{Vd()}}else if("number"==typeof m){let v=null,D=yo(s,o),I=-1,M=d&mt.Host?o[16][6]:null;for((-1===D||d&mt.SkipSelf)&&(I=-1===D?vo(s,o):o[D+8],-1!==I&&Fl(d,!1)?(v=o[1],D=Oa(I),o=us(I,o)):D=-1);-1!==D;){const N=o[1];if(Rf(m,D,N.data)){const L=ym(D,o,l,v,d,M);if(L!==bi)return L}I=o[D+8],-1!==I&&Fl(d,o[1].data[D+8]===M)&&Rf(m,D,o)?(v=N,D=Oa(I),o=us(I,o)):D=-1}}return h}function ym(s,o,l,d,h,m){const v=o[1],D=v.data[s+8],N=ds(D,v,l,null==d?pl(D)&&Pa:d!=v&&0!=(3&D.type),h&mt.Host&&m===D);return null!==N?Va(o,v,N,D):bi}function ds(s,o,l,d,h){const m=s.providerIndexes,v=o.data,D=1048575&m,I=s.directiveStart,N=m>>20,$=h?D+N:s.directiveEnd;for(let Y=d?D:D+N;Y<$;Y++){const we=v[Y];if(Y<I&&l===we||Y>=I&&we.type===l)return Y}if(h){const Y=v[I];if(Y&&Hi(Y)&&Y.type===l)return I}return null}function Va(s,o,l,d){let h=s[l];const m=o.data;if(function xl(s){return s instanceof Na}(h)){const v=h;v.resolving&&function Et(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Te(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ce(s)}(m[l]));const D=As(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Kr(v.injectImpl):null;Aa(s,d,mt.Default);try{h=s[l]=v.factory(void 0,m,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Ku(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=Rd(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),m&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m))}(l,m[l],o)}finally{null!==I&&Kr(I),As(D),v.resolving=!1,Vd()}}return h}function Rf(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Fl(s,o){return!(s&mt.Self||s&mt.Host&&o)}class hs{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Xo(this._tNode,this._lView,o,d,l)}}function vm(){return new hs(Hn(),xe())}function Nn(s){return dr(()=>{const o=s.prototype.constructor,l=o[hr]||tc(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[hr]||tc(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function tc(s){return Ge(s)?()=>{const o=tc(K(s));return o&&o()}:Ds(s)}function kf(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function Ll(s){return function wo(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const m=l[h];if(Nl(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(Hn(),s)}const zn="__parameters__";function xs(s,o,l){return dr(()=>{const d=function ta(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return D.annotation=v,D;function D(I,M,N){const L=I.hasOwnProperty(zn)?I[zn]:Object.defineProperty(I,zn,{value:[]})[zn];for(;L.length<=N;)L.push(null);return(L[N]=L[N]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ye({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function er(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),er(d,o)):o!==s&&o.push(d)}return o}function Wi(s,o){s.forEach(l=>Array.isArray(l)?Wi(l,o):o(l))}function rc(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function ic(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function na(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function hi(s,o,l){let d=Ha(s,o);return d>=0?s[1|d]=l:(d=~d,function wm(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function $l(s,o){const l=Ha(s,o);if(l>=0)return s[1|l]}function Ha(s,o){return function Uf(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<l];if(o===v)return m<<l;v>o?h=m:d=m+1}return~(h<<l)}(s,o,1)}const wn={},On="__NG_DI_FLAG__",Br="ngTempTokenPath",Xr=/\n/gm,za="__source";let Do;function jr(s){const o=Do;return Do=s,o}function Kl(s,o=mt.Default){if(void 0===Do)throw new Te(-203,!1);return null===Do?jo(s,void 0,o):Do.get(s,o&mt.Optional?null:void 0,o)}function Qn(s,o=mt.Default){return(function Ui(){return Zr}()||Kl)(K(s),o)}function Mt(s,o=mt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Qn(s,o)}function Yd(s){const o=[];for(let l=0;l<s.length;l++){const d=K(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let h,m=mt.Default;for(let v=0;v<d.length;v++){const D=d[v],I=Yl(D);"number"==typeof I?-1===I?h=D.token:m|=I:h=D}o.push(Qn(h,m))}else o.push(Qn(d))}return o}function bo(s,o){return s[On]=o,s.prototype[On]=o,s}function Yl(s){return s[On]}const Ki=bo(xs("Optional"),8),Io=bo(xs("SkipSelf"),4);var Xi=(()=>((Xi=Xi||{})[Xi.Important=1]="Important",Xi[Xi.DashCase=2]="DashCase",Xi))();const P=new Map;let q=0;const En="__ngContext__";function yt(s,o){fr(o)?(s[En]=o[20],function ge(s){P.set(s[20],s)}(o)):s[En]=o}function nu(s,o){return undefined(s,o)}function hc(s){const o=s[3];return Qr(o)?o[3]:o}function ru(s){return ua(s[13])}function Im(s){return ua(s[4])}function ua(s){for(;null!==s&&!Qr(s);)s=s[4];return s}function iu(s,o,l,d,h){if(null!=d){let m,v=!1;Qr(d)?m=d:fr(d)&&(v=!0,d=d[0]);const D=Kn(d);0===s&&null!==l?null==h?gc(o,l,D):Ao(o,l,D,h||null,!0):1===s&&null!==l?Ao(o,l,D,h||null,!0):2===s?function tp(s,o,l){const d=sh(s,o);d&&function Qf(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,D,v):3===s&&o.destroyNode(D),null!=m&&function ip(s,o,l,d,h){const m=l[7];m!==Kn(l)&&iu(o,s,d,m,h);for(let D=10;D<l.length;D++){const I=l[D];mc(I[1],I,s,o,d,m)}}(o,s,m,l,h)}}function Zf(s,o,l){return s.createElement(o,l)}function ou(s,o){const l=s[9],d=l.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,xr(h,-1)),l.splice(d,1)}function Ya(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&ou(h,d),o>0&&(s[l-1][4]=d[4]);const m=ic(s,10+o);!function Ka(s,o){mc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Qa(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&mc(s,o,l,3,null,null),function Hy(s){let o=s[13];if(!o)return rh(s[1],s);for(;o;){let l=null;if(fr(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)fr(o)&&rh(o[1],o),o=o[3];null===o&&(o=s),fr(o)&&rh(o[1],o),l=o&&o[4]}o=l}}(o)}}function rh(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function ih(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof Na)){const m=l[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const D=h[m[v]],I=m[v+1];try{I.call(D)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function Yf(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const v=l[m+1],D="function"==typeof v?v(o):Kn(o[v]),I=d[h=l[m+2]],M=l[m+3];"boolean"==typeof M?D.removeEventListener(l[m],I,M):M>=0?d[h=M]():d[h=-M].unsubscribe(),m+=2}else{const v=d[h=l[m+1]];l[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Qr(o[3])){l!==o[3]&&ou(l,o);const d=o[19];null!==d&&d.detachView(s)}!function ze(s){P.delete(s[20])}(o)}}function Ja(s,o,l){return function Sm(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===St.None||h===St.Emulated)return null}return Jr(d,l)}(s,o.parent,l)}function Ao(s,o,l,d,h){s.insertBefore(o,l,d,h)}function gc(s,o,l){s.appendChild(o,l)}function Tm(s,o,l,d,h){null!==d?Ao(s,o,l,d,h):gc(s,o,l)}function sh(s,o){return s.parentNode(o)}function Am(s,o,l){return Xf(s,o,l)}let Js,Xf=function oh(s,o,l){return 40&s.type?Jr(s,l):null};function Qs(s,o,l,d){const h=Ja(s,d,o),m=o[11],D=Am(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)Tm(m,h,l[I],D,!1);else Tm(m,h,l,D,!1)}function Fs(s,o){if(null!==o){const l=o.type;if(3&l)return Jr(o,s);if(4&l)return lh(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Fs(s,d);{const h=s[o.index];return Qr(h)?lh(-1,h):Kn(h)}}if(32&l)return nu(o,s)()||Kn(s[o.index]);{const d=ep(s,o);return null!==d?Array.isArray(d)?d[0]:Fs(hc(s[16]),d):Fs(s,o.next)}}return null}function ep(s,o){return null!==o?s[16][6].projection[o.projection]:null}function lh(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return Fs(d,h)}return o[7]}function np(s,o,l,d,h,m,v){for(;null!=l;){const D=d[l.index],I=l.type;if(v&&0===o&&(D&&yt(Kn(D),d),l.flags|=4),64!=(64&l.flags))if(8&I)np(s,o,l.child,d,h,m,!1),iu(o,s,h,D,m);else if(32&I){const M=nu(l,d);let N;for(;N=M();)iu(o,s,h,N,m);iu(o,s,h,D,m)}else 16&I?rp(s,o,d,l,h,m):iu(o,s,h,D,m);l=v?l.projectionNext:l.next}}function mc(s,o,l,d,h,m){np(l,d,s.firstChild,o,h,m,!1)}function rp(s,o,l,d,h,m){const v=l[16],I=v[6].projection[d.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)iu(o,s,h,I[M],m);else np(s,o,I,v[3],h,m,!0)}function op(s,o,l){s.setAttribute(o,"style",l)}function ap(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function xm(s){Js=s}class lp{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function mr(s){return s instanceof lp?s.changingThisBreaksApplicationSecurity:s}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function Dc(s){const o=function bc(){const s=xe();return s&&s[12]}();return o?o.sanitize(_r.URL,s)||"":function Mo(s,o){const l=function km(s){return s instanceof lp&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?mr(s):function w(s){return(s=String(s)).match(g)?s:"unsafe:"+s}(Ce(s))}const gh=new pn("ENVIRONMENT_INITIALIZER"),Ic=new pn("INJECTOR",-1),gE=new pn("INJECTOR_DEF_TYPES");class mE{get(o,l=wn){if(l===wn){const d=new Error(`NullInjectorError: No provider for ${Ie(o)}!`);throw d.name="NullInjectorError",d}return l}}function oS(...s){return{\u0275providers:_E(0,s)}}function _E(s,...o){const l=[],d=new Set;let h;return Wi(o,m=>{const v=m;Ky(v,l,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&yE(h,l),l}function yE(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Wi(h,m=>{o.push(m)})}}function Ky(s,o,l,d){if(!(s=K(s)))return!1;let h=null,m=qn(s);const v=!m&&de(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const I=s.ngModule;if(m=qn(I),!m)return!1;h=I}const D=d.has(h);if(v){if(D)return!1;if(d.add(h),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of I)Ky(M,o,l,d)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let M;d.add(h);try{Wi(m.imports,N=>{Ky(N,o,l,d)&&(M||(M=[]),M.push(N))})}finally{}void 0!==M&&yE(M,o)}if(!D){const M=Ds(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Rt},{provide:gE,useValue:h,multi:!0},{provide:gh,useValue:()=>Qn(h),multi:!0})}const I=m.providers;null==I||D||Wi(I,N=>{o.push(N)})}}return h!==s&&void 0!==s.providers}const aS=me({provide:String,useValue:me});function Yy(s){return null!==s&&"object"==typeof s&&aS in s}function tl(s){return"function"==typeof s}const pp=new pn("Set Injector scope."),Sc={},lS={};let Jy;function Fm(){return void 0===Jy&&(Jy=new mE),Jy}class Tc{}class gp extends Tc{constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xy(o,v=>this.processProvider(v)),this.records.set(Ic,Ac(void 0,this)),h.has("environment")&&this.records.set(Tc,Ac(void 0,this));const m=this.records.get(pp);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(gE.multi,Rt,mt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=jr(this),d=Kr(void 0);try{return o()}finally{jr(l),Kr(d)}}get(o,l=wn,d=mt.Default){this.assertNotDestroyed();const h=jr(this),m=Kr(void 0);try{if(!(d&mt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const I=function uS(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&hn(o);D=I&&this.injectableDefInScope(I)?Ac(Lm(o),Sc):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(d&mt.Self?Fm():this.parent).get(o,l=d&mt.Optional&&l===wn?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Br]=v[Br]||[]).unshift(Ie(o)),h)throw v;return function Ql(s,o,l,d){const h=s[Br];throw o[za]&&h.unshift(o[za]),s.message=function Gn(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Ie(o);if(Array.isArray(o))h=o.map(Ie).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];m.push(v+":"+("string"==typeof D?JSON.stringify(D):Ie(D)))}h=`{${m.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(Xr,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Br]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Kr(m),jr(h)}}resolveInjectorInitializers(){const o=jr(this),l=Kr(void 0);try{const d=this.get(gh.multi,Rt,mt.Self);for(const h of d)h()}finally{jr(o),Kr(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(Ie(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let l=tl(o=K(o))?o:K(o&&o.provide);const d=function Vm(s){return Yy(s)?Ac(void 0,s.useValue):Ac(mp(s),Sc)}(o);if(tl(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ac(void 0,Sc,!0),h.factory=()=>Yd(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Sc&&(l.value=lS,l.value=l.factory()),"object"==typeof l.value&&l.value&&function CE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=K(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Lm(s){const o=hn(s),l=null!==o?o.factory:Ds(s);if(null!==l)return l;if(s instanceof pn)throw new Te(204,!1);if(s instanceof Function)return function EE(s){const o=s.length;if(o>0)throw na(o,"?"),new Te(204,!1);const l=function Pn(s){const o=s&&(s[nr]||s[si]);if(o){const l=function Tn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Te(204,!1)}function mp(s,o,l){let d;if(tl(s)){const h=K(s);return Ds(h)||Lm(h)}if(Yy(s))d=()=>K(s.useValue);else if(function vE(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Yd(s.deps||[]));else if(function Qy(s){return!(!s||!s.useExisting)}(s))d=()=>Qn(K(s.useExisting));else{const h=K(s&&(s.useClass||s.provide));if(!function _p(s){return!!s.deps}(s))return Ds(h)||Lm(h);d=()=>new h(...Yd(s.deps))}return d}function Ac(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function cS(s){return!!s.\u0275providers}function Xy(s,o){for(const l of s)Array.isArray(l)?Xy(l,o):cS(l)?Xy(l.\u0275providers,o):o(l)}class DE{}class hS{resolveComponentFactory(o){throw function Um(s){const o=Error(`No component factory found for ${Ie(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yp=(()=>{class s{}return s.NULL=new hS,s})();function fS(){return mh(Hn(),xe())}function mh(s,o){return new vp(Jr(s,o))}let vp=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=fS,s})();function IE(s){return s instanceof vp?s.nativeElement:s}class ev{}let SE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function TE(){const s=xe(),l=Yn(Hn().index,s);return(fr(l)?l:s)[11]}(),s})(),AE=(()=>{class s{}return s.\u0275prov=ye({token:s,providedIn:"root",factory:()=>null}),s})();class tv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ME=new tv("14.3.0"),nv={};function iv(s){return s.ngOriginalError}class wp{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&iv(o);for(;l&&iv(l);)l=iv(l);return l||null}}function nl(s){return s instanceof Function?s():s}function Ep(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}l=h+1}}const LE="ng-template";function _S(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==Ep(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function VE(s){return 4===s.type&&s.value!==LE}function yS(s,o,l){return o===(4!==s.type||l?s.value:LE)}function UE(s,o,l){let d=4;const h=s.attrs||[],m=function yh(s){for(let o=0;o<s.length;o++)if(Nl(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const I=o[D];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!yS(s,I,l)||""===I&&1===o.length){if(xn(d))return!1;v=!0}}else{const M=8&d?I:o[++D];if(8&d&&null!==s.attrs){if(!_S(s.attrs,M,l)){if(xn(d))return!1;v=!0}continue}const L=vS(8&d?"class":I,h,VE(s),l);if(-1===L){if(xn(d))return!1;v=!0;continue}if(""!==M){let $;$=L>m?"":h[L+1].toLowerCase();const Y=8&d?$:null;if(Y&&-1!==Ep(Y,M,0)||2&d&&M!==$){if(xn(d))return!1;v=!0}}}}else{if(!v&&!xn(d)&&!xn(I))return!1;if(v&&xn(I))continue;v=!1,d=I|1&d}}return xn(d)||v}function xn(s){return 0==(1&s)}function vS(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function BE(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function ov(s,o,l=!1){for(let d=0;d<o.length;d++)if(UE(s,o[d],l))return!0;return!1}function wS(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function lv(s,o){return s?":not("+o.trim()+")":o}function vk(s){let o=s[0],l=1,d=2,h="",m=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const D=s[++l];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!xn(v)&&(o+=lv(m,h),h=""),d=v,m=m||!xn(d);l++}return""!==h&&(o+=lv(m,h)),o}const zt={};function uv(s){Cp(Kt(),xe(),sn()+s,!1)}function Cp(s,o,l,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Ra(o,m,l)}else{const m=s.preOrderHooks;null!==m&&Yo(o,m,0,l)}Ss(l)}function $E(s,o=null,l=null,d){const h=zE(s,o,l,d);return h.resolveInjectorInitializers(),h}function zE(s,o=null,l=null,d,h=new Set){const m=[l||Rt,oS(s)];return d=d||("object"==typeof s?void 0:Ie(s)),new gp(m,o||Fm(),d||null,h)}let hu=(()=>{class s{static create(l,d){if(Array.isArray(l))return $E({name:""},d,l,"");{const h=l.name??"";return $E({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=wn,s.NULL=new mE,s.\u0275prov=ye({token:s,providedIn:"any",factory:()=>Qn(Ic)}),s.__NG_ELEMENT_ID__=-1,s})();function Ch(s,o=mt.Default){const l=xe();return null===l?Qn(s,o):Xo(Hn(),l,K(s),o)}function bn(){throw new Error("invalid")}function Dp(s,o){return s<<17|o<<2}function Xs(s){return s>>17&32767}function zm(s){return 2|s}function ha(s){return(131068&s)>>2}function Gm(s,o){return-131069&s|o<<2}function qm(s){return 1|s}function Mp(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],m=l[d+1];if(-1!==m){const v=s.data[m];Ur(h),v.contentQueries(2,o[m],m)}}}function bh(s,o,l,d,h,m,v,D,I,M,N){const L=o.blueprint.slice();return L[0]=h,L[2]=76|d,(null!==N||s&&1024&s[2])&&(L[2]|=1024),qs(L),L[3]=L[15]=s,L[8]=l,L[10]=v||s&&s[10],L[11]=D||s&&s[11],L[12]=I||s&&s[12]||null,L[9]=M||s&&s[9]||null,L[6]=m,L[20]=function Q(){return q++}(),L[21]=N,L[16]=2==o.type?s[16]:L,L}function Nc(s,o,l,d,h){let m=s.data[o];if(null===m)m=function Rp(s,o,l,d,h){const m=Sl(),v=Wo(),I=s.data[o]=function Xm(s,o,l,d,h,m){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I)),I}(s,o,l,d,h),function Ld(){return Nt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=l,m.value=d,m.attrs=h;const v=function fo(){const s=Nt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ci(m,!0),m}function Oc(s,o,l,d){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ih(s,o,l){Ma(o);try{const d=s.viewQuery;null!==d&&Pc(1,d,l);const h=s.template;null!==h&&wv(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Mp(s,o),s.staticViewQueries&&Pc(2,s.viewQuery,l);const m=s.components;null!==m&&function xp(s,o){for(let l=0;l<o.length;l++)Fk(s,o[l])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ko()}}function kp(s,o,l,d){const h=o[2];if(128!=(128&h)){Ma(o);try{qs(o),function Gi(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&wv(s,o,l,2,d);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Ra(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Yo(o,M,0,null),Hd(o,0)}if(function Ok(s){for(let o=ru(s);null!==o;o=Im(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],m=h[3];0==(512&h[2])&&xr(m,1),h[2]|=512}}}(o),function CC(s){for(let o=ru(s);null!==o;o=Im(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];ho(d)&&kp(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Mp(s,o),v){const M=s.contentCheckHooks;null!==M&&Ra(o,M)}else{const M=s.contentHooks;null!==M&&Yo(o,M,1),Hd(o,1)}!function Ap(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ss(~h);else{const m=h,v=l[++d],D=l[++d];mm(v,m),D(2,o[m])}}}finally{Ss(-1)}}(s,o);const D=s.components;null!==D&&function Dh(s,o){for(let l=0;l<o.length;l++)Pk(s,o[l])}(o,D);const I=s.viewQuery;if(null!==I&&Pc(2,I,d),v){const M=s.viewCheckHooks;null!==M&&Ra(o,M)}else{const M=s.viewHooks;null!==M&&Yo(o,M,2),Hd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,xr(o[3],-1))}finally{Ko()}}}function wv(s,o,l,d,h){const m=sn(),v=2&d;try{Ss(-1),v&&o.length>22&&Cp(s,o,22,!1),l(d,h)}finally{Ss(m)}}function Ev(s,o,l){if(zo(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,l[m],m)}}}function il(s,o,l){!Fd()||(function yC(s,o,l,d){const h=l.directiveStart,m=l.directiveEnd;s.firstCreatePass||Jo(l,o),yt(d,o);const v=l.initialInputs;for(let D=h;D<m;D++){const I=s.data[D],M=Hi(I);M&&Pp(o,l,I);const N=Va(o,s,D,l);yt(N,o),null!==v&&wC(0,D-h,N,I,0,v),M&&(Yn(l.index,o)[8]=N)}}(s,o,l,Jr(l,o)),128==(128&l.flags)&&function Nk(s,o,l){const d=l.directiveStart,h=l.directiveEnd,m=l.index,v=function Zo(){return Nt.lFrame.currentDirectiveIndex}();try{Ss(m);for(let D=d;D<h;D++){const I=s.data[D],M=o[D];Gu(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&n_(I,M)}}finally{Ss(-1),Gu(v)}}(s,o,l))}function fC(s,o,l=Jr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],D=-1===v?l(o,s):s[v];s[h++]=D}}}function PS(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Cv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Cv(s,o,l,d,h,m,v,D,I,M){const N=22+d,L=N+h,$=function Rk(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:zt);return l}(N,L),Y="function"==typeof M?M():M;return $[1]={type:s,blueprint:$,template:l,queries:null,viewQuery:D,declTNode:o,data:$.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:Y,incompleteFirstPass:!1}}function Op(s,o,l,d){const h=Av(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&IC(s).push(d,h.length-1))}function pC(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function e_(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let D=null,I=null;for(let M=o.directiveStart;M<d;M++){const N=h[M],L=N.inputs,$=null===m||VE(o)?null:Mi(L,m);v.push($),D=pC(L,M,D),I=pC(N.outputs,M,I)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=I}function gC(s,o){const l=Yn(o,s);16&l[2]||(l[2]|=32)}function bv(s,o,l,d){let h=!1;if(Fd()){const m=function VS(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];ov(l,v.selectors,!1)&&(h||(h=[]),La(Jo(l,o),s,v.type),Hi(v)?(Iv(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===d?null:{"":-1};if(null!==m){h=!0,BS(l,s.data.length,m.length);for(let N=0;N<m.length;N++){const L=m[N];L.providersResolver&&L.providersResolver(L)}let D=!1,I=!1,M=Oc(s,o,m.length,null);for(let N=0;N<m.length;N++){const L=m[N];l.mergedAttrs=Qo(l.mergedAttrs,L.hostAttrs),vC(s,l,o,M,L),US(M,L,v),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const $=L.type.prototype;!D&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),D=!0),!I&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),M++}e_(s,l)}v&&function Sv(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new Te(-301,!1);d.push(o[h],m)}}}(l,d,v)}return l.mergedAttrs=Qo(l.mergedAttrs,l.attrs),h}function FS(s,o,l,d,h,m){const v=m.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const I=~o.index;(function LS(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(D)!=I&&D.push(I),D.push(d,h,v)}}function n_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Iv(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function US(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Hi(o)&&(l[""]=s)}}function BS(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function vC(s,o,l,d,h){s.data[d]=h;const m=h.factory||(h.factory=Ds(h.type)),v=new Na(m,Hi(h),Ch);s.blueprint[d]=v,l[d]=v,FS(s,o,0,d,Oc(s,l,h.hostVars,zt),h)}function Pp(s,o,l){const d=Jr(o,s),h=PS(l),m=s[10],v=Fp(s,bh(s,h,null,l.onPush?32:16,d,o,m,m.createRenderer(d,l),null,null,null));s[o.index]=v}function eo(s,o,l,d,h,m){const v=Jr(s,o);!function r_(s,o,l,d,h,m,v){if(null==m)s.removeAttribute(o,h,l);else{const D=null==v?Ce(m):v(m,d||"",h);s.setAttribute(o,h,D,l)}}(o[11],v,m,s.value,l,d,h)}function wC(s,o,l,d,h,m){const v=m[o];if(null!==v){const D=d.setInput;for(let I=0;I<v.length;){const M=v[I++],N=v[I++],L=v[I++];null!==D?d.setInput(l,L,M,N):l[N]=L}}}function Mi(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function EC(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function Pk(s,o){const l=Yn(o,s);if(ho(l)){const d=l[1];48&l[2]?kp(d,l,d.template,l[8]):l[5]>0&&DC(l)}}function DC(s){for(let d=ru(s);null!==d;d=Im(d))for(let h=10;h<d.length;h++){const m=d[h];if(ho(m))if(512&m[2]){const v=m[1];kp(v,m,v.template,m[8])}else m[5]>0&&DC(m)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=Yn(l[d],s);ho(h)&&h[5]>0&&DC(h)}}function Fk(s,o){const l=Yn(o,s),d=l[1];(function jS(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Ih(d,l,l[8])}function Fp(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Tv(s){for(;s;){s[2]|=32;const o=hc(s);if(Go(s)&&!o)return s;s=o}return null}function Lp(s,o,l,d=!0){const h=o[10];h.begin&&h.begin();try{kp(s,o,s.template,l)}catch(v){throw d&&Mv(o,v),v}finally{h.end&&h.end()}}function Pc(s,o,l){Ur(0),o(s,l)}function Av(s){return s[7]||(s[7]=[])}function IC(s){return s.cleanup||(s.cleanup=[])}function Mv(s,o){const l=s[9],d=l?l.get(wp,null):null;d&&d.handleError(o)}function xv(s,o,l,d,h){for(let m=0;m<l.length;){const v=l[m++],D=l[m++],I=o[v],M=s.data[v];null!==M.setInput?M.setInput(I,h,d,D):I[D]=h}}function i_(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?m=D:1==m?h=_e(h,D):2==m&&(d=_e(d,D+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Vp(s,o,l,d,h=!1){for(;null!==l;){const m=o[l.index];if(null!==m&&d.push(Kn(m)),Qr(m))for(let D=10;D<m.length;D++){const I=m[D],M=I[1].firstChild;null!==M&&Vp(I[1],I,M,d)}const v=l.type;if(8&v)Vp(s,o,l.child,d);else if(32&v){const D=nu(l,o);let I;for(;I=D();)d.push(I)}else if(16&v){const D=ep(o,l);if(Array.isArray(D))d.push(...D);else{const I=hc(o[16]);Vp(I[1],I,D,d,!0)}}l=h?l.projectionNext:l.next}return d}class Fc{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Vp(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Qr(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Ya(o,d),ic(l,d))}this._attachedToViewContainer=!1}Qa(this._lView[1],this._lView)}onDestroy(o){Op(this._lView[1],this._lView,null,o)}markForCheck(){Tv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Lp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function fE(s,o){mc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class $S extends Fc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Lp(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class s_ extends yp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=de(o);return new Vc(l,this.ngModule)}}function SC(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class zS{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const h=this.injector.get(o,nv,d);return h!==nv||l===nv?h:this.parentInjector.get(o,l,d)}}class Vc extends DE{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function wk(s){return s.map(vk).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return SC(this.componentDef.inputs)}get outputs(){return SC(this.componentDef.outputs)}create(o,l,d,h){let m=(h=h||this.ngModule)instanceof Tc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new zS(o,m):o,D=v.get(ev,null);if(null===D)throw new Te(407,!1);const I=v.get(AE,null),M=D.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",L=d?function Np(s,o,l){return s.selectRootElement(o,l===St.ShadowDom)}(M,d,this.componentDef.encapsulation):Zf(M,N,function Lc(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),$=this.componentDef.onPush?288:272,Y=Cv(0,null,null,1,0,null,null,null,null,null),we=bh(null,Y,null,$,null,null,D,M,I,v,null);let je,Ye;Ma(we);try{const ct=function Sh(s,o,l,d,h,m){const v=l[1];l[22]=s;const I=Nc(v,22,2,"#host",null),M=I.mergedAttrs=o.hostAttrs;null!==M&&(i_(I,M,!0),null!==s&&(kl(h,s,M),null!==I.classes&&ap(h,s,I.classes),null!==I.styles&&op(h,s,I.styles)));const N=d.createRenderer(s,o),L=bh(l,PS(o),null,o.onPush?32:16,l[22],I,d,N,m||null,null,null);return v.firstCreatePass&&(La(Jo(I,l),v,o.type),Iv(v,I),BS(I,l.length,1)),Fp(l,L),l[22]=L}(L,this.componentDef,we,D,M);if(L)if(d)kl(M,L,["ng-version",ME.full]);else{const{attrs:Ft,classes:Me}=function ES(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&l.push(m);else{if(!xn(h))break;h=m}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Ft&&kl(M,L,Ft),Me&&Me.length>0&&ap(M,L,Me.join(" "))}if(Ye=Dl(Y,22),void 0!==l){const Ft=Ye.projection=[];for(let Me=0;Me<this.ngContentSelectors.length;Me++){const xt=l[Me];Ft.push(null!=xt?Array.from(xt):null)}}je=function qS(s,o,l,d){const h=l[1],m=function _C(s,o,l){const d=Hn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),vC(s,d,o,Oc(s,o,1,null),l),e_(s,d));const h=Va(o,s,d.directiveStart,d);yt(h,o);const m=Jr(d,o);return m&&yt(m,o),h}(h,l,o);if(s[8]=l[8]=m,null!==d)for(const D of d)D(m,o);if(o.contentQueries){const D=Hn();o.contentQueries(1,m,D.directiveStart)}const v=Hn();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ss(v.index),FS(l[1],v,0,v.directiveStart,v.directiveEnd,o),n_(o,m)),m}(ct,this.componentDef,we,[MC]),Ih(Y,we,null)}finally{Ko()}return new AC(this.componentType,je,mh(Ye,we),we,Ye)}}class AC extends class dS{}{constructor(o,l,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=l,this.hostView=this.changeDetectorRef=new $S(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const m=this._rootLView;xv(m[1],m,h,o,l),gC(m,this._tNode.index)}}get injector(){return new hs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function MC(){const s=Hn();mo(xe()[1],s)}function Up(s){let o=function xC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Hi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const v=s;v.inputs=Rv(s.inputs),v.declaredInputs=Rv(s.declaredInputs),v.outputs=Rv(s.outputs);const D=h.hostBindings;D&&Uk(s,D);const I=h.viewQuery,M=h.contentQueries;if(I&&RC(s,I),M&&ZS(s,M),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Hi(h)&&h.data.animation){const N=s.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const D=m[v];D&&D.ngInherit&&D(s),D===Up&&(l=!1)}}o=Object.getPrototypeOf(o)}!function WS(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Qo(h.hostAttrs,l=Qo(l,h.hostAttrs))}}(d)}function Rv(s){return s===rr?{}:s===Rt?[]:s}function RC(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function ZS(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,m)=>{o(d,h,m),l(d,h,m)}:o}function Uk(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Bp=null;function Us(){if(!Bp){const s=mn.Symbol;if(s&&s.iterator)Bp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Bp=d)}}}return Bp}function Th(s){return!!Nv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Us()in s)}function Nv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function xi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ov(s,o,l,d){const h=xe();return xi(h,Is(),o)&&(Kt(),eo(kn(),h,s,o,l,d)),Ov}function PC(s,o,l,d,h,m,v,D){const I=xe(),M=Kt(),N=s+22,L=M.firstCreatePass?function sT(s,o,l,d,h,m,v,D,I){const M=o.consts,N=Nc(o,s,4,v||null,ui(M,D));bv(o,l,N,ui(M,I)),mo(o,N);const L=N.tViews=Cv(2,N,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,N),L.queries=o.queries.embeddedTView(N)),N}(N,M,I,o,l,d,h,m,v):M.data[N];ci(L,!1);const $=I[11].createComment("");Qs(M,I,$,L),yt($,I),Fp(I,I[N]=EC($,I,$,L)),Cs(L)&&il(M,I,L),null!=v&&fC(I,L,D)}function l_(s,o,l){const d=xe();return xi(d,Is(),o)&&function Vs(s,o,l,d,h,m,v,D){const I=Jr(o,l);let N,M=o.inputs;!D&&null!=M&&(N=M[d])?(xv(s,l,N,d,h),pl(o)&&gC(l,o.index)):3&o.type&&(d=function t_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,m.setProperty(I,d,h))}(Kt(),kn(),d,s,o,d[11],l,!1),l_}function Gp(s,o,l,d,h){const v=h?"class":"style";xv(s,l,o.inputs[v],v,d)}function ms(s,o,l,d){const h=xe(),m=Kt(),v=22+s,D=h[11],I=h[v]=Zf(D,o,function Ml(){return Nt.lFrame.currentNamespace}()),M=m.firstCreatePass?function pi(s,o,l,d,h,m,v){const D=o.consts,M=Nc(o,s,2,h,ui(D,m));return bv(o,l,M,ui(D,v)),null!==M.attrs&&i_(M,M.attrs,!1),null!==M.mergedAttrs&&i_(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,m,h,0,o,l,d):m.data[v];ci(M,!0);const N=M.mergedAttrs;null!==N&&kl(D,I,N);const L=M.classes;null!==L&&ap(D,I,L);const $=M.styles;return null!==$&&op(D,I,$),64!=(64&M.flags)&&Qs(m,h,I,M),0===function Sa(){return Nt.lFrame.elementDepthCount}()&&yt(I,h),function Od(){Nt.lFrame.elementDepthCount++}(),Cs(M)&&(il(m,h,M),Ev(m,M,h)),null!==d&&fC(h,M),ms}function qp(){let s=Hn();Wo()?$u():(s=s.parent,ci(s,!1));const o=s;!function Pd(){Nt.lFrame.elementDepthCount--}();const l=Kt();return l.firstCreatePass&&(mo(l,s),zo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $d(s){return 0!=(16&s.flags)}(o)&&Gp(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Tf(s){return 0!=(32&s.flags)}(o)&&Gp(l,o,xe(),o.stylesWithoutHost,!1),qp}function kh(s,o,l,d){return ms(s,o,l,d),qp(),kh}function Pv(s,o,l){const d=xe(),h=Kt(),m=s+22,v=h.firstCreatePass?function aT(s,o,l,d,h){const m=o.consts,v=ui(m,d),D=Nc(o,s,8,"ng-container",v);return null!==v&&i_(D,v,!0),bv(o,l,D,ui(m,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(m,h,d,o,l):h.data[m];ci(v,!0);const D=d[m]=d[11].createComment("");return Qs(h,d,D,v),yt(D,d),Cs(v)&&(il(h,d,v),Ev(h,v,d)),null!=l&&fC(d,v),Pv}function u_(){let s=Hn();const o=Kt();return Wo()?$u():(s=s.parent,ci(s,!1)),o.firstCreatePass&&(mo(o,s),zo(s)&&o.queries.elementEnd(s)),u_}function Wp(s,o,l){return Pv(s,o,l),u_(),Wp}function lT(){return xe()}function LC(s){return!!s&&"function"==typeof s.then}function VC(s){return!!s&&"function"==typeof s.subscribe}const UC=VC;function BC(s,o,l,d){const h=xe(),m=Kt(),v=Hn();return function cT(s,o,l,d,h,m,v,D){const I=Cs(d),N=s.firstCreatePass&&IC(s),L=o[8],$=Av(o);let Y=!0;if(3&d.type||D){const Ye=Jr(d,o),ct=D?D(Ye):Ye,Ft=$.length,Me=D?ln=>D(Kn(ln[d.index])):d.index;let xt=null;if(!D&&I&&(xt=function jk(s,o,l,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===l&&h[m+1]===d){const D=o[7],I=h[m+2];return D.length>I?D[I]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=m,xt.__ngLastListenerFn__=m,Y=!1;else{m=hT(d,o,L,m,!1);const ln=l.listen(ct,h,m);$.push(m,ln),N&&N.push(h,Me,Ft,Ft+1)}}else m=hT(d,o,L,m,!1);const we=d.outputs;let je;if(Y&&null!==we&&(je=we[h])){const Ye=je.length;if(Ye)for(let ct=0;ct<Ye;ct+=2){const Cn=o[je[ct]][je[ct+1]].subscribe(m),Fi=$.length;$.push(m,Cn),N&&N.push(h,d.index,Fi,-(Fi+1))}}}(m,h,h[11],v,s,o,0,d),BC}function dT(s,o,l,d){try{return!1!==l(d)}catch(h){return Mv(s,h),!1}}function hT(s,o,l,d,h){return function m(v){if(v===Function)return d;Tv(2&s.flags?Yn(s.index,o):o);let I=dT(o,0,d,v),M=m.__ngNextListenerFn__;for(;M;)I=dT(o,0,M,v)&&I,M=M.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function fT(s=1){return function Al(s){return(Nt.lFrame.contextLView=function _m(s,o){for(;s>0;)o=o[15],s--;return o}(s,Nt.lFrame.contextLView))[8]}(s)}function Hk(s,o){let l=null;const d=function av(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?ov(s,m,!0):wS(d,m))return h}else l=h}return l}function De(s){const o=xe()[16][6];if(!o.projection){const d=o.projection=na(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?Hk(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function mu(s,o=0,l){const d=xe(),h=Kt(),m=Nc(h,22+s,16,null,l||null);null===m.projection&&(m.projection=o),$u(),64!=(64&m.flags)&&function zy(s,o,l){rp(o[11],0,o,l,Ja(s,l,o),Am(l.parent||o[6],l,o))}(h,d,m)}function Lv(s,o,l,d,h){const m=s[l+1],v=null===o;let D=d?Xs(m):ha(m),I=!1;for(;0!==D&&(!1===I||v);){const N=s[D+1];mT(s[D],o)&&(I=!0,s[D+1]=d?qm(N):zm(N)),D=d?Xs(N):ha(N)}I&&(s[l+1]=d?zm(m):qm(m))}function mT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ha(s,o)>=0}function Hc(s,o,l){return xo(s,o,l,!1),Hc}function f_(s,o){return xo(s,o,null,!0),f_}function xo(s,o,l,d){const h=xe(),m=Kt(),v=function di(s){const o=Nt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);m.firstUpdatePass&&function p_(s,o,l,d){const h=s.data;if(null===h[l+1]){const m=h[sn()],v=function Bv(s,o){return o>=s.expandoStartIndex}(s,l);(function QC(s,o){return 0!=(s.flags&(o?16:32))})(m,d)&&null===o&&!v&&(o=!1),o=function ZC(s,o,l,d){const h=function Ta(s){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=$c(l=Hv(null,s,o,l,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Hv(h,s,o,l,d),null===m){let I=function jv(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==ha(d))return s[Xs(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=Hv(null,s,o,I[1],d),I=$c(I,o.attrs,d),function KC(s,o,l,d){s[Xs(l?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else m=function Jp(s,o,l){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=$c(d,s[m].hostAttrs,l);return $c(d,o.attrs,l)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,d),function pT(s,o,l,d,h,m){let v=m?o.classBindings:o.styleBindings,D=Xs(v),I=ha(v);s[d]=l;let N,M=!1;if(Array.isArray(l)){const L=l;N=L[1],(null===N||Ha(L,N)>0)&&(M=!0)}else N=l;if(h)if(0!==I){const $=Xs(s[D+1]);s[d+1]=Dp($,D),0!==$&&(s[$+1]=Gm(s[$+1],d)),s[D+1]=function XE(s,o){return 131071&s|o<<17}(s[D+1],d)}else s[d+1]=Dp(D,0),0!==D&&(s[D+1]=Gm(s[D+1],d)),D=d;else s[d+1]=Dp(I,0),0===D?D=d:s[I+1]=Gm(s[I+1],d),I=d;M&&(s[d+1]=zm(s[d+1])),Lv(s,N,d,!0),Lv(s,N,d,!1),function gT(s,o,l,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&Ha(m,o)>=0&&(l[d+1]=qm(l[d+1]))}(o,N,s,d,m),v=Dp(D,I),m?o.classBindings=v:o.styleBindings=v}(h,m,o,l,v,d)}}(m,s,v,d),o!==zt&&xi(h,v,o)&&function g_(s,o,l,d,h,m,v,D){if(!(3&o.type))return;const I=s.data,M=I[D+1];Nh(function bp(s){return 1==(1&s)}(M)?m_(I,o,l,h,ha(M),v):void 0)||(Nh(m)||function gv(s){return 2==(2&s)}(M)&&(m=m_(I,null,l,h,D,v)),function sp(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let m=-1===d.indexOf("-")?void 0:Xi.DashCase;null==h?s.removeStyle(l,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Xi.Important),s.setStyle(l,d,h,m))}}(d,v,Di(sn(),l),h,m))}(m,m.data[sn()],h,h[11],s,h[v+1]=function wT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ie(mr(s)))),s}(o,l),d,v)}function Hv(s,o,l,d,h){let m=null;const v=l.directiveEnd;let D=l.directiveStylingLast;for(-1===D?D=l.directiveStart:D++;D<v&&(m=o[D],d=$c(d,m.hostAttrs,h),m!==s);)D++;return null!==s&&(l.directiveStylingLast=D),d}function $c(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hi(s,v,!!l||o[++m]))}return void 0===s?null:s}function m_(s,o,l,d,h,m){const v=null===o;let D;for(;h>0;){const I=s[h],M=Array.isArray(I),N=M?I[1]:I,L=null===N;let $=l[h+1];$===zt&&($=L?Rt:void 0);let Y=L?$l($,d):N===d?$:void 0;if(M&&!Nh(Y)&&(Y=$l(I,d)),Nh(Y)&&(D=Y,v))return D;const we=s[h+1];h=v?Xs(we):ha(we)}if(null!==o){let I=m?o.residualClasses:o.residualStyles;null!=I&&(D=$l(I,d))}return D}function Nh(s){return void 0!==s}function JC(s,o=""){const l=xe(),d=Kt(),h=s+22,m=d.firstCreatePass?Nc(d,h,1,o,null):d.data[h],v=l[h]=function fc(s,o){return s.createText(o)}(l[11],o);Qs(d,l,v,m),ci(m,!1)}function Oh(s){return Ph("",s,""),Oh}function Ph(s,o,l){const d=xe(),h=function Mh(s,o,l,d){return xi(s,Is(),l)?o+Ce(l)+d:zt}(d,s,o,l);return h!==zt&&function fa(s,o,l){const d=Di(o,s);!function nh(s,o,l){s.setValue(o,l)}(s[11],d,l)}(d,sn(),h),Ph}const Gc=void 0;var VT=["en",[["a","p"],["AM","PM"],Gc],[["AM","PM"],Gc,Gc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gc,"{1} 'at' {0}",Gc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sD(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let qc={};function Xp(s){const o=function BT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=UT(o);if(l)return l;const d=o.split("-")[0];if(l=UT(d),l)return l;if("en"===d)return VT;throw new Te(701,!1)}function C_(s){return Xp(s)[Vt.PluralCase]}function UT(s){return s in qc||(qc[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),qc[s]}var Vt=(()=>((Vt=Vt||{})[Vt.LocaleId=0]="LocaleId",Vt[Vt.DayPeriodsFormat=1]="DayPeriodsFormat",Vt[Vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vt[Vt.DaysFormat=3]="DaysFormat",Vt[Vt.DaysStandalone=4]="DaysStandalone",Vt[Vt.MonthsFormat=5]="MonthsFormat",Vt[Vt.MonthsStandalone=6]="MonthsStandalone",Vt[Vt.Eras=7]="Eras",Vt[Vt.FirstDayOfWeek=8]="FirstDayOfWeek",Vt[Vt.WeekendRange=9]="WeekendRange",Vt[Vt.DateFormat=10]="DateFormat",Vt[Vt.TimeFormat=11]="TimeFormat",Vt[Vt.DateTimeFormat=12]="DateTimeFormat",Vt[Vt.NumberSymbols=13]="NumberSymbols",Vt[Vt.NumberFormats=14]="NumberFormats",Vt[Vt.CurrencyCode=15]="CurrencyCode",Vt[Vt.CurrencySymbol=16]="CurrencySymbol",Vt[Vt.CurrencyName=17]="CurrencyName",Vt[Vt.Currencies=18]="Currencies",Vt[Vt.Directionality=19]="Directionality",Vt[Vt.PluralCase=20]="PluralCase",Vt[Vt.ExtraData=21]="ExtraData",Vt))();const eg="en-US";let $T=eg;function lg(s,o,l,d,h){if(s=K(s),Array.isArray(s))for(let m=0;m<s.length;m++)lg(s[m],o,l,d,h);else{const m=Kt(),v=xe();let D=tl(s)?s:K(s.provide),I=mp(s);const M=Hn(),N=1048575&M.providerIndexes,L=M.directiveStart,$=M.providerIndexes>>20;if(tl(s)||!s.multi){const Y=new Na(I,h,Ch),we=O_(D,o,h?N:N+$,L);-1===we?(La(Jo(M,v),m,D),ug(m,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(Y),v.push(Y)):(l[we]=Y,v[we]=Y)}else{const Y=O_(D,o,N+$,L),we=O_(D,o,N,N+$),je=Y>=0&&l[Y],Ye=we>=0&&l[we];if(h&&!Ye||!h&&!je){La(Jo(M,v),m,D);const ct=function SD(s,o,l,d,h){const m=new Na(s,l,Ch);return m.multi=[],m.index=o,m.componentProviders=0,N_(m,h,d&&!l),m}(h?oA:ID,l.length,h,d,I);!h&&Ye&&(l[we].providerFactory=ct),ug(m,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(ct),v.push(ct)}else ug(m,s,Y>-1?Y:we,N_(l[h?we:Y],I,!h&&d));!h&&d&&Ye&&l[we].componentProviders++}}}function ug(s,o,l,d){const h=tl(o),m=function wE(s){return!!s.useClass}(o);if(h||m){const I=(m?K(o.useClass):o).prototype.ngOnDestroy;if(I){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const N=M.indexOf(l);-1===N?M.push(l,[d,I]):M[N+1].push(d,I)}else M.push(l,I)}}}function N_(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function O_(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function ID(s,o,l,d){return P_(this.multi,[])}function oA(s,o,l,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Va(l,l[1],this.providerFactory.index,d);m=D.slice(0,v),P_(h,m);for(let I=v;I<D.length;I++)m.push(D[I])}else m=[],P_(h,m);return m}function P_(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function F_(s,o=[]){return l=>{l.providersResolver=(d,h)=>function _w(s,o,l){const d=Kt();if(d.firstCreatePass){const h=Hi(s);lg(l,d.data,d.blueprint,h,!0),lg(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Wc{}class TD{}function yw(s,o){return new L_(s,o??null)}class L_ extends Wc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new s_(this);const d=Bt(o);this._bootstrapComponents=nl(d.bootstrap),this._r3Injector=zE(o,l,[{provide:Wc,useValue:this},{provide:yp,useValue:this.componentFactoryResolver}],Ie(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Or extends TD{constructor(o){super(),this.moduleType=o}create(o){return new L_(this.moduleType,o)}}class mi extends Wc{constructor(o,l,d){super(),this.componentFactoryResolver=new s_(this),this.instance=null;const h=new gp([...o,{provide:Wc,useValue:this},{provide:yp,useValue:this.componentFactoryResolver}],l||Fm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Vh(s,o,l=null){return new mi(s,o,l).injector}let vw=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=_E(0,l.type),h=d.length>0?Vh([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ye({token:s,providedIn:"environment",factory:()=>new s(Qn(Tc))}),s})();function MD(s){s.getStandaloneInjector=o=>o.get(vw).getOrCreateStandaloneInjector(s)}function jh(s){return o=>{setTimeout(s,void 0,o)}}const _s=class Rw extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,m=l||(()=>null),v=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=jh(m),h&&(h=jh(h)),v&&(v=jh(v)));const D=super.subscribe({next:h,error:m,complete:v});return o instanceof te.w0&&o.add(D),D}};function UD(){return this._results[Us()]()}class kw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Us(),d=kw.prototype;d[l]||(d[l]=UD)}get changes(){return this._changes||(this._changes=new _s)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=er(o);(this._changesDetected=!function Lf(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yc=(()=>{class s{}return s.__NG_ELEMENT_ID__=BD,s})();const B_=Yc,Nw=class extends B_{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,h=bh(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),Ih(d,h,o),new Fc(h)}};function BD(){return mg(Hn(),xe())}function mg(s,o){return 4&s.type?new Nw(o,s,mh(s,o)):null}let _g=(()=>{class s{}return s.__NG_ELEMENT_ID__=pA,s})();function pA(){return Eu(Hn(),xe())}const yg=_g,Ow=class extends yg{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return mh(this._hostTNode,this._hostLView)}get injector(){return new hs(this._hostTNode,this._hostLView)}get parentInjector(){const o=vo(this._hostTNode,this._hostLView);if(Ju(o)){const l=us(o,this._hostLView),d=Oa(o);return new hs(l[1].data[d+8],l)}return new hs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=vg(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=o.createEmbeddedView(l||{},m);return this.insert(v,h),v}createComponent(o,l,d,h,m){const v=o&&!function Ii(s){return"function"==typeof s}(o);let D;if(v)D=l;else{const L=l||{};D=L.index,d=L.injector,h=L.projectableNodes,m=L.environmentInjector||L.ngModuleRef}const I=v?o:new Vc(de(o)),M=d||this.parentInjector;if(!m&&null==I.ngModule){const $=(v?M:this.parentInjector).get(Tc,null);$&&(m=$)}const N=I.create(M,h,void 0,m);return this.insert(N.hostView,D),N}insert(o,l){const d=o._lView,h=d[1];if(function ju(s){return Qr(s[3])}(d)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const L=d[3],$=new Ow(L,L[6],L[3]);$.detach($.indexOf(o))}}const m=this._adjustIndex(l),v=this._lContainer;!function Kf(s,o,l,d){const h=10+d,m=l.length;d>0&&(l[h-1][4]=o),d<m-10?(o[4]=l[h],rc(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function $y(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,d,v,m);const D=lh(m,v),I=d[11],M=sh(I,v[7]);return null!==M&&function pc(s,o,l,d,h,m){d[0]=h,d[6]=o,mc(s,d,l,1,h,m)}(h,v[6],I,d,M,D),o.attachToViewContainerRef(),rc(Qc(v),m,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=vg(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Ya(this._lContainer,l);d&&(ic(Qc(this._lContainer),l),Qa(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Ya(this._lContainer,l);return d&&null!=ic(Qc(this._lContainer),l)?new Fc(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function vg(s){return s[8]}function Qc(s){return s[8]||(s[8]=[])}function Eu(s,o){let l;const d=o[s.index];if(Qr(d))l=d;else{let h;if(8&s.type)h=Kn(d);else{const m=o[11];h=m.createComment("");const v=Jr(s,o);Ao(m,sh(m,v),h,function Jf(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=l=EC(d,o,h,s),Fp(o,l)}return new Ow(l,s,o)}class j_{constructor(o){this.queryList=o,this.matches=null}clone(){return new j_(this.queryList)}setDirty(){this.queryList.setDirty()}}class H_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<d;m++){const v=l.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new H_(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==ll(o,l).matches&&this.queries[l].setDirty()}}class jD{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class al{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==l?l.push(m):l=[m])}return null!==l?new al(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Oo{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Oo(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,l,$_(l,m)),this.matchTNodeWithReadOption(o,l,ds(l,o,m,!1,!1))}else d===Yc?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ds(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===vp||h===_g||h===Yc&&4&l.type)this.addMatch(l.index,-2);else{const m=ds(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function $_(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function HD(s,o,l,d){return-1===l?function z_(s,o){return 11&s.type?mh(s,o):4&s.type?mg(s,o):null}(o,s):-2===l?function Jn(s,o,l){return l===vp?mh(o,s):l===Yc?mg(o,s):l===_g?Eu(o,s):void 0}(s,o,d):Va(s,s[1],l,o)}function wg(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=l.matches,D=[];for(let I=0;I<v.length;I+=2){const M=v[I];D.push(M<0?null:HD(o,m[M],v[I+1],l.metadata.read))}h.matches=D}return h.matches}function Jc(s,o,l,d){const h=s.queries.getByIndex(l),m=h.matches;if(null!==m){const v=wg(s,o,h,l);for(let D=0;D<m.length;D+=2){const I=m[D];if(I>0)d.push(v[D/2]);else{const M=m[D+1],N=o[-I];for(let L=10;L<N.length;L++){const $=N[L];$[17]===$[3]&&Jc($[1],$,M,d)}if(null!==N[9]){const L=N[9];for(let $=0;$<L.length;$++){const Y=L[$];Jc(Y[1],Y,M,d)}}}}}return d}function Hh(s){const o=xe(),l=Kt(),d=Tl();Ur(d+1);const h=ll(l,d);if(s.dirty&&function gm(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Jc(l,o,d,[]):wg(l,o,h,d);s.reset(m,IE),s.notifyOnChanges()}return!0}return!1}function $D(s,o,l){const d=Kt();d.firstCreatePass&&(qD(d,new jD(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),GD(d,xe(),o)}function Fw(s,o,l,d){const h=Kt();if(h.firstCreatePass){const m=Hn();qD(h,new jD(o,l,d),m.index),function Eg(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}GD(h,xe(),l)}function zD(){return function mA(s,o){return s[19].queries[o].queryList}(xe(),Tl())}function GD(s,o,l){const d=new kw(4==(4&l));Op(s,o,d,d.destroy),null===o[19]&&(o[19]=new H_),o[19].queries.push(new j_(d))}function qD(s,o,l){null===s.queries&&(s.queries=new al),s.queries.track(new Oo(o,l))}function ll(s,o){return s.queries.getByIndex(o)}function Mg(...s){}const xg=new pn("Application Initializer");let Oi=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Mg,this.reject=Mg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(LC(m))l.push(m);else if(UC(m)){const v=new Promise((D,I)=>{m.subscribe({complete:D,error:I})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Qn(xg,8))},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ww=new pn("AppId",{providedIn:"root",factory:function Zw(){return`${Kw()}${Kw()}${Kw()}`}});function Kw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const no=new pn("Platform Initializer"),Yw=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),In=new pn("appBootstrapListener"),Qw=new pn("AnimationModuleType");let ga=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Zh=new pn("LocaleId",{providedIn:"root",factory:()=>Mt(Zh,mt.Optional|mt.SkipSelf)||function ob(){return typeof $localize<"u"&&$localize.locale||eg}()}),Kh=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ro{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let _i=(()=>{class s{compileModuleSync(l){return new Or(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),m=nl(Bt(l).declarations).reduce((v,D)=>{const I=de(D);return I&&v.push(new Vc(I)),v},[]);return new ro(d,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const NA=(()=>Promise.resolve(0))();function Pg(s){typeof Zone>"u"?NA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _s(!1),this.onMicrotaskEmpty=new _s(!1),this.onStable=new _s(!1),this.onError=new _s(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function OA(){let s=mn.requestAnimationFrame,o=mn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PA(s){const o=()=>{!function Q_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,t0(s),s.isCheckStableRunning=!0,e0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),t0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,m,v,D)=>{try{return td(s),l.invokeTask(h,m,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),n0(s)}},onInvoke:(l,d,h,m,v,D,I)=>{try{return td(s),l.invoke(h,m,v,D,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),n0(s)}},onHasTask:(l,d,h,m)=>{l.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,t0(s),e0(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,d,h,m)=>(l.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Te(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,lb,Mg,Mg);try{return m.runTask(v,l,d)}finally{m.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const lb={};function e0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function t0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function td(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function n0(s){s._nesting--,e0(s)}class ni{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _s,this.onMicrotaskEmpty=new _s,this.onStable=new _s,this.onError=new _s}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const nd=new pn(""),ul=new pn("");let ar,r0=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ar||(function Ue(s){ar=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),Pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Qn(io),Qn(ub),Qn(ul))},s.\u0275prov=ye({token:s,factory:s.\u0275fac}),s})(),ub=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ar?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),zr=null;const J_=new pn("AllowMultipleToken"),nt=new pn("PlatformDestroyListeners");class Ne{constructor(o,l){this.name=o,this.token=l}}function hb(s,o,l=[]){const d=`Platform: ${o}`,h=new pn(d);return(m=[])=>{let v=s0();if(!v||v.injector.get(J_,!1)){const D=[...l,...m,{provide:h,useValue:!0}];s?s(D):function Gr(s){if(zr&&!zr.get(J_,!1))throw new Te(400,!1);zr=s;const o=s.get(UA);(function db(s){const o=s.get(no,null);o&&o.forEach(l=>l())})(s)}(function fb(s=[],o){return hu.create({name:o,providers:[{provide:pp,useValue:"platform"},{provide:nt,useValue:new Set([()=>zr=null])},...s]})}(D,d))}return function LA(s){const o=s0();if(!o)throw new Te(401,!1);return o}()}}function s0(){return zr?.get(UA)??null}let UA=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function o0(s,o){let l;return l="noop"===s?new ni:("zone.js"===s?void 0:s)||new io(o),l}(d?.ngZone,function pb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:io,useValue:h}];return h.run(()=>{const v=hu.create({providers:m,parent:this.injector,name:l.moduleType.name}),D=l.create(v),I=D.injector.get(wp,null);if(!I)throw new Te(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:N=>{I.handleError(N)}});D.onDestroy(()=>{Un(this._modules,D),M.unsubscribe()})}),function Ht(s,o,l){try{const d=l();return LC(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const M=D.injector.get(Oi);return M.runInitializers(),M.donePromise.then(()=>(function aD(s){se(s,"Expected localeId to be defined"),"string"==typeof s&&($T=s.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Zh,eg)||eg),this._moduleDoBootstrap(D),D))})})}bootstrapModule(l,d=[]){const h=rd({},d);return function FA(s,o,l){const d=new Or(l);return Promise.resolve(d)}(0,0,l).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(l){const d=l.injector.get(Fg);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Te(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(nt,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Qn(hu))},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function rd(s,o){return Array.isArray(o)?o.reduce(rd,s):{...s,...o}}let Fg=(()=>{class s{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new O.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),Pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ue.T)(m,v.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof DE;if(!this._injector.get(Oi).done)throw!h&&kt(l),new Te(405,false);let v;v=h?l:this._injector.get(yp).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const D=function pe(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Wc),M=v.create(hu.NULL,[],d||v.selector,D),N=M.location.nativeElement,L=M.injector.get(nd,null);return L?.registerApplication(N),M.onDestroy(()=>{this.detachView(M.hostView),Un(this.components,M),L?.unregisterApplication(N)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Un(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(In,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Un(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Te(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Qn(io),Qn(Tc),Qn(wp))},s.\u0275prov=ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Un(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let rn=!0,gb=!1;function yr(){return gb=!0,rn}function Qe(){if(gb)throw new Error("Cannot enable prod mode after platform setup.");rn=!1}let BA=(()=>{class s{}return s.__NG_ELEMENT_ID__=X_,s})();function X_(s){return function jA(s,o,l){if(pl(s)&&!l){const d=Yn(s.index,o);return new Fc(d,d)}return 47&s.type?new Fc(o[16],o):null}(Hn(),xe(),16==(16&s))}class Yh{constructor(){}supports(o){return Th(o)}create(o){return new wb(o)}}const Bg=(s,o)=>o;class wb{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Bg}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,m=null;for(;l||d;){const v=!d||l&&l.currentIndex<Lo(d,h,m)?l:d,D=Lo(v,h,m),I=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{m||(m=[]);const M=D-h,N=I-h;if(M!=N){for(let $=0;$<M;$++){const Y=$<m.length?m[$]:m[$]=0,we=Y+$;N<=we&&we<M&&(m[$]=Y+1)}m[v.previousIndex]=N-M}}D!==I&&o(v,D,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Th(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)m=o[D],v=this._trackByFn(D,m),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,m,v,D)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,v,D),d=!0),l=l._next}else h=0,function NC(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Us()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,D=>{v=this._trackByFn(h,D),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,D,v,h)),Object.is(l.item,D)||this._addIdentityChange(l,D)):(l=this._mismatch(l,D,v,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new Pi(l,d),m,h),o}_verifyReinsertion(o,l,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new d0),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Pi{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class d0{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new zA,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lo(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class h0{constructor(){}supports(o){return o instanceof Map||Nv(o)}create(){return new ty}}class ty{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Nv(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new Eb(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Eb{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new f0([new Yh])}let f0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Cb()),deps:[[s,new Io,new Ki]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Te(901,!1)}}return s.\u0275prov=ye({token:s,providedIn:"root",factory:Cb}),s})();function Db(){return new p0([new h0])}let p0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Db()),deps:[[s,new Io,new Ki]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Te(901,!1)}}return s.\u0275prov=ye({token:s,providedIn:"root",factory:Db}),s})();const WA=hb(null,"core",[]);let ZA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Qn(Fg))},s.\u0275mod=ai({type:s}),s.\u0275inj=Pt({}),s})();function KA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},6101:(wt,Re,F)=>{F.d(Re,{Z:()=>Te});var u=F(5578),te=F(1617),O=F(7212);F(1877);class ce{constructor(Ce,Ee){this._delegate=Ce,this.firebase=Ee,(0,O._addComponent)(Ce,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ce,Ee=O._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const Tt=this._delegate.container.getProvider(Ce);return!Tt.isInitialized()&&"EXPLICIT"===(null===(Et=Tt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:Ee})}_removeServiceInstance(Ce,Ee=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(Ee)}_addComponent(Ce){(0,O._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,O._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function _e(){const rt=function Ie(rt){const Ce={},Ee={__esModule:!0,initializeApp:function Le($e,it={}){const ie=O.initializeApp($e,it);if((0,u.r3)(Ce,ie.name))return Ce[ie.name];const Ot=new rt(ie,Ee);return Ce[ie.name]=Ot,Ot},app:Tt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ve($e){const it=$e.name,ie=it.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const Ot=(ht=Tt())=>{if("function"!=typeof ht[ie])throw fe.create("invalid-app-argument",{appName:it});return ht[ie]()};void 0!==$e.serviceProps&&(0,u.ZB)(Ot,$e.serviceProps),Ee[ie]=Ot,rt.prototype[ie]=function(...ht){return this._getService.bind(this,it).apply(this,$e.multipleInstances?ht:[])}}return"PUBLIC"===$e.type?Ee[ie]:null},removeApp:function Et($e){delete Ce[$e]},useAsService:function We($e,it){return"serverAuth"===it?null:it},modularAPIs:O}};function Tt($e){if(!(0,u.r3)(Ce,$e=$e||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:$e});return Ce[$e]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function be(){return Object.keys(Ce).map($e=>Ce[$e])}}),Tt.App=rt,Ee}(ce);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Ce(Ee){(0,u.ZB)(rt,Ee)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),rt}const G=_e();(0,u.jU)()&&void 0!==self.firebase&&self;const Te=G},7212:(wt,Re,F)=>{F.r(Re),F.d(Re,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Ho,_DEFAULT_ENTRY_NAME:()=>wi,_addComponent:()=>st,_addOrOverwriteComponent:()=>St,_apps:()=>Rn,_clearComponents:()=>rr,_components:()=>en,_getProvider:()=>os,_registerComponent:()=>mn,_removeServiceInstance:()=>oi,deleteApp:()=>Bi,getApp:()=>hr,getApps:()=>Sr,initializeApp:()=>tn,onLog:()=>as,registerVersion:()=>Tr,setLogLevel:()=>Wn});var u=F(5861),te=F(1617),O=F(1877),ue=F(5578);let me,fe;const G=new WeakMap,z=new WeakMap,K=new WeakMap,Ge=new WeakMap,Oe=new WeakMap;let Ce={get(oe,re,Fe){if(oe instanceof IDBTransaction){if("done"===re)return z.get(oe);if("objectStoreNames"===re)return oe.objectStoreNames||K.get(oe);if("store"===re)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return Le(oe[re])},set:(oe,re,Fe)=>(oe[re]=Fe,!0),has:(oe,re)=>oe instanceof IDBTransaction&&("done"===re||"store"===re)||re in oe};function Tt(oe){return"function"==typeof oe?function Et(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...re){return oe.apply(be(this),re),Le(G.get(this))}:function(...re){return Le(oe.apply(be(this),re))}:function(re,...Fe){const Ve=oe.call(be(this),re,...Fe);return K.set(Ve,re.sort?re.sort():[re]),Le(Ve)}}(oe):(oe instanceof IDBTransaction&&function rt(oe){if(z.has(oe))return;const re=new Promise((Fe,Ve)=>{const At=()=>{oe.removeEventListener("complete",jt),oe.removeEventListener("error",nn),oe.removeEventListener("abort",nn)},jt=()=>{Fe(),At()},nn=()=>{Ve(oe.error||new DOMException("AbortError","AbortError")),At()};oe.addEventListener("complete",jt),oe.addEventListener("error",nn),oe.addEventListener("abort",nn)});z.set(oe,re)}(oe),((oe,re)=>re.some(Fe=>oe instanceof Fe))(oe,function Ie(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ce):oe)}function Le(oe){if(oe instanceof IDBRequest)return function Te(oe){const re=new Promise((Fe,Ve)=>{const At=()=>{oe.removeEventListener("success",jt),oe.removeEventListener("error",nn)},jt=()=>{Fe(Le(oe.result)),At()},nn=()=>{Ve(oe.error),At()};oe.addEventListener("success",jt),oe.addEventListener("error",nn)});return re.then(Fe=>{Fe instanceof IDBCursor&&G.set(Fe,oe)}).catch(()=>{}),Oe.set(re,oe),re}(oe);if(Ge.has(oe))return Ge.get(oe);const re=Tt(oe);return re!==oe&&(Ge.set(oe,re),Oe.set(re,oe)),re}const be=oe=>Oe.get(oe),$e=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],ie=new Map;function Ot(oe,re){if(!(oe instanceof IDBDatabase)||re in oe||"string"!=typeof re)return;if(ie.get(re))return ie.get(re);const Fe=re.replace(/FromIndex$/,""),Ve=re!==Fe,At=it.includes(Fe);if(!(Fe in(Ve?IDBIndex:IDBObjectStore).prototype)||!At&&!$e.includes(Fe))return;const jt=function(){var nn=(0,u.Z)(function*(Fn,...Qt){const Mr=this.transaction(Fn,At?"readwrite":"readonly");let Ei=Mr.store;return Ve&&(Ei=Ei.index(Qt.shift())),(yield Promise.all([Ei[Fe](...Qt),At&&Mr.done]))[0]});return function(Qt){return nn.apply(this,arguments)}}();return ie.set(re,jt),jt}!function Ee(oe){Ce=oe(Ce)}(oe=>({...oe,get:(re,Fe,Ve)=>Ot(re,Fe)||oe.get(re,Fe,Ve),has:(re,Fe)=>!!Ot(re,Fe)||oe.has(re,Fe)}));const ii=new O.Yd("@firebase/app"),wi="[DEFAULT]",dr={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Rn=new Map,en=new Map;function st(oe,re){try{oe.container.addComponent(re)}catch(Fe){ii.debug(`Component ${re.name} failed to register with FirebaseApp ${oe.name}`,Fe)}}function St(oe,re){oe.container.addOrOverwriteComponent(re)}function mn(oe){const re=oe.name;if(en.has(re))return ii.debug(`There were multiple attempts to register component ${re}.`),!1;en.set(re,oe);for(const Fe of Rn.values())st(Fe,oe);return!0}function os(oe,re){const Fe=oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),oe.container.getProvider(re)}function oi(oe,re,Fe=wi){os(oe,re).clearInstance(Fe)}function rr(){en.clear()}const Ir=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fn{constructor(re,Fe,Ve){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const Ho="9.23.0";function tn(oe,re={}){let Fe=oe;"object"!=typeof re&&(re={name:re});const Ve=Object.assign({name:wi,automaticDataCollectionEnabled:!1},re),At=Ve.name;if("string"!=typeof At||!At)throw Ir.create("bad-app-name",{appName:String(At)});if(Fe||(Fe=(0,ue.aH)()),!Fe)throw Ir.create("no-options");const jt=Rn.get(At);if(jt){if((0,ue.vZ)(Fe,jt.options)&&(0,ue.vZ)(Ve,jt.config))return jt;throw Ir.create("duplicate-app",{appName:At})}const nn=new te.H0(At);for(const Qt of en.values())nn.addComponent(Qt);const Fn=new fn(Fe,Ve,nn);return Rn.set(At,Fn),Fn}function hr(oe=wi){const re=Rn.get(oe);if(!re&&oe===wi&&(0,ue.aH)())return tn();if(!re)throw Ir.create("no-app",{appName:oe});return re}function Sr(){return Array.from(Rn.values())}function Bi(oe){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(oe){const re=oe.name;Rn.has(re)&&(Rn.delete(re),yield Promise.all(oe.container.getProviders().map(Fe=>Fe.delete())),oe.isDeleted=!0)})).apply(this,arguments)}function Tr(oe,re,Fe){var Ve;let At=null!==(Ve=dr[oe])&&void 0!==Ve?Ve:oe;Fe&&(At+=`-${Fe}`);const jt=At.match(/\s|\//),nn=re.match(/\s|\//);if(jt||nn){const Fn=[`Unable to register library "${At}" with version "${re}":`];return jt&&Fn.push(`library name "${At}" contains illegal characters (whitespace or "/")`),jt&&nn&&Fn.push("and"),nn&&Fn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ii.warn(Fn.join(" "))}mn(new te.wA(`${At}-version`,()=>({library:At,version:re}),"VERSION"))}function as(oe,re){if(null!==oe&&"function"!=typeof oe)throw Ir.create("invalid-log-argument");(0,O.Am)(oe,re)}function Wn(oe){(0,O.Ub)(oe)}},1617:(wt,Re,F)=>{F.d(Re,{H0:()=>Ie,wA:()=>O});var u=F(5861),te=F(5578);class O{constructor(G,z,K){this.name=G,this.instanceFactory=z,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ue="[DEFAULT]";class ce{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const K=new te.BH;if(this.instancesDeferred.set(z,K),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&K.resolve(Ge)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const K=this.normalizeInstanceIdentifier(G?.identifier),Ge=null!==(z=G?.optional)&&void 0!==z&&z;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Oe){if(Ge)return null;throw Oe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function fe(_e){return"EAGER"===_e.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[z,K]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ge});K.resolve(Oe)}catch{}}}}clearInstance(G=ue){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...z.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ue){return this.instances.has(G)}getOptions(G=ue){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,K=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:K,options:z});for(const[Oe,Te]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Oe)&&Te.resolve(Ge);return Ge}onInit(G,z){var K;const Ge=this.normalizeInstanceIdentifier(z),Oe=null!==(K=this.onInitCallbacks.get(Ge))&&void 0!==K?K:new Set;Oe.add(G),this.onInitCallbacks.set(Ge,Oe);const Te=this.instances.get(Ge);return Te&&G(Te,Ge),()=>{Oe.delete(G)}}invokeOnInitCallbacks(G,z){const K=this.onInitCallbacks.get(z);if(K)for(const Ge of K)try{Ge(G,z)}catch{}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let K=this.instances.get(G);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=G,_e===ue?void 0:_e),options:z}),this.instances.set(G,K),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(K,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,K)}catch{}var _e;return K||null}normalizeInstanceIdentifier(G=ue){return this.component?this.component.multipleInstances?G:ue:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ie{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new ce(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},8140:(wt,Re,F)=>{F.d(Re,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=F(7212)},1274:(wt,Re,F)=>{F.d(Re,{Z:()=>u.Z});var u=F(6101)},8463:(wt,Re,F)=>{F.r(Re);var u=F(5861),te=F(6101),O=F(5578),ue=F(7212),ce=F(7582),me=F(1877);F(1617);function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rt=Oe,Ce=new O.LL("auth","Firebase",Oe()),Et=new me.Yd("@firebase/auth");function Le(y,...f){Et.logLevel<=me.in.ERROR&&Et.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function be(y,...f){throw it(y,...f)}function ve(y,...f){return it(y,...f)}function We(y,f,g){const w=Object.assign(Object.assign({},rt()),{[f]:g});return new O.LL("auth","Firebase",w).create(f,{appName:y.name})}function $e(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&be(y,"argument-error"),We(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(y,...f){if("string"!=typeof y){const g=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return Ce.create(y,...f)}function ie(y,f,...g){if(!y)throw it(f,...g)}function Ot(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Le(f),new Error(f)}function ht(y,f){y||Ot(f)}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Es(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ss{constructor(f,g){this.shortDelay=f,this.longDelay=g,ht(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ii(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function dt(){return"http:"===Es()||"https:"===Es()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function se(y,f){ht(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ne{static initialize(f,g,w){this.fetchImpl=f,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Se=new ss(3e4,6e4);function ke(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function ye(y,f,g,w){return ft.apply(this,arguments)}function ft(){return(ft=(0,u.Z)(function*(y,f,g,w,T={}){return Pt(y,T,(0,u.Z)(function*(){let k={},H={};w&&("GET"===f?H=w:k={body:JSON.stringify(w)});const X=(0,O.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),Pe=yield y._getAdditionalHeaders();return Pe["Content-Type"]="application/json",y.languageCode&&(Pe["X-Firebase-Locale"]=y.languageCode),ne.fetch()(Pn(y,y.config.apiHost,g,X),Object.assign({method:f,headers:Pe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Pt(y,f,g){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(y,f,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ae),f);try{const T=new Tn(y),k=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const H=yield k.json();if("needConfirmation"in H)throw qn(y,"account-exists-with-different-credential",H);if(k.ok&&!("errorMessage"in H))return H;{const X=k.ok?H.errorMessage:H.error.message,[Pe,qe]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw qn(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===Pe)throw qn(y,"email-already-in-use",H);if("USER_DISABLED"===Pe)throw qn(y,"user-disabled",H);const tt=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw We(y,tt,qe);be(y,tt)}}catch(T){if(T instanceof O.ZR)throw T;be(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function It(y,f,g,w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(y,f,g,w,T={}){const k=yield ye(y,f,g,w,T);return"mfaPendingCredential"in k&&be(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Pn(y,f,g,w){const T=`${f}${g}?${w}`;return y.config.emulator?se(y.config,T):`${y.config.apiScheme}://${T}`}class Tn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),Se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(y,f,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=ve(y,f,w);return T.customData._tokenResponse=g,T}function Xn(){return(Xn=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function si(y,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mt(y,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Ui(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function wi(){return(wi=(0,u.Z)(function*(y,f=!1){const g=(0,O.m9)(y),w=yield g.getIdToken(f),T=Rn(w);ie(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,H=k?.sign_in_provider;return{claims:T,token:w,authTime:Ui(dr(T.auth_time)),issuedAtTime:Ui(dr(T.iat)),expirationTime:Ui(dr(T.exp)),signInProvider:H||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function dr(y){return 1e3*Number(y)}function Rn(y){const[f,g,w]=y.split(".");if(void 0===f||void 0===g||void 0===w)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(g);return T?JSON.parse(T):(Le("Failed to decode base64 JWT payload"),null)}catch(T){return Le("Caught error parsing JWT payload as JSON",T?.toString()),null}}function st(y,f){return St.apply(this,arguments)}function St(){return(St=(0,u.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&mn(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function mn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class os{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),w)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class oi{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(y){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(y){var f;const g=y.auth,w=yield y.getIdToken(),T=yield st(y,mt(g,{idToken:w}));ie(T?.users.length,g,"internal-error");const k=T.users[0];y._notifyReloadListener(k);const H=null!==(f=k.providerUserInfo)&&void 0!==f&&f.length?tn(k.providerUserInfo):[],X=Ho(y.providerData,H),tt=!!y.isAnonymous&&!(y.email&&k.passwordHash||X?.length),ot={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:X,metadata:new oi(k.createdAt,k.lastLoginAt),isAnonymous:tt};Object.assign(y,ot)})).apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(y){const f=(0,O.m9)(y);yield rr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ho(y,f){return[...y.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}function tn(y){return y.map(f=>{var{providerId:g}=f,w=(0,ce._T)(f,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Sr(){return(Sr=(0,u.Z)(function*(y,f){const g=yield Pt(y,{},(0,u.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:k}=y.config,H=Pn(y,T,"/v1/token",`key=${k}`),X=yield y._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",ne.fetch()(H,{method:"POST",headers:X,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function en(y){const f=Rn(y);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var w=this;return(0,u.Z)(function*(){return ie(!w.accessToken||w.refreshToken,f,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var w=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:H}=yield function hr(y,f){return Sr.apply(this,arguments)}(f,g);w.updateTokensAndExpiration(T,k,Number(H))})()}updateTokensAndExpiration(f,g,w){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,g){const{refreshToken:w,accessToken:T,expirationTime:k}=g,H=new Bi;return w&&(ie("string"==typeof w,"internal-error",{appName:f}),H.refreshToken=w),T&&(ie("string"==typeof T,"internal-error",{appName:f}),H.accessToken=T),k&&(ie("number"==typeof k,"internal-error",{appName:f}),H.expirationTime=k),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function jn(y,f){ie("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Tr{constructor(f){var{uid:g,auth:w,stsTokenManager:T}=f,k=(0,ce._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new oi(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const w=yield st(g,g.stsTokenManager.getToken(g.auth,f));return ie(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(f){return function jo(y){return wi.apply(this,arguments)}(this,f)}reload(){return function Ir(y){return fn.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Tr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var w=this;return(0,u.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield rr(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield st(f,function nr(y,f){return Xn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var w,T,k,H,X,Pe,qe,tt;const ot=null!==(w=g.displayName)&&void 0!==w?w:void 0,Ln=null!==(T=g.email)&&void 0!==T?T:void 0,ts=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Ec=null!==(H=g.photoURL)&&void 0!==H?H:void 0,gs=null!==(X=g.tenantId)&&void 0!==X?X:void 0,Cc=null!==(Pe=g._redirectEventId)&&void 0!==Pe?Pe:void 0,uu=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,Om=null!==(tt=g.lastLoginAt)&&void 0!==tt?tt:void 0,{uid:dp,emailVerified:hp,isAnonymous:cu,providerData:du,stsTokenManager:Pm}=g;ie(dp&&Pm,f,"internal-error");const ca=Bi.fromJSON(this.name,Pm);ie("string"==typeof dp,f,"internal-error"),jn(ot,f.name),jn(Ln,f.name),ie("boolean"==typeof hp,f,"internal-error"),ie("boolean"==typeof cu,f,"internal-error"),jn(ts,f.name),jn(Ec,f.name),jn(gs,f.name),jn(Cc,f.name),jn(uu,f.name),jn(Om,f.name);const el=new Tr({uid:dp,auth:f,email:Ln,emailVerified:hp,displayName:ot,isAnonymous:cu,photoURL:Ec,phoneNumber:ts,tenantId:gs,stsTokenManager:ca,createdAt:uu,lastLoginAt:Om});return du&&Array.isArray(du)&&(el.providerData=du.map(_r=>Object.assign({},_r))),Cc&&(el._redirectEventId=Cc),el}static _fromIdTokenResponse(f,g,w=!1){return(0,u.Z)(function*(){const T=new Bi;T.updateFromServerResponse(g);const k=new Tr({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield rr(k),k})()}}const as=new Map;function Wn(y){ht(y instanceof Function,"Expected a class definition");let f=as.get(y);return f?(ht(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,as.set(y,f),f)}function B(y,f,g){return`firebase:${y}:${f}:${g}`}function ee(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Bt(y=(0,O.z$)()){return/android/i.test(y)}function pt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function yn(y=(0,O.z$)()){return pt(y)||Bt(y)||function Be(y=(0,O.z$)()){return/webos/i.test(y)}(y)||function dn(y=(0,O.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function kt(y=(0,O.z$)()){return/iemobile/i.test(y)}(y)}function An(y){return(0,O.m9)(y)}class Cs{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ot("not implemented")}_getIdTokenResponse(f){return Ot("not implemented")}_linkToIdToken(f,g){return Ot("not implemented")}_getReauthenticationResolver(f){return Ot("not implemented")}}function Cd(y,f){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fu(y,f){return Id.apply(this,arguments)}function Id(){return(Id=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:sendOobCode",ke(y,f))})).apply(this,arguments)}function mf(y,f){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(y,f){return Fu(y,f)})).apply(this,arguments)}function pm(y,f){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,u.Z)(function*(y,f){return Fu(y,f)})).apply(this,arguments)}function $i(y,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(y,f){return It(y,"POST","/v1/accounts:signInWithIdp",ke(y,f))})).apply(this,arguments)}class Ci extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ci(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=g,k=(0,ce._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const H=new Ci(w,T);return H.idToken=k.idToken||void 0,H.accessToken=k.accessToken||void 0,H.secret=k.secret,H.nonce=k.nonce,H.pendingToken=k.pendingToken||null,H}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,$i(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,$i(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Rd(y,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:sendVerificationCode",ke(y,f))})).apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(y,f){return It(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,f))})).apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(y,f){const g=yield It(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,f));if(g.temporaryProof)throw qn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const vl={USER_NOT_FOUND:"user-not-found"};function wr(){return(wr=(0,u.Z)(function*(y,f){return It(y,"POST","/v1/accounts:signInWithPhoneNumber",ke(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),vl)})).apply(this,arguments)}class Fr extends Cs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Fr({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Fr({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Uu(y,f){return _l.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function wf(y,f){return yl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ef(y,f){return wr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}=f;return w||g||T||k?new Fr({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}):null}}class bs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Cl extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Di extends Cl{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Ci._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Ci._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Di.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Di.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:k,nonce:H,providerId:X}=f;if(!w&&!T&&!g&&!k||!X)return null;try{return new Di(X)._credential({idToken:g,accessToken:w,nonce:H,pendingToken:k})}catch{return null}}}let Jr=(()=>{class y extends Cl{constructor(){super("facebook.com")}static credential(g){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Bu=(()=>{class y extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Dl=(()=>{class y extends Cl{constructor(){super("github.com")}static credential(g){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Yn extends Cs{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,g){const w=this.buildRequest();return w.idToken=g,$i(f,w)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,$i(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:k}=g;return w&&T&&k&&w===T?new Yn(w,k):null}static _create(f,g){return new Yn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ju=(()=>{class y extends Cl{constructor(){super("twitter.com")}static credential(g,w){return Ci._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class xr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,w,T=!1){return(0,u.Z)(function*(){const k=yield Tr._fromIdTokenResponse(f,w,T),H=Nt(w);return new xr({user:k,providerId:H,_tokenResponse:w,operationType:g})})()}static _forOperation(f,g,w){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=Nt(w);return new xr({user:f,providerId:T,_tokenResponse:w,operationType:g})})()}}function Nt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class Sa extends O.ZR{constructor(f,g,w,T){var k;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,g,w,T){return new Sa(f,g,w,T)}}function Od(y,f,g,w){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Sa._fromErrorAndOperation(y,k,f,w):k})}function Pd(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function zi(){return(zi=(0,u.Z)(function*(y,f){const g=(0,O.m9)(y);yield Kt(!0,g,f);const{providerUserInfo:w}=yield si(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Pd(w||[]);return g.providerData=g.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function bl(y,f){return xe.apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(y,f,g=!1){const w=yield st(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return xr._forOperation(y,"link",w)})).apply(this,arguments)}function Kt(y,f,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(y,f,g){yield rr(f);const T=!1===y?"provider-already-linked":"no-such-provider";ie(Pd(f.providerData).has(g)===y,f.auth,T)})).apply(this,arguments)}function Hu(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(y,f,g=!1){const{auth:w}=y,T="reauthenticate";try{const k=yield st(y,Od(w,T,f,y),g);ie(k.idToken,w,"internal-error");const H=Rn(k.idToken);ie(H,w,"internal-error");const{sub:X}=H;return ie(y.uid===X,w,"user-mismatch"),xr._forOperation(y,T,k)}catch(k){throw"auth/user-not-found"===k?.code&&be(w,"user-mismatch"),k}})).apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(y,f,g=!1){const w="signIn",T=yield Od(y,w,f),k=yield xr._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function $u(y,f){return zu.apply(this,arguments)}function zu(){return(zu=(0,u.Z)(function*(y,f){const g=(0,O.m9)(y);return yield Kt(!1,g,f.providerId),bl(g,f)})).apply(this,arguments)}function $n(y,f){return Df.apply(this,arguments)}function Df(){return(Df=(0,u.Z)(function*(y,f){return Hu((0,O.m9)(y),f)})).apply(this,arguments)}class Is{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?di._fromServerResponse(f,g):"totpInfo"in g?Ld._fromServerResponse(f,g):be(f,"internal-error")}}class di extends Is{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new di(g)}}class Ld extends Is{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Ld(g)}}function po(y,f,g){var w;ie((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ml(){return(Ml=(0,u.Z)(function*(y,f){const g=(0,O.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&po(g.auth,T,f);const{email:k}=yield mf(g.auth,T);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function mo(){return(mo=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&po(w.auth,k,g);const{email:H}=yield pm(w.auth,k);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ra(y,f){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,f){return ye(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ka(){return(ka=(0,u.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const w=(0,O.m9)(y),k={idToken:yield w.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},H=yield st(w,Ra(w.auth,k));w.displayName=H.displayName||null,w.photoURL=H.photoUrl||null;const X=w.providerData.find(({providerId:Pe})=>"password"===Pe);X&&(X.displayName=w.displayName,X.photoURL=w.photoURL),yield w._updateTokensIfNecessary(H)})).apply(this,arguments)}function Na(y,f,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(y,f,g){const{auth:w}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const H=yield st(y,Cd(w,k));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class qi{constructor(f,g,w={}){this.isNewUser=f,this.providerId=g,this.profile=w}}class Yu extends qi{constructor(f,g,w,T){super(f,g,w),this.username=T}}class $d extends qi{constructor(f,g){super(f,"facebook.com",g)}}class Tf extends Yu{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Qu extends qi{constructor(f,g){super(f,"google.com",g)}}class Rl extends Yu{constructor(f,g,w){super(f,"twitter.com",g,w)}}function kl(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Sf(y){var f,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const H=null===(g=null===(f=Rn(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new qi(k,"anonymous"!==H&&"custom"!==H?H:null)}if(!w)return null;switch(w){case"facebook.com":return new $d(k,T);case"github.com":return new Tf(k,T);case"google.com":return new Qu(k,T);case"twitter.com":return new Rl(k,T,y.screenName||null);case"custom":case"anonymous":return new qi(k,null);default:return new qi(k,w,T)}}(g)}class _o{constructor(f,g,w){this.type=f,this.credential=g,this.auth=w}static _fromIdtoken(f,g){return new _o("enroll",f,g)}static _fromMfaPendingCredential(f){return new _o("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,w;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return _o._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return _o._fromIdtoken(f.multiFactorSession.idToken)}return null}}class cs{constructor(f,g,w){this.session=f,this.hints=g,this.signInResolver=w}static _fromError(f,g){const w=An(f),T=g.customData._serverResponse,k=(T.mfaInfo||[]).map(X=>Is._fromServerResponse(w,X));ie(T.mfaPendingCredential,w,"internal-error");const H=_o._fromMfaPendingCredential(T.mfaPendingCredential);return new cs(H,k,function(){var X=(0,u.Z)(function*(Pe){const qe=yield Pe._process(w,H);delete T.mfaInfo,delete T.mfaPendingCredential;const tt=Object.assign(Object.assign({},T),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const ot=yield xr._fromIdTokenResponse(w,g.operationType,tt);return yield w._updateCurrentUser(ot.user),ot;case"reauthenticate":return ie(g.user,w,"internal-error"),xr._forOperation(g.user,g.operationType,tt);default:be(w,"internal-error")}});return function(Pe){return X.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function Fa(y,f){return ye(y,"POST","/v2/accounts/mfaEnrollment:start",ke(y,f))}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Is._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return _o._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var w=this;return(0,u.Z)(function*(){const T=f,k=yield w.getSession(),H=yield st(w.user,T._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(H),w.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const k=yield st(g.user,function ec(y,f){return ye(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ke(y,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==w),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const vo=new WeakMap;class Pl{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ds=(()=>{class y extends Pl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xf(){const y=(0,O.z$)();return ee(y)||pt(y)}()&&function ji(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),k=this.localCache[w];T!==k&&g(w,k,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((X,Pe,qe)=>{this.notifyListeners(X,qe)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(T);if(g.newValue!==X)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const k=()=>{const X=this.storage.getItem(T);!w&&this.localCache[T]===X||this.notifyListeners(T,X)},H=this.storage.getItem(T);!function Ar(){return(0,O.w1)()&&10===document.documentMode}()||H===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,k=this;return(0,u.Z)(function*(){yield T().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,u.Z)(function*(){const k=yield w().call(T,g);return T.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,T=this;return(0,u.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Eo=(()=>{class y extends Pl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();function hs(y="",f=10){let g="";for(let w=0;w<f;w++)g+=Math.floor(10*Math.random());return y+g}function Nn(){return window}function ir(y,f){return ye(y,"POST","/v2/accounts/mfaSignIn:start",ke(y,f))}const Hl="recaptcha";class sc{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Fr._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Gl(){return(Gl=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y);yield Kt(!1,w,"phone");const T=yield Wl(w.auth,f,(0,O.m9)(g));return new sc(T,k=>$u(w,k))})).apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y),T=yield Wl(w.auth,f,(0,O.m9)(g));return new sc(T,k=>$n(w,k))})).apply(this,arguments)}function Wl(y,f,g){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(y,f,g){var w;const T=yield g.verify();try{let k;if(ie("string"==typeof T,y,"argument-error"),ie(g.type===Hl,y,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const H=k.session;if("phoneNumber"in k)return ie("enroll"===H.type,y,"internal-error"),(yield Fa(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ie("signin"===H.type,y,"internal-error");const X=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return ie(X,y,"missing-multi-factor-info"),(yield ir(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Rd(y,{phoneNumber:k.phoneNumber,recaptchaToken:T});return H}}finally{g._reset()}})).apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(y,f){yield bl((0,O.m9)(y),f)})).apply(this,arguments)}let wn=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=An(g)}verifyPhoneNumber(g,w){return Wl(this.auth,g,(0,O.m9)(w))}static credential(g,w){return Fr._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?Fr._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function On(y,f){return f?Wn(f):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Br extends Cs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return $i(f,this._buildIdpRequest())}_linkToIdToken(f,g){return $i(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return $i(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function $a(y){return function Sl(y,f){return fo.apply(this,arguments)}(y.auth,new Br(y),y.bypassAuthState)}function Xr(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),Hu(g,new Br(y),y.bypassAuthState)}function Zl(y){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),bl(g,new Br(y),y.bypassAuthState)})).apply(this,arguments)}class Do{constructor(f,g,w,T,k=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:k,tenantId:H,error:X,type:Pe}=f;if(X)return void g.reject(X);const qe={auth:g.auth,requestUri:w,sessionId:T,tenantId:H||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Pe)(qe))}catch(tt){g.reject(tt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return $a;case"linkViaPopup":case"linkViaRedirect":return Zl;case"reauthViaPopup":case"reauthViaRedirect":return Xr;default:be(this.auth,"internal-error")}}resolve(f){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jr=new ss(2e3,1e4);function Mt(){return(Mt=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y);$e(w.auth,f,bs);const T=On(w.auth,g);return new Yl(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y);$e(w.auth,f,bs);const T=On(w.auth,g);return new Yl(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let Yl=(()=>{class y extends Do{constructor(g,w,T,k,H){super(g,w,k,H),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const w=yield g.execute();return ie(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,u.Z)(function*(){ht(1===g.filter.length,"Popup operations only handle one event");const w=hs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,jr.get())};g()}}return y.currentPopupAction=null,y})();const Gn=new Map;class Qd extends Do{constructor(f,g,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let w=Gn.get(g.auth._key());if(!w){try{const k=(yield function Ki(y,f){return oc.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;w=()=>Promise.resolve(k)}catch(T){w=()=>Promise.reject(T)}Gn.set(g.auth._key(),w)}return g.bypassAuthState||Gn.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,g().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function oc(){return(oc=(0,u.Z)(function*(y,f){const g=Ga(f),w=ks(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function Io(y,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(y,f){return ks(y)._set(Ga(f),"true")})).apply(this,arguments)}function Rs(y,f){Gn.set(y._key(),f)}function ks(y){return Wn(y._redirectPersistence)}function Ga(y){return B("pendingRedirect",y.config.apiKey,y.name)}function pr(){return(pr=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y);$e(w.auth,f,bs),yield w.auth._initializationPromise;const T=On(w.auth,g);yield Io(T,w.auth);const k=yield Ws(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(y,f,g){const w=(0,O.m9)(y);$e(w.auth,f,bs),yield w.auth._initializationPromise;const T=On(w.auth,g);yield Kt(!1,w,f.providerId),yield Io(T,w.auth);const k=yield Ws(w);return T._openRedirect(w.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Hr(y,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(y,f,g=!1){const w=An(y),T=On(w,f),H=yield new Qd(w,T,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield w._persistUserIfCurrent(H.user),yield w._setRedirectUser(null,f)),H})).apply(this,arguments)}function Ws(y){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(y){const f=hs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Qi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(g=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function fs(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gr(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var w;if(f.error&&!gr(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const w=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ji(f))}saveEventToCache(f){this.cachedEventUids.add(Ji(f)),this.lastProcessedEventTime=Date.now()}}function Ji(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function gr({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Hf(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(y,f={}){return ye(y,"GET","/v1/projects",f)})).apply(this,arguments)}const $f=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zf=/^https?/;function To(){return(To=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Hf(y);for(const g of f)try{if(uc(g))return}catch{}be(y,"unauthorized-domain")})).apply(this,arguments)}function uc(y){const f=Zt(),{protocol:g,hostname:w}=new URL(f);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===w}if(!zf.test(g))return!1;if($f.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const Yt=new ss(3e4,6e4);function Wa(){const y=Nn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ns=null;function Ks(y){return Ns=Ns||function aa(y){return new Promise((f,g)=>{var w,T,k;function H(){Wa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Wa(),g(ve(y,"network-request-failed"))},timeout:Yt.get()})}if(null!==(T=null===(w=Nn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(k=Nn().gapi)||void 0===k||!k.load){const X=function Ei(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return Nn()[X]=()=>{gapi.load?H():g(ve(y,"network-request-failed"))},function Mr(y){return new Promise((f,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=f,w.onerror=T=>{const k=ve("internal-error");k.customData=T,g(k)},w.type="text/javascript",w.charset="UTF-8",function Qt(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(w)})}(`https://apis.google.com/js/api.js?onload=${X}`).catch(Pe=>g(Pe))}H()}}).catch(f=>{throw Ns=null,f})}(y),Ns}const Xd=new ss(5e3,15e3),cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function By(y){const f=y.config;ie(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?se(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},T=Xi.get(y.config.apiHost);T&&(w.eid=T);const k=y._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,O.xO)(w).slice(1)}`}function b(){return b=(0,u.Z)(function*(y){const f=yield Ks(y),g=Nn().gapi;return ie(g,y,"internal-error"),f.open({where:document.body,url:By(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cc,dontclear:!0},w=>new Promise(function(){var T=(0,u.Z)(function*(k,H){yield w.restyle({setHideOnLeave:!1});const X=ve(y,"network-request-failed"),Pe=Nn().setTimeout(()=>{H(X)},Xd.get());function qe(){Nn().clearTimeout(Pe),k(w)}w.ping(qe).then(qe,()=>{H(X)})});return function(k,H){return T.apply(this,arguments)}}()))}),b.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ke{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ze(y,f,g,w=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),H=Math.max((window.screen.availWidth-w)/2,0).toString();let X="";const Pe=Object.assign(Object.assign({},R),{width:w.toString(),height:T.toString(),top:k,left:H}),qe=(0,O.z$)().toLowerCase();g&&(X=function Ze(y=(0,O.z$)()){return/crios\//i.test(y)}(qe)?"_blank":g),function de(y=(0,O.z$)()){return/firefox\//i.test(y)}(qe)&&(f=f||"http://localhost",Pe.scrollbars="yes");const tt=Object.entries(Pe).reduce((Ln,[ts,Ec])=>`${Ln}${ts}=${Ec},`,"");if(function _n(y=(0,O.z$)()){var f;return pt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(qe)&&"_self"!==X)return function gt(y,f){const g=document.createElement("a");g.href=y,g.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(f||"",X),new Ke(null);const ot=window.open(f||"",X,tt);ie(ot,y,"popup-blocked");try{ot.focus()}catch{}return new Ke(ot)}const kr=encodeURIComponent("fac");function En(y,f,g,w,T,k){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(y,f,g,w,T,k){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:T};if(f instanceof bs){f.setDefaultLanguage(y.languageCode),H.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(H.customParameters=JSON.stringify(f.getCustomParameters()));for(const[tt,ot]of Object.entries(k||{}))H[tt]=ot}if(f instanceof Cl){const tt=f.getScopes().filter(ot=>""!==ot);tt.length>0&&(H.scopes=tt.join(","))}y.tenantId&&(H.tid=y.tenantId);const X=H;for(const tt of Object.keys(X))void 0===X[tt]&&delete X[tt];const Pe=yield y._getAppCheckToken(),qe=Pe?`#${kr}=${encodeURIComponent(Pe)}`:"";return`${es(y)}?${(0,O.xO)(X).slice(1)}${qe}`})).apply(this,arguments)}function es({config:y}){return y.emulator?se(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const Ys="webStorageSupport";function ua(){return window}function fc(){return(fc=(0,u.Z)(function*(y,f,g){var w;const{BuildInfo:T}=ua();ht(f.sessionId,"AuthEvent did not contain a session ID");const k=yield Hy(f.sessionId),H={};return pt()?H.ibi=T.packageName:Bt()?H.apn=T.packageName:be(y,"operation-not-supported-in-this-environment"),T.displayName&&(H.appDisplayName=T.displayName),H.sessionId=k,En(y,g,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,H)})).apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(y){const{BuildInfo:f}=ua(),g={};pt()?g.iosBundleId=f.packageName:Bt()?g.androidPackageName=f.packageName:be(y,"operation-not-supported-in-this-environment"),yield Hf(y,g)})).apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(y,f,g){const{cordova:w}=ua();let T=()=>{};try{yield new Promise((k,H)=>{let X=null;function Pe(){var ot;k();const Ln=null===(ot=w.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof Ln&&Ln(),"function"==typeof g?.close&&g.close()}function qe(){X||(X=window.setTimeout(()=>{H(ve(y,"redirect-cancelled-by-user"))},2e3))}function tt(){"visible"===document?.visibilityState&&qe()}f.addPassiveListener(Pe),document.addEventListener("resume",qe,!1),Bt()&&document.addEventListener("visibilitychange",tt,!1),T=()=>{f.removePassiveListener(Pe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",tt,!1),X&&window.clearTimeout(X)}})}finally{T()}})).apply(this,arguments)}function Hy(y){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,u.Z)(function*(y){const f=$y(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $y(y){if(ht(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}class Ya extends Qi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function Yf(y){return ih.apply(this,arguments)}function ih(){return(ih=(0,u.Z)(function*(y){const f=yield Ao()._get(gc(y));return f&&(yield Ao()._remove(gc(y))),f})).apply(this,arguments)}function Sm(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*f.length);y.push(f.charAt(w))}return y.join("")}function Ao(){return Wn(ds)}function gc(y){return B("authEvent",y.config.apiKey,y.name)}function Xa(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function oh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function Fs(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function op(){return function lh(y=(0,O.z$)()){return!("file:"!==Fs()&&"ionic:"!==Fs()&&"capacitor:"!==Fs()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function au(){return(au=(0,u.Z)(function*(){return!!op()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ch="persistence";function Ls(y){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(y){yield y._initializationPromise;const f=dh(),g=B(ch,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function dh(){var y;try{return(null===(y=function uh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const hh=ie;class ei{constructor(){this.browserResolver=Wn(class Er{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eo,this._completeRedirectFn=Hr,this._overrideRedirectResult=Rs}_openPopup(f,g,w,T){var k=this;return(0,u.Z)(function*(){var H;ht(null===(H=k.eventManagers[f._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=yield En(f,g,w,Zt(),T);return ze(f,X,hs())})()}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k._originValidation(f),function tc(y){Nn().location.href=y}(yield En(f,g,w,Zt(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:k}=this.eventManagers[g];return T?Promise.resolve(T):(ht(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(f);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const w=yield function E(y){return b.apply(this,arguments)}(f),T=new Qi(f);return w.register("authEvent",k=>(ie(k?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Ys,{type:Ys},T=>{var k;const H=null===(k=T?.[0])||void 0===k?void 0:k[Ys];void 0!==H&&g(!!H),be(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function lc(y){return To.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return yn()||ee()||pt()}}),this.cordovaResolver=Wn(class Jf{constructor(){this._redirectPersistence=Eo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hr,this._overrideRedirectResult=Rs}_initialize(f){var g=this;return(0,u.Z)(function*(){const w=f._key();let T=g.eventManagers.get(w);return T||(T=new Ya(f),g.eventManagers.set(w,T),g.attachCallbackListeners(f,T)),T})()}_openPopup(f){be(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){!function fE(y){var f,g,w,T,k,H,X,Pe,qe,tt;const ot=ua();ie("function"==typeof(null===(f=ot?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(g=ot?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(k=null===(T=null===(w=ot?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Pe=null===(X=null===(H=ot?.cordova)||void 0===H?void 0:H.plugins)||void 0===X?void 0:X.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(tt=null===(qe=ot?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===tt?void 0:tt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const H=yield k._initialize(f);yield H.initialized(),H.resetRedirect(),function Bf(){Gn.clear()}(),yield k._originValidation(f);const X=function Qa(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Sm(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,w,T);yield function rh(y,f){return Ao()._set(gc(y),f)}(f,X);const Pe=yield function iu(y,f,g){return fc.apply(this,arguments)}(f,X,g),qe=yield function Zf(y){const{cordova:f}=ua();return new Promise(g=>{f.plugins.browsertab.isAvailable(w=>{let T=null;w?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function Ct(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Pe);return function Ka(y,f,g){return pc.apply(this,arguments)}(f,H,qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nh(y){return su.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:k}=ua(),H=setTimeout((0,u.Z)(function*(){yield Yf(f),g.onEvent(oh())}),500),X=function(){var tt=(0,u.Z)(function*(ot){clearTimeout(H);const Ln=yield Yf(f);let ts=null;Ln&&ot?.url&&(ts=function Ja(y,f){var g,w;const T=function Qf(y){const f=Xa(y),g=f.link?decodeURIComponent(f.link):void 0,w=Xa(g).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Xa(T).link||T||w||g||y}(f);if(T.includes("/__/auth/callback")){const k=Xa(T),H=k.firebaseError?function Tm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(k.firebaseError)):null,X=null===(w=null===(g=H?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Pe=X?ve(X):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Ln,ot.url)),g.onEvent(ts||oh())});return function(Ln){return tt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,X);const Pe=T,qe=`${k.packageName.toLowerCase()}://`;ua().handleOpenURL=function(){var tt=(0,u.Z)(function*(ot){if(ot.toLowerCase().startsWith(qe)&&X({url:ot}),"function"==typeof Pe)try{Pe(ot)}catch(Ln){console.error(Ln)}});return function(ot){return tt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Eo,this._completeRedirectFn=Hr,this._overrideRedirectResult=Rs}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,w,T)})()}_openRedirect(f,g,w,T){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,w,T)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return op()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ap(){return au.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function fh(y){return y.unwrap()}function _c(y){return ph(y)}function ph(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return wn.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Bu;break;case"facebook.com":w=Jr;break;case"github.com":w=Dl;break;case"twitter.com":w=ju;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:H,pendingToken:X,nonce:Pe}=f;return k||H||T||X?X?g.startsWith("saml.")?Yn._create(g,X):Ci._fromParams({providerId:g,signInMethod:g,pendingToken:X,idToken:T,accessToken:k}):new Di(g).credential({idToken:T,accessToken:k,rawNonce:Pe}):null}return y instanceof O.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function fi(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function lp(y,f){var g;const w=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Gy(y,function Ol(y,f){var g;const w=(0,O.m9)(y),T=f;return ie(f.customData.operationType,w,"argument-error"),ie(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),cs._fromError(w,T)}(y,f));else if(w){const T=ph(f),k=f;T&&(k.credential=T,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:_c(g),additionalUserInfo:kl(g),user:mr.getOrCreate(T)}})}function yc(y,f){return vc.apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:w=>fi(y,g.confirm(w))}})).apply(this,arguments)}class Gy{constructor(f,g){this.resolver=g,this.auth=function Rm(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return fi(fh(this.auth),this.resolver.resolveSignIn(f))}}class mr{constructor(f){this._delegate=f,this.multiFactor=function La(y){const f=(0,O.m9)(y);return vo.has(f)||vo.set(f,yo._fromUser(f)),vo.get(f)}(f)}static getOrCreate(f){return mr.USER_MAP.has(f)||mr.USER_MAP.set(f,new mr(f)),mr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return fi(g.auth,$u(g._delegate,f))})()}linkWithPhoneNumber(f,g){var w=this;return(0,u.Z)(function*(){return yc(w.auth,function Em(y,f,g){return Gl.apply(this,arguments)}(w._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return fi(g.auth,function Yd(y,f,g){return bo.apply(this,arguments)}(g._delegate,f,ei))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Ls(An(g.auth)),function Jl(y,f,g){return function jf(y,f,g){return sr.apply(this,arguments)}(y,f,g)}(g._delegate,f,ei)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return fi(g.auth,$n(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return yc(this.auth,function Kd(y,f,g){return ql.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return fi(this.auth,function ra(y,f,g){return Mt.apply(this,arguments)}(this._delegate,f,ei))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield Ls(An(g.auth)),function Yi(y,f,g){return function ac(y,f,g){return pr.apply(this,arguments)}(y,f,g)}(g._delegate,f,ei)})()}sendEmailVerification(f){return function jd(y,f){return Ml.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function Fd(y,f){return zi.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function If(y,f){return Na((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Ts(y,f){return Na((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Zi(y,f){return lt.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Hd(y,f){return ka.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Ku(y,f,g){return mo.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mr.USER_MAP=new WeakMap;class cp{constructor(){this.providerId="phone",this._delegate=new wn(fh(te.Z.auth()))}static credential(f,g){return wn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}cp.PHONE_SIGN_IN_METHOD=wn.PHONE_SIGN_IN_METHOD,cp.PROVIDER_ID=wn.PROVIDER_ID},1877:(wt,Re,F)=>{F.d(Re,{Am:()=>_e,Ub:()=>Ie,Yd:()=>fe,in:()=>te});const u=[];var te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ue=te.INFO,ce={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},me=(G,z,...K)=>{if(z<G.logLevel)return;const Ge=(new Date).toISOString(),Oe=ce[z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Oe](`[${Ge}]  ${G.name}:`,...K)};class fe{constructor(z){this.name=z,this._logLevel=ue,this._logHandler=me,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in te))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?O[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...z),this._logHandler(this,te.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...z),this._logHandler(this,te.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,te.INFO,...z),this._logHandler(this,te.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,te.WARN,...z),this._logHandler(this,te.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...z),this._logHandler(this,te.ERROR,...z)}}function Ie(G){u.forEach(z=>{z.setLogLevel(G)})}function _e(G,z){for(const K of u){let Ge=null;z&&z.level&&(Ge=O[z.level]),K.userLogHandler=null===G?null:(Oe,Te,...rt)=>{const Ce=rt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");Te>=(Ge??Oe.logLevel)&&G({level:te[Te].toLowerCase(),message:Ce,args:rt,type:Oe.name})}}}},5861:(wt,Re,F)=>{function u(O,ue,ce,me,fe,Ie,_e){try{var G=O[Ie](_e),z=G.value}catch(K){return void ce(K)}G.done?ue(z):Promise.resolve(z).then(me,fe)}function te(O){return function(){var ue=this,ce=arguments;return new Promise(function(me,fe){var Ie=O.apply(ue,ce);function _e(z){u(Ie,me,fe,_e,G,"next",z)}function G(z){u(Ie,me,fe,_e,G,"throw",z)}_e(void 0)})}}F.d(Re,{Z:()=>te})},7582:(wt,Re,F)=>{function ue(se,ne){var Ae={};for(var Se in se)Object.prototype.hasOwnProperty.call(se,Se)&&ne.indexOf(Se)<0&&(Ae[Se]=se[Se]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Se=Object.getOwnPropertySymbols(se);ke<Se.length;ke++)ne.indexOf(Se[ke])<0&&Object.prototype.propertyIsEnumerable.call(se,Se[ke])&&(Ae[Se[ke]]=se[Se[ke]])}return Ae}function K(se,ne,Ae,Se){return new(Ae||(Ae=Promise))(function(ye,ft){function Pt(Xt){try{It(Se.next(Xt))}catch(Pn){ft(Pn)}}function hn(Xt){try{It(Se.throw(Xt))}catch(Pn){ft(Pn)}}function It(Xt){Xt.done?ye(Xt.value):function ke(ye){return ye instanceof Ae?ye:new Ae(function(ft){ft(ye)})}(Xt.value).then(Pt,hn)}It((Se=Se.apply(se,ne||[])).next())})}function Le(se){return this instanceof Le?(this.v=se,this):new Le(se)}function be(se,ne,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Se=Ae.apply(se,ne||[]),ye=[];return ke={},ft("next"),ft("throw"),ft("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ft(Tn){Se[Tn]&&(ke[Tn]=function(qn){return new Promise(function(nr,Xn){ye.push([Tn,qn,nr,Xn])>1||Pt(Tn,qn)})})}function Pt(Tn,qn){try{!function hn(Tn){Tn.value instanceof Le?Promise.resolve(Tn.value.v).then(It,Xt):Pn(ye[0][2],Tn)}(Se[Tn](qn))}catch(nr){Pn(ye[0][3],nr)}}function It(Tn){Pt("next",Tn)}function Xt(Tn){Pt("throw",Tn)}function Pn(Tn,qn){Tn(qn),ye.shift(),ye.length&&Pt(ye[0][0],ye[0][1])}}function We(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ne=se[Symbol.asyncIterator];return ne?ne.call(se):(se=function rt(se){var ne="function"==typeof Symbol&&Symbol.iterator,Ae=ne&&se[ne],Se=0;if(Ae)return Ae.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Se>=se.length&&(se=void 0),{value:se&&se[Se++],done:!se}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ae={},Se("next"),Se("throw"),Se("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function Se(ye){Ae[ye]=se[ye]&&function(ft){return new Promise(function(Pt,hn){!function ke(ye,ft,Pt,hn){Promise.resolve(hn).then(function(It){ye({value:It,done:Pt})},ft)}(Pt,hn,(ft=se[ye](ft)).done,ft.value)})}}}F.d(Re,{FC:()=>be,KL:()=>We,_T:()=>ue,mG:()=>K,qq:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},wt=>{wt(wt.s=6029)}]);